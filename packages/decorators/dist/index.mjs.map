{"version":3,"file":"index.mjs","names":["Reflect","metadataRegistry","metadata","OrdinaryDefineOwnMetadata","OrdinaryHasOwnMetadata","OrdinaryGetOwnMetadata","OrdinaryOwnMetadataKeys","defineMetadata","hasOwnMetadata","getOwnMetadata","getOwnMetadataKeys","deleteMetadata","MapIterator","Map","Set","WeakMap","Controller"],"sources":["../../../node_modules/.pnpm/reflect-metadata@0.2.2/node_modules/reflect-metadata/Reflect.js","../src/controller.ts","../src/rest.ts","../src/websocket.ts"],"sourcesContent":["/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof globalThis === \"object\" ? globalThis :\n            typeof global === \"object\" ? global :\n                typeof self === \"object\" ? self :\n                    typeof this === \"object\" ? this :\n                        sloppyModeThis();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect !== \"undefined\") {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter, root);\n        if (typeof root.Reflect === \"undefined\") {\n            root.Reflect = Reflect;\n        }\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                if (previous)\n                    previous(key, value);\n            };\n        }\n        function functionThis() {\n            try {\n                return Function(\"return this;\")();\n            }\n            catch (_) { }\n        }\n        function indirectEvalThis() {\n            try {\n                return (void 0, eval)(\"(function() { return this; })()\");\n            }\n            catch (_) { }\n        }\n        function sloppyModeThis() {\n            return functionThis() || indirectEvalThis();\n        }\n    })(function (exporter, root) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === \"function\";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var _Map = typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n        var _Set = typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n        var _WeakMap = typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n        var registrySymbol = supportsSymbol ? Symbol.for(\"@reflect-metadata:registry\") : undefined;\n        var metadataRegistry = GetOrCreateMetadataRegistry();\n        var metadataProvider = CreateMetadataProvider(metadataRegistry);\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, \"staticMethod\",\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, \"method\",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter(\"decorate\", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter(\"metadata\", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter(\"defineMetadata\", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasMetadata\", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getMetadata\", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getOwnMetadata\", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getMetadataKeys\", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var provider = GetMetadataProvider(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(provider))\n                return false;\n            return provider.OrdinaryDeleteMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"deleteMetadata\", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var provider = GetMetadataProvider(O, P, /*Create*/ false);\n            if (IsUndefined(provider))\n                return false;\n            return ToBoolean(provider.OrdinaryHasOwnMetadata(MetadataKey, O, P));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var provider = GetMetadataProvider(O, P, /*Create*/ false);\n            if (IsUndefined(provider))\n                return;\n            return provider.OrdinaryGetOwnMetadata(MetadataKey, O, P);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var provider = GetMetadataProvider(O, P, /*Create*/ true);\n            provider.OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var provider = GetMetadataProvider(O, P, /*create*/ false);\n            if (!provider) {\n                return [];\n            }\n            return provider.OrdinaryOwnMetadataKeys(O, P);\n        }\n        // 6 ECMAScript Data Types and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case \"undefined\": return 0 /* Undefined */;\n                case \"boolean\": return 2 /* Boolean */;\n                case \"string\": return 3 /* String */;\n                case \"symbol\": return 4 /* Symbol */;\n                case \"number\": return 5 /* Number */;\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === \"symbol\";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === \"string\") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return \"\" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        function SameValueZero(x, y) {\n            return x === y || x !== x && y !== y;\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator[\"return\"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== \"function\" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== \"function\")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // Global metadata registry\n        // - Allows `import \"reflect-metadata\"` and `import \"reflect-metadata/no-conflict\"` to interoperate.\n        // - Uses isolated metadata if `Reflect` is frozen before the registry can be installed.\n        /**\n         * Creates a registry used to allow multiple `reflect-metadata` providers.\n         */\n        function CreateMetadataRegistry() {\n            var fallback;\n            if (!IsUndefined(registrySymbol) &&\n                typeof root.Reflect !== \"undefined\" &&\n                !(registrySymbol in root.Reflect) &&\n                typeof root.Reflect.defineMetadata === \"function\") {\n                // interoperate with older version of `reflect-metadata` that did not support a registry.\n                fallback = CreateFallbackProvider(root.Reflect);\n            }\n            var first;\n            var second;\n            var rest;\n            var targetProviderMap = new _WeakMap();\n            var registry = {\n                registerProvider: registerProvider,\n                getProvider: getProvider,\n                setProvider: setProvider,\n            };\n            return registry;\n            function registerProvider(provider) {\n                if (!Object.isExtensible(registry)) {\n                    throw new Error(\"Cannot add provider to a frozen registry.\");\n                }\n                switch (true) {\n                    case fallback === provider: break;\n                    case IsUndefined(first):\n                        first = provider;\n                        break;\n                    case first === provider: break;\n                    case IsUndefined(second):\n                        second = provider;\n                        break;\n                    case second === provider: break;\n                    default:\n                        if (rest === undefined)\n                            rest = new _Set();\n                        rest.add(provider);\n                        break;\n                }\n            }\n            function getProviderNoCache(O, P) {\n                if (!IsUndefined(first)) {\n                    if (first.isProviderFor(O, P))\n                        return first;\n                    if (!IsUndefined(second)) {\n                        if (second.isProviderFor(O, P))\n                            return first;\n                        if (!IsUndefined(rest)) {\n                            var iterator = GetIterator(rest);\n                            while (true) {\n                                var next = IteratorStep(iterator);\n                                if (!next) {\n                                    return undefined;\n                                }\n                                var provider = IteratorValue(next);\n                                if (provider.isProviderFor(O, P)) {\n                                    IteratorClose(iterator);\n                                    return provider;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (!IsUndefined(fallback) && fallback.isProviderFor(O, P)) {\n                    return fallback;\n                }\n                return undefined;\n            }\n            function getProvider(O, P) {\n                var providerMap = targetProviderMap.get(O);\n                var provider;\n                if (!IsUndefined(providerMap)) {\n                    provider = providerMap.get(P);\n                }\n                if (!IsUndefined(provider)) {\n                    return provider;\n                }\n                provider = getProviderNoCache(O, P);\n                if (!IsUndefined(provider)) {\n                    if (IsUndefined(providerMap)) {\n                        providerMap = new _Map();\n                        targetProviderMap.set(O, providerMap);\n                    }\n                    providerMap.set(P, provider);\n                }\n                return provider;\n            }\n            function hasProvider(provider) {\n                if (IsUndefined(provider))\n                    throw new TypeError();\n                return first === provider || second === provider || !IsUndefined(rest) && rest.has(provider);\n            }\n            function setProvider(O, P, provider) {\n                if (!hasProvider(provider)) {\n                    throw new Error(\"Metadata provider not registered.\");\n                }\n                var existingProvider = getProvider(O, P);\n                if (existingProvider !== provider) {\n                    if (!IsUndefined(existingProvider)) {\n                        return false;\n                    }\n                    var providerMap = targetProviderMap.get(O);\n                    if (IsUndefined(providerMap)) {\n                        providerMap = new _Map();\n                        targetProviderMap.set(O, providerMap);\n                    }\n                    providerMap.set(P, provider);\n                }\n                return true;\n            }\n        }\n        /**\n         * Gets or creates the shared registry of metadata providers.\n         */\n        function GetOrCreateMetadataRegistry() {\n            var metadataRegistry;\n            if (!IsUndefined(registrySymbol) && IsObject(root.Reflect) && Object.isExtensible(root.Reflect)) {\n                metadataRegistry = root.Reflect[registrySymbol];\n            }\n            if (IsUndefined(metadataRegistry)) {\n                metadataRegistry = CreateMetadataRegistry();\n            }\n            if (!IsUndefined(registrySymbol) && IsObject(root.Reflect) && Object.isExtensible(root.Reflect)) {\n                Object.defineProperty(root.Reflect, registrySymbol, {\n                    enumerable: false,\n                    configurable: false,\n                    writable: false,\n                    value: metadataRegistry\n                });\n            }\n            return metadataRegistry;\n        }\n        function CreateMetadataProvider(registry) {\n            // [[Metadata]] internal slot\n            // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n            var metadata = new _WeakMap();\n            var provider = {\n                isProviderFor: function (O, P) {\n                    var targetMetadata = metadata.get(O);\n                    if (IsUndefined(targetMetadata))\n                        return false;\n                    return targetMetadata.has(P);\n                },\n                OrdinaryDefineOwnMetadata: OrdinaryDefineOwnMetadata,\n                OrdinaryHasOwnMetadata: OrdinaryHasOwnMetadata,\n                OrdinaryGetOwnMetadata: OrdinaryGetOwnMetadata,\n                OrdinaryOwnMetadataKeys: OrdinaryOwnMetadataKeys,\n                OrdinaryDeleteMetadata: OrdinaryDeleteMetadata,\n            };\n            metadataRegistry.registerProvider(provider);\n            return provider;\n            function GetOrCreateMetadataMap(O, P, Create) {\n                var targetMetadata = metadata.get(O);\n                var createdTargetMetadata = false;\n                if (IsUndefined(targetMetadata)) {\n                    if (!Create)\n                        return undefined;\n                    targetMetadata = new _Map();\n                    metadata.set(O, targetMetadata);\n                    createdTargetMetadata = true;\n                }\n                var metadataMap = targetMetadata.get(P);\n                if (IsUndefined(metadataMap)) {\n                    if (!Create)\n                        return undefined;\n                    metadataMap = new _Map();\n                    targetMetadata.set(P, metadataMap);\n                    if (!registry.setProvider(O, P, provider)) {\n                        targetMetadata.delete(P);\n                        if (createdTargetMetadata) {\n                            metadata.delete(O);\n                        }\n                        throw new Error(\"Wrong provider for target.\");\n                    }\n                }\n                return metadataMap;\n            }\n            // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n            // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n            function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n                var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n                if (IsUndefined(metadataMap))\n                    return false;\n                return ToBoolean(metadataMap.has(MetadataKey));\n            }\n            // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n            // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n            function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n                var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n                if (IsUndefined(metadataMap))\n                    return undefined;\n                return metadataMap.get(MetadataKey);\n            }\n            // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n            // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n            function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n                var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n                metadataMap.set(MetadataKey, MetadataValue);\n            }\n            // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n            // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n            function OrdinaryOwnMetadataKeys(O, P) {\n                var keys = [];\n                var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n                if (IsUndefined(metadataMap))\n                    return keys;\n                var keysObj = metadataMap.keys();\n                var iterator = GetIterator(keysObj);\n                var k = 0;\n                while (true) {\n                    var next = IteratorStep(iterator);\n                    if (!next) {\n                        keys.length = k;\n                        return keys;\n                    }\n                    var nextValue = IteratorValue(next);\n                    try {\n                        keys[k] = nextValue;\n                    }\n                    catch (e) {\n                        try {\n                            IteratorClose(iterator);\n                        }\n                        finally {\n                            throw e;\n                        }\n                    }\n                    k++;\n                }\n            }\n            function OrdinaryDeleteMetadata(MetadataKey, O, P) {\n                var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n                if (IsUndefined(metadataMap))\n                    return false;\n                if (!metadataMap.delete(MetadataKey))\n                    return false;\n                if (metadataMap.size === 0) {\n                    var targetMetadata = metadata.get(O);\n                    if (!IsUndefined(targetMetadata)) {\n                        targetMetadata.delete(P);\n                        if (targetMetadata.size === 0) {\n                            metadata.delete(targetMetadata);\n                        }\n                    }\n                }\n                return true;\n            }\n        }\n        function CreateFallbackProvider(reflect) {\n            var defineMetadata = reflect.defineMetadata, hasOwnMetadata = reflect.hasOwnMetadata, getOwnMetadata = reflect.getOwnMetadata, getOwnMetadataKeys = reflect.getOwnMetadataKeys, deleteMetadata = reflect.deleteMetadata;\n            var metadataOwner = new _WeakMap();\n            var provider = {\n                isProviderFor: function (O, P) {\n                    var metadataPropertySet = metadataOwner.get(O);\n                    if (!IsUndefined(metadataPropertySet) && metadataPropertySet.has(P)) {\n                        return true;\n                    }\n                    if (getOwnMetadataKeys(O, P).length) {\n                        if (IsUndefined(metadataPropertySet)) {\n                            metadataPropertySet = new _Set();\n                            metadataOwner.set(O, metadataPropertySet);\n                        }\n                        metadataPropertySet.add(P);\n                        return true;\n                    }\n                    return false;\n                },\n                OrdinaryDefineOwnMetadata: defineMetadata,\n                OrdinaryHasOwnMetadata: hasOwnMetadata,\n                OrdinaryGetOwnMetadata: getOwnMetadata,\n                OrdinaryOwnMetadataKeys: getOwnMetadataKeys,\n                OrdinaryDeleteMetadata: deleteMetadata,\n            };\n            return provider;\n        }\n        /**\n         * Gets the metadata provider for an object. If the object has no metadata provider and this is for a create operation,\n         * then this module's metadata provider is assigned to the object.\n         */\n        function GetMetadataProvider(O, P, Create) {\n            var registeredProvider = metadataRegistry.getProvider(O, P);\n            if (!IsUndefined(registeredProvider)) {\n                return registeredProvider;\n            }\n            if (Create) {\n                if (metadataRegistry.setProvider(O, P, metadataProvider)) {\n                    return metadataProvider;\n                }\n                throw new Error(\"Illegal state.\");\n            }\n            return undefined;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            var Map = /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, \"size\", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (SameValueZero(key, this._cacheKey)) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (!SameValueZero(this._cacheKey, key)) {\n                        this._cacheIndex = -1;\n                        for (var i = 0; i < this._keys.length; i++) {\n                            if (SameValueZero(this._keys[i], key)) {\n                                this._cacheIndex = i;\n                                break;\n                            }\n                        }\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            return Map;\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            var Set = /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, \"size\", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.keys(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n            return Set;\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = \"@@WeakMap@@\" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === \"function\") {\n                    var array = new Uint8Array(size);\n                    if (typeof crypto !== \"undefined\") {\n                        crypto.getRandomValues(array);\n                    }\n                    else if (typeof msCrypto !== \"undefined\") {\n                        msCrypto.getRandomValues(array);\n                    }\n                    else {\n                        FillRandomBytes(array, size);\n                    }\n                    return array;\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122  4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = \"\";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += \"-\";\n                    if (byte < 16)\n                        result += \"0\";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n","import type { RequestHandler, Router, Request } from \"express\";\nimport type { WebSocket } from \"ws\";\n\nimport \"reflect-metadata\";\n\nexport type HttpMethod = \"get\" | \"post\" | \"put\" | \"delete\" | \"patch\" | \"options\" | \"head\" | \"ws\";\n\ntype ControllerInstance = {\n  [key: string]: any;\n};\n\nexport type ControllerConstructor = {\n  new (...args: any[]): ControllerInstance;\n  prototype: ControllerInstance;\n};\n\nexport function registerController(\n  router: Router,\n  Controller: ControllerConstructor,\n  dependencies: unknown[] = []\n): void {\n  // Create the controller instance with dependencies\n  const instance = new Controller(...dependencies);\n\n  // Determine if it's a WebSocket controller or REST controller by checking\n  // if it has any methods with the \"ws\" method metadata\n  const isWebsocket = Object.getOwnPropertyNames(Controller.prototype).some((methodName) => {\n    if (methodName === \"constructor\") return false;\n    return Reflect.getMetadata(\"method\", instance, methodName) === \"ws\";\n  });\n\n  if (isWebsocket) {\n    // Register as WebSocket controller\n    // Pass the existing instance with dependencies to avoid creating a new instance without them\n    registerWebSocketController(router, Controller, instance);\n  } else {\n    // Register as REST controller with the existing instance\n    registerRestController(router, Controller, instance);\n  }\n}\n\nfunction registerRestController(\n  router: Router,\n  Controller: ControllerConstructor,\n  existingInstance?: ControllerInstance\n): void {\n  const instance = existingInstance || new Controller();\n  const baseRoute = Reflect.getMetadata(\"baseRoute\", Controller) as string;\n\n  Object.getOwnPropertyNames(Controller.prototype).forEach((methodName) => {\n    if (methodName === \"constructor\") return; // Skip the constructor\n\n    const method = Reflect.getMetadata(\"method\", instance, methodName) as HttpMethod;\n    const route = Reflect.getMetadata(\"route\", instance, methodName) as string;\n    const middlewares = (Reflect.getMetadata(\"middlewares\", instance, methodName) as RequestHandler[]) || [];\n\n    if (method && route) {\n      const handler = instance[methodName] as unknown;\n\n      if (typeof handler === \"function\") {\n        if (method !== \"ws\") {\n          (router[method] as (path: string, ...handlers: RequestHandler[]) => void)(\n            `${baseRoute}${route}`,\n            ...middlewares,\n            handler.bind(instance)\n          );\n        }\n      }\n    }\n  });\n}\n\nfunction registerWebSocketController(\n  router: Router,\n  Controller: ControllerConstructor,\n  existingInstance?: ControllerInstance\n): void {\n  const instance = existingInstance || new Controller();\n  const baseRoute = Reflect.getMetadata(\"baseRoute\", Controller) as string;\n\n  Object.getOwnPropertyNames(Controller.prototype).forEach((methodName) => {\n    if (methodName === \"constructor\") return; // Skip the constructor\n\n    const method = Reflect.getMetadata(\"method\", instance, methodName) as string;\n    const route = Reflect.getMetadata(\"route\", instance, methodName) as string;\n\n    if (method === \"ws\" && route) {\n      const handler = instance[methodName] as unknown;\n\n      if (typeof handler === \"function\" && \"ws\" in router && typeof router.ws === \"function\") {\n        router.ws(`${baseRoute}${route}`, (ws: WebSocket, req: Request) => {\n          try {\n            handler.call(instance, ws, req);\n          } catch (error) {\n            console.error(`WebSocket error in ${Controller.name}.${methodName}`, error);\n            ws.close(1011, error instanceof Error ? error.message : \"Internal server error\");\n          }\n        });\n      }\n    }\n  });\n}\n","import \"reflect-metadata\";\nimport type { RequestHandler } from \"express\";\n\n// Define valid HTTP methods\ntype RestMethod = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\n\n/**\n * Controller decorator\n * @param baseRoute\n * @returns\n */\nexport function Controller(baseRoute: string = \"\"): ClassDecorator {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-function-type\n  return function (target: Function) {\n    Reflect.defineMetadata(\"baseRoute\", baseRoute, target);\n  };\n}\n\n/**\n * Factory function to create HTTP method decorators\n * @param method HTTP method to handle\n * @returns Method decorator\n */\nfunction createHttpMethodDecorator(method: RestMethod): (route: string) => MethodDecorator {\n  return function (route: string): MethodDecorator {\n    return function (target: object, propertyKey: string | symbol) {\n      Reflect.defineMetadata(\"method\", method, target, propertyKey);\n      Reflect.defineMetadata(\"route\", route, target, propertyKey);\n    };\n  };\n}\n\n// Export HTTP method decorators using the factory\nexport const Get = createHttpMethodDecorator(\"get\");\nexport const Post = createHttpMethodDecorator(\"post\");\nexport const Put = createHttpMethodDecorator(\"put\");\nexport const Patch = createHttpMethodDecorator(\"patch\");\nexport const Delete = createHttpMethodDecorator(\"delete\");\n\n/**\n * Middleware decorator\n * @param middleware\n * @returns\n */\nexport function Middleware(middleware: RequestHandler): MethodDecorator {\n  return function (target: object, propertyKey: string | symbol) {\n    const middlewares = Reflect.getMetadata(\"middlewares\", target, propertyKey) || [];\n    middlewares.push(middleware);\n    Reflect.defineMetadata(\"middlewares\", middlewares, target, propertyKey);\n  };\n}\n","import \"reflect-metadata\";\n\n/**\n * WebSocket method decorator\n * @param route\n * @returns\n */\nexport function WebSocket(route: string): MethodDecorator {\n  return function (target: object, propertyKey: string | symbol) {\n    Reflect.defineMetadata(\"method\", \"ws\", target, propertyKey);\n    Reflect.defineMetadata(\"route\", route, target, propertyKey);\n  };\n}\n"],"x_google_ignoreList":[0],"mappings":"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"}