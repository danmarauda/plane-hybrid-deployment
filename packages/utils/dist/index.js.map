{"version":3,"file":"index.js","names":["key","orderBy","tree: IIssueLabelTree[]","obj: { [key: string]: boolean }","errorCodeMessages: {\n  [key in EAuthErrorCodes]: { title: string; message: (email?: string) => ReactNode };\n}","isEqual","date: Date","parts: string[]","calendarData: ICalendarPayload","currentWeekObject: { [date: string]: ICalendarDate }","valid: string[]","invalid: string[]","differenceInDays","STATUS_ORDER: {\n    [key: string]: number;\n  }","scope","today: Date | string","endDate: Date | string","progressSnapshot: TProgressSnapshot | undefined","completed: number","cancelled: number","total: number","chartUpdates: {\n    path: string[];\n    value: number;\n  }[]","pathUpdates: { path: string[]; value: number }[]","objectDistributionArray: DistributionObjectUpdate[]","objectDistribution: DistributionObjectUpdate","currentValue: number","url: string | undefined","processedChildren: PhrasingContent[]","parseMarks: Record<string, Handle>","textContent: ElementContent[]","child","sanitizeHTML","emoji","groupReactions: (reactions: any[], key: string) => { [key: string]: any[] }","SOCIAL_MEDIA_MATCHERS: IconMatcher[]","PRODUCTIVITY_MATCHERS: IconMatcher[]","FILE_TYPE_MATCHERS: IconMatcher[]","OTHER_MATCHERS: IconMatcher[]","orderedModules: IModule[]","orderedPages: TPage[]","updatedSortOrder: number | undefined","orderedProjects: TProject[]","uuidv4","transformedChildren: TFilterExpression<P>[]","results: T[]","shades: Partial<TShades>","values: string[]","tlds","handleIssuesMutation: THandleIssuesMutation","newGroup: TIssue[]","orderBy","queryParams: TIssueParams[]","createIssuePayload: (projectId: string, formData: Partial<TIssue>) => TIssue","uuidv4","groupBy","currentIssuePriority: TIssueFilterPriorityObject | undefined"],"sources":["../src/array.ts","../src/attachment.ts","../src/auth.ts","../src/datetime.ts","../src/calendar.ts","../src/color.ts","../src/common.ts","../src/filter.ts","../src/cycle.ts","../src/distribution-update.ts","../src/file.ts","../src/editor/common.ts","../src/editor/markdown-parser/common.ts","../src/editor/markdown-parser/custom-components-handler.ts","../src/editor/markdown-parser/marks-handler.ts","../src/editor/markdown-parser/root.ts","../src/emoji.ts","../src/estimates.ts","../src/get-icon-for-link.ts","../src/intake.ts","../src/loader.ts","../src/math.ts","../src/module.ts","../src/string.ts","../src/notification.ts","../src/page.ts","../src/permission/role.ts","../src/project-views.ts","../src/project.ts","../src/rich-filters/factories/configs/shared.ts","../src/rich-filters/factories/configs/core.ts","../src/rich-filters/factories/configs/properties/shared.ts","../src/rich-filters/factories/configs/properties/date.ts","../src/rich-filters/factories/configs/properties/member-picker.ts","../src/rich-filters/factories/nodes/core.ts","../src/rich-filters/types/core.ts","../src/rich-filters/types/shared.ts","../src/rich-filters/validators/core.ts","../src/rich-filters/validators/shared.ts","../src/rich-filters/operations/manipulation/core.ts","../src/rich-filters/operations/transformation/shared.ts","../src/rich-filters/operations/transformation/core.ts","../src/rich-filters/operations/comparison.ts","../src/rich-filters/operations/traversal/shared.ts","../src/rich-filters/operations/traversal/core.ts","../src/rich-filters/operators/core.ts","../src/rich-filters/operators/shared.ts","../src/rich-filters/values/core.ts","../src/router.ts","../src/subscription.ts","../src/tab-indices.ts","../src/theme.ts","../src/tlds.ts","../src/url.ts","../src/work-item-filters/configs/filters/cycle.ts","../src/work-item-filters/configs/filters/date.ts","../src/work-item-filters/configs/filters/label.ts","../src/work-item-filters/configs/filters/module.ts","../src/work-item-filters/configs/filters/priority.ts","../src/work-item-filters/configs/filters/project.ts","../src/work-item-filters/configs/filters/state.ts","../src/work-item-filters/configs/filters/user.ts","../src/work-item/base.ts","../src/work-item/modal.ts","../src/work-item/state.ts","../src/workspace.ts"],"sourcesContent":["import { isEmpty } from \"lodash-es\";\nimport type { IIssueLabel, IIssueLabelTree } from \"@plane/types\";\n\n/**\n * @description Groups an array of objects by a specified key\n * @param {any[]} array Array to group\n * @param {string} key Key to group by (supports dot notation for nested objects)\n * @returns {Object} Grouped object with keys being the grouped values\n * @example\n * const array = [{type: 'A', value: 1}, {type: 'B', value: 2}, {type: 'A', value: 3}];\n * groupBy(array, 'type') // returns { A: [{type: 'A', value: 1}, {type: 'A', value: 3}], B: [{type: 'B', value: 2}] }\n */\nexport const groupBy = (array: any[], key: string) => {\n  const innerKey = key.split(\".\"); // split the key by dot\n  return array.reduce((result, currentValue) => {\n    const key = innerKey.reduce((obj, i) => obj?.[i], currentValue) ?? \"None\"; // get the value of the inner key\n    (result[key] = result[key] || []).push(currentValue);\n    return result;\n  }, {});\n};\n\n/**\n * @description Orders an array by a specified key in ascending or descending order\n * @param {any[]} orgArray Original array to order\n * @param {string} key Key to order by (supports dot notation for nested objects)\n * @param {\"ascending\" | \"descending\"} ordering Sort order\n * @returns {any[]} Ordered array\n * @example\n * const array = [{value: 2}, {value: 1}, {value: 3}];\n * orderArrayBy(array, 'value', 'ascending') // returns [{value: 1}, {value: 2}, {value: 3}]\n */\nexport const orderArrayBy = (orgArray: any[], key: string, ordering: \"ascending\" | \"descending\" = \"ascending\") => {\n  if (!orgArray || !Array.isArray(orgArray) || orgArray.length === 0) return [];\n\n  const array = [...orgArray];\n\n  if (key[0] === \"-\") {\n    ordering = \"descending\";\n    key = key.slice(1);\n  }\n\n  const innerKey = key.split(\".\"); // split the key by dot\n\n  return array.sort((a, b) => {\n    const keyA = innerKey.reduce((obj, i) => obj[i], a); // get the value of the inner key\n    const keyB = innerKey.reduce((obj, i) => obj[i], b); // get the value of the inner key\n    if (keyA < keyB) {\n      return ordering === \"ascending\" ? -1 : 1;\n    }\n    if (keyA > keyB) {\n      return ordering === \"ascending\" ? 1 : -1;\n    }\n    return 0;\n  });\n};\n\n/**\n * @description Checks if an array contains duplicate values\n * @param {any[]} array Array to check for duplicates\n * @returns {boolean} True if duplicates exist, false otherwise\n * @example\n * checkDuplicates([1, 2, 2, 3]) // returns true\n * checkDuplicates([1, 2, 3]) // returns false\n */\nexport const checkDuplicates = (array: any[]) => new Set(array).size !== array.length;\n\n/**\n * @description Finds the string with the most characters in an array of strings\n * @param {string[]} strings Array of strings to check\n * @returns {string} String with the most characters\n * @example\n * findStringWithMostCharacters(['a', 'bb', 'ccc']) // returns 'ccc'\n */\nexport const findStringWithMostCharacters = (strings: string[]): string => {\n  if (!strings || strings.length === 0) return \"\";\n\n  return strings.reduce((longestString, currentString) =>\n    currentString.length > longestString.length ? currentString : longestString\n  );\n};\n\n/**\n * @description Checks if two arrays have the same elements regardless of order\n * @param {any[] | null} arr1 First array\n * @param {any[] | null} arr2 Second array\n * @returns {boolean} True if arrays have same elements, false otherwise\n * @example\n * checkIfArraysHaveSameElements([1, 2], [2, 1]) // returns true\n * checkIfArraysHaveSameElements([1, 2], [1, 3]) // returns false\n */\nexport const checkIfArraysHaveSameElements = (arr1: any[] | null, arr2: any[] | null): boolean => {\n  if (!arr1 || !arr2) return false;\n  if (!Array.isArray(arr1) || !Array.isArray(arr2)) return false;\n  if (arr1.length === 0 && arr2.length === 0) return true;\n\n  return arr1.length === arr2.length && arr1.every((e) => arr2.includes(e));\n};\n\ntype GroupedItems<T> = { [key: string]: T[] };\n\n/**\n * @description Groups an array of objects by a specified field\n * @param {T[]} array Array to group\n * @param {keyof T} field Field to group by\n * @returns {GroupedItems<T>} Grouped object\n * @example\n * const array = [{type: 'A', value: 1}, {type: 'B', value: 2}];\n * groupByField(array, 'type') // returns { A: [{type: 'A', value: 1}], B: [{type: 'B', value: 2}] }\n */\nexport const groupByField = <T>(array: T[], field: keyof T): GroupedItems<T> =>\n  array.reduce((grouped: GroupedItems<T>, item: T) => {\n    const key = String(item[field]);\n    grouped[key] = (grouped[key] || []).concat(item);\n    return grouped;\n  }, {});\n\n/**\n * @description Sorts an array of objects by a specified field\n * @param {any[]} array Array to sort\n * @param {string} field Field to sort by\n * @returns {any[]} Sorted array\n * @example\n * const array = [{value: 2}, {value: 1}];\n * sortByField(array, 'value') // returns [{value: 1}, {value: 2}]\n */\nexport const sortByField = (array: any[], field: string): any[] =>\n  array.sort((a, b) => (a[field] < b[field] ? -1 : a[field] > b[field] ? 1 : 0));\n\n/**\n * @description Orders grouped data by a specified field\n * @param {GroupedItems<T>} groupedData Grouped data object\n * @param {keyof T} orderBy Field to order by\n * @returns {GroupedItems<T>} Ordered grouped data\n */\nexport const orderGroupedDataByField = <T>(groupedData: GroupedItems<T>, orderBy: keyof T): GroupedItems<T> => {\n  for (const key in groupedData) {\n    if (groupedData.hasOwnProperty(key)) {\n      groupedData[key] = groupedData[key].sort((a, b) => {\n        if (a[orderBy] < b[orderBy]) return -1;\n        if (a[orderBy] > b[orderBy]) return 1;\n        return 0;\n      });\n    }\n  }\n  return groupedData;\n};\n\n/**\n * @description Builds a tree structure from an array of labels\n * @param {IIssueLabel[]} array Array of labels\n * @param {any} parent Parent ID\n * @returns {IIssueLabelTree[]} Tree structure\n */\nexport const buildTree = (array: IIssueLabel[], parent = null) => {\n  const tree: IIssueLabelTree[] = [];\n\n  array.forEach((item: any) => {\n    if (item.parent === parent) {\n      const children = buildTree(array, item.id);\n      item.children = children;\n      tree.push(item);\n    }\n  });\n\n  return tree;\n};\n\n/**\n * @description Returns valid keys from object whose value is not falsy\n * @param {any} obj Object to check\n * @returns {string[]} Array of valid keys\n * @example\n * getValidKeysFromObject({a: 1, b: 0, c: null}) // returns ['a']\n */\nexport const getValidKeysFromObject = (obj: any) => {\n  if (!obj || isEmpty(obj) || typeof obj !== \"object\" || Array.isArray(obj)) return [];\n\n  return Object.keys(obj).filter((key) => !!obj[key]);\n};\n\n/**\n * @description Converts an array of strings into an object with boolean true values\n * @param {string[]} arrayStrings Array of strings\n * @returns {Object} Object with string keys and boolean values\n * @example\n * convertStringArrayToBooleanObject(['a', 'b']) // returns {a: true, b: true}\n */\nexport const convertStringArrayToBooleanObject = (arrayStrings: string[]) => {\n  const obj: { [key: string]: boolean } = {};\n\n  for (const arrayString of arrayStrings) {\n    obj[arrayString] = true;\n  }\n\n  return obj;\n};\n","export const generateFileName = (fileName: string) => {\n  const date = new Date();\n  const timestamp = date.getTime();\n\n  const _fileName = getFileName(fileName);\n  const nameWithoutExtension = _fileName.length > 80 ? _fileName.substring(0, 80) : _fileName;\n  const extension = getFileExtension(fileName);\n\n  return `${nameWithoutExtension}-${timestamp}.${extension}`;\n};\n\nexport const getFileExtension = (filename: string) => filename.slice(((filename.lastIndexOf(\".\") - 1) >>> 0) + 2);\n\nexport const getFileName = (fileName: string) => {\n  const dotIndex = fileName.lastIndexOf(\".\");\n\n  const nameWithoutExtension = fileName.substring(0, dotIndex);\n\n  return nameWithoutExtension;\n};\n\nexport const convertBytesToSize = (bytes: number) => {\n  let size;\n\n  if (bytes < 1024 * 1024) {\n    size = Math.round(bytes / 1024) + \" KB\";\n  } else {\n    size = Math.round(bytes / (1024 * 1024)) + \" MB\";\n  }\n\n  return size;\n};\n","import type { ReactNode } from \"react\";\n// plane imports\nimport type { TAuthErrorInfo } from \"@plane/constants\";\nimport { E_PASSWORD_STRENGTH, EErrorAlertType, EAuthErrorCodes } from \"@plane/constants\";\n\n/**\n * @description Password strength levels\n */\nexport enum PasswordStrength {\n  EMPTY = \"empty\",\n  WEAK = \"weak\",\n  FAIR = \"fair\",\n  GOOD = \"good\",\n  STRONG = \"strong\",\n}\n\n/**\n * Calculate password strength based on various criteria\n */\nexport const getPasswordStrength = (password: string): E_PASSWORD_STRENGTH => {\n  if (!password || password === \"\" || password.length <= 0) {\n    return E_PASSWORD_STRENGTH.EMPTY;\n  }\n\n  if (password.length < 8) {\n    return E_PASSWORD_STRENGTH.LENGTH_NOT_VALID;\n  }\n\n  // Check all criteria\n  const hasUpperCase = /[A-Z]/.test(password);\n  const hasLowerCase = /[a-z]/.test(password);\n  const hasDigit = /[0-9]/.test(password);\n  const hasSpecialChar = /[!@#$%^&*()\\-_+=\\[\\]{}|;:'\",.<>?/]/.test(password);\n\n  if (hasUpperCase && hasLowerCase && hasDigit && hasSpecialChar) {\n    return E_PASSWORD_STRENGTH.STRENGTH_VALID;\n  }\n\n  return E_PASSWORD_STRENGTH.STRENGTH_NOT_VALID;\n};\n\nexport type PasswordCriteria = {\n  key: string;\n  label: string;\n  isValid: boolean;\n};\n\n/**\n * Get password criteria for validation display\n */\nexport const getPasswordCriteria = (password: string): PasswordCriteria[] => [\n  {\n    key: \"length\",\n    label: \"Min 8 characters\",\n    isValid: password.length >= 8,\n  },\n  {\n    key: \"uppercase\",\n    label: \"Min 1 upper-case letter\",\n    isValid: /[A-Z]/.test(password),\n  },\n  {\n    key: \"lowercase\",\n    label: \"Min 1 lower-case letter\",\n    isValid: /[a-z]/.test(password),\n  },\n  {\n    key: \"number\",\n    label: \"Min 1 number\",\n    isValid: /[0-9]/.test(password),\n  },\n  {\n    key: \"special\",\n    label: \"Min 1 special character\",\n    isValid: /[!@#$%^&*()\\-_+=\\[\\]{}|;:'\",.<>?/]/.test(password),\n  },\n];\n\n// Error code messages\nconst errorCodeMessages: {\n  [key in EAuthErrorCodes]: { title: string; message: (email?: string) => ReactNode };\n} = {\n  // global\n  [EAuthErrorCodes.INSTANCE_NOT_CONFIGURED]: {\n    title: `Instance not configured`,\n    message: () => `Instance not configured. Please contact your administrator.`,\n  },\n  [EAuthErrorCodes.SIGNUP_DISABLED]: {\n    title: `Sign up disabled`,\n    message: () => `Sign up disabled. Please contact your administrator.`,\n  },\n  [EAuthErrorCodes.INVALID_PASSWORD]: {\n    title: `Invalid password`,\n    message: () => `Invalid password. Please try again.`,\n  },\n  [EAuthErrorCodes.SMTP_NOT_CONFIGURED]: {\n    title: `SMTP not configured`,\n    message: () => `SMTP not configured. Please contact your administrator.`,\n  },\n  // email check in both sign up and sign in\n  [EAuthErrorCodes.INVALID_EMAIL]: {\n    title: `Invalid email`,\n    message: () => `Invalid email. Please try again.`,\n  },\n  [EAuthErrorCodes.EMAIL_REQUIRED]: {\n    title: `Email required`,\n    message: () => `Email required. Please try again.`,\n  },\n  // sign up\n  [EAuthErrorCodes.USER_ALREADY_EXIST]: {\n    title: `User already exists`,\n    message: () => `Your account is already registered. Sign in now.`,\n  },\n  [EAuthErrorCodes.REQUIRED_EMAIL_PASSWORD_SIGN_UP]: {\n    title: `Email and password required`,\n    message: () => `Email and password required. Please try again.`,\n  },\n  [EAuthErrorCodes.AUTHENTICATION_FAILED_SIGN_UP]: {\n    title: `Authentication failed`,\n    message: () => `Authentication failed. Please try again.`,\n  },\n  [EAuthErrorCodes.INVALID_EMAIL_SIGN_UP]: {\n    title: `Invalid email`,\n    message: () => `Invalid email. Please try again.`,\n  },\n  [EAuthErrorCodes.MAGIC_SIGN_UP_EMAIL_CODE_REQUIRED]: {\n    title: `Email and code required`,\n    message: () => `Email and code required. Please try again.`,\n  },\n  [EAuthErrorCodes.INVALID_EMAIL_MAGIC_SIGN_UP]: {\n    title: `Invalid email`,\n    message: () => `Invalid email. Please try again.`,\n  },\n  // sign in\n  [EAuthErrorCodes.USER_ACCOUNT_DEACTIVATED]: {\n    title: `User account deactivated`,\n    message: () => `User account deactivated. Please contact administrator.`,\n  },\n  [EAuthErrorCodes.USER_DOES_NOT_EXIST]: {\n    title: `User does not exist`,\n    message: () => `No account found. Create one to get started.`,\n  },\n  [EAuthErrorCodes.REQUIRED_EMAIL_PASSWORD_SIGN_IN]: {\n    title: `Email and password required`,\n    message: () => `Email and password required. Please try again.`,\n  },\n  [EAuthErrorCodes.AUTHENTICATION_FAILED_SIGN_IN]: {\n    title: `Authentication failed`,\n    message: () => `Authentication failed. Please try again.`,\n  },\n  [EAuthErrorCodes.INVALID_EMAIL_SIGN_IN]: {\n    title: `Invalid email`,\n    message: () => `Invalid email. Please try again.`,\n  },\n  [EAuthErrorCodes.MAGIC_SIGN_IN_EMAIL_CODE_REQUIRED]: {\n    title: `Email and code required`,\n    message: () => `Email and code required. Please try again.`,\n  },\n  [EAuthErrorCodes.INVALID_EMAIL_MAGIC_SIGN_IN]: {\n    title: `Invalid email`,\n    message: () => `Invalid email. Please try again.`,\n  },\n  // Both Sign in and Sign up\n  [EAuthErrorCodes.INVALID_MAGIC_CODE_SIGN_IN]: {\n    title: `Authentication failed`,\n    message: () => `Invalid magic code. Please try again.`,\n  },\n  [EAuthErrorCodes.INVALID_MAGIC_CODE_SIGN_UP]: {\n    title: `Authentication failed`,\n    message: () => `Invalid magic code. Please try again.`,\n  },\n  [EAuthErrorCodes.EXPIRED_MAGIC_CODE_SIGN_IN]: {\n    title: `Expired magic code`,\n    message: () => `Expired magic code. Please try again.`,\n  },\n  [EAuthErrorCodes.EXPIRED_MAGIC_CODE_SIGN_UP]: {\n    title: `Expired magic code`,\n    message: () => `Expired magic code. Please try again.`,\n  },\n  [EAuthErrorCodes.EMAIL_CODE_ATTEMPT_EXHAUSTED_SIGN_IN]: {\n    title: `Expired magic code`,\n    message: () => `Expired magic code. Please try again.`,\n  },\n  [EAuthErrorCodes.EMAIL_CODE_ATTEMPT_EXHAUSTED_SIGN_UP]: {\n    title: `Expired magic code`,\n    message: () => `Expired magic code. Please try again.`,\n  },\n  // Oauth\n  [EAuthErrorCodes.OAUTH_NOT_CONFIGURED]: {\n    title: `OAuth not configured`,\n    message: () => `OAuth not configured. Please contact your administrator.`,\n  },\n  [EAuthErrorCodes.GOOGLE_NOT_CONFIGURED]: {\n    title: `Google not configured`,\n    message: () => `Google not configured. Please contact your administrator.`,\n  },\n  [EAuthErrorCodes.GITHUB_NOT_CONFIGURED]: {\n    title: `GitHub not configured`,\n    message: () => `GitHub not configured. Please contact your administrator.`,\n  },\n  [EAuthErrorCodes.GITLAB_NOT_CONFIGURED]: {\n    title: `GitLab not configured`,\n    message: () => `GitLab not configured. Please contact your administrator.`,\n  },\n  [EAuthErrorCodes.GOOGLE_OAUTH_PROVIDER_ERROR]: {\n    title: `Google OAuth provider error`,\n    message: () => `Google OAuth provider error. Please try again.`,\n  },\n  [EAuthErrorCodes.GITHUB_OAUTH_PROVIDER_ERROR]: {\n    title: `GitHub OAuth provider error`,\n    message: () => `GitHub OAuth provider error. Please try again.`,\n  },\n  [EAuthErrorCodes.GITLAB_OAUTH_PROVIDER_ERROR]: {\n    title: `GitLab OAuth provider error`,\n    message: () => `GitLab OAuth provider error. Please try again.`,\n  },\n  // Reset Password\n  [EAuthErrorCodes.INVALID_PASSWORD_TOKEN]: {\n    title: `Invalid password token`,\n    message: () => `Invalid password token. Please try again.`,\n  },\n  [EAuthErrorCodes.EXPIRED_PASSWORD_TOKEN]: {\n    title: `Expired password token`,\n    message: () => `Expired password token. Please try again.`,\n  },\n  // Change password\n  [EAuthErrorCodes.MISSING_PASSWORD]: {\n    title: `Password required`,\n    message: () => `Password required. Please try again.`,\n  },\n  [EAuthErrorCodes.INCORRECT_OLD_PASSWORD]: {\n    title: `Incorrect old password`,\n    message: () => `Incorrect old password. Please try again.`,\n  },\n  [EAuthErrorCodes.INVALID_NEW_PASSWORD]: {\n    title: `Invalid new password`,\n    message: () => `Invalid new password. Please try again.`,\n  },\n  // set password\n  [EAuthErrorCodes.PASSWORD_ALREADY_SET]: {\n    title: `Password already set`,\n    message: () => `Password already set. Please try again.`,\n  },\n  // admin\n  [EAuthErrorCodes.ADMIN_ALREADY_EXIST]: {\n    title: `Admin already exists`,\n    message: () => `Admin already exists. Please try again.`,\n  },\n  [EAuthErrorCodes.REQUIRED_ADMIN_EMAIL_PASSWORD_FIRST_NAME]: {\n    title: `Email, password and first name required`,\n    message: () => `Email, password and first name required. Please try again.`,\n  },\n  [EAuthErrorCodes.INVALID_ADMIN_EMAIL]: {\n    title: `Invalid admin email`,\n    message: () => `Invalid admin email. Please try again.`,\n  },\n  [EAuthErrorCodes.INVALID_ADMIN_PASSWORD]: {\n    title: `Invalid admin password`,\n    message: () => `Invalid admin password. Please try again.`,\n  },\n  [EAuthErrorCodes.REQUIRED_ADMIN_EMAIL_PASSWORD]: {\n    title: `Email and password required`,\n    message: () => `Email and password required. Please try again.`,\n  },\n  [EAuthErrorCodes.ADMIN_AUTHENTICATION_FAILED]: {\n    title: `Authentication failed`,\n    message: () => `Authentication failed. Please try again.`,\n  },\n  [EAuthErrorCodes.ADMIN_USER_ALREADY_EXIST]: {\n    title: `Admin user already exists`,\n    message: () => `Admin user already exists. Sign in now.`,\n  },\n  [EAuthErrorCodes.ADMIN_USER_DOES_NOT_EXIST]: {\n    title: `Admin user does not exist`,\n    message: () => `Admin user does not exist. Sign in now.`,\n  },\n  [EAuthErrorCodes.MAGIC_LINK_LOGIN_DISABLED]: {\n    title: `Magic link login disabled`,\n    message: () => `Magic link login is disabled. Please use password to login.`,\n  },\n  [EAuthErrorCodes.PASSWORD_LOGIN_DISABLED]: {\n    title: `Password login disabled`,\n    message: () => `Password login is disabled. Please use magic link to login.`,\n  },\n  [EAuthErrorCodes.ADMIN_USER_DEACTIVATED]: {\n    title: `Admin user deactivated`,\n    message: () => `Admin user account has been deactivated. Please contact administrator.`,\n  },\n  [EAuthErrorCodes.RATE_LIMIT_EXCEEDED]: {\n    title: `Rate limit exceeded`,\n    message: () => `Too many requests. Please try again later.`,\n  },\n};\n\n// Error handler\nexport const authErrorHandler = (errorCode: EAuthErrorCodes, email?: string): TAuthErrorInfo | undefined => {\n  const bannerAlertErrorCodes = [\n    EAuthErrorCodes.INSTANCE_NOT_CONFIGURED,\n    EAuthErrorCodes.INVALID_EMAIL,\n    EAuthErrorCodes.EMAIL_REQUIRED,\n    EAuthErrorCodes.SIGNUP_DISABLED,\n    EAuthErrorCodes.INVALID_PASSWORD,\n    EAuthErrorCodes.SMTP_NOT_CONFIGURED,\n    EAuthErrorCodes.USER_ALREADY_EXIST,\n    EAuthErrorCodes.AUTHENTICATION_FAILED_SIGN_UP,\n    EAuthErrorCodes.REQUIRED_EMAIL_PASSWORD_SIGN_UP,\n    EAuthErrorCodes.INVALID_EMAIL_SIGN_UP,\n    EAuthErrorCodes.INVALID_EMAIL_MAGIC_SIGN_UP,\n    EAuthErrorCodes.MAGIC_SIGN_UP_EMAIL_CODE_REQUIRED,\n    EAuthErrorCodes.USER_DOES_NOT_EXIST,\n    EAuthErrorCodes.AUTHENTICATION_FAILED_SIGN_IN,\n    EAuthErrorCodes.REQUIRED_EMAIL_PASSWORD_SIGN_IN,\n    EAuthErrorCodes.INVALID_EMAIL_SIGN_IN,\n    EAuthErrorCodes.INVALID_EMAIL_MAGIC_SIGN_IN,\n    EAuthErrorCodes.MAGIC_SIGN_IN_EMAIL_CODE_REQUIRED,\n    EAuthErrorCodes.INVALID_MAGIC_CODE_SIGN_IN,\n    EAuthErrorCodes.INVALID_MAGIC_CODE_SIGN_UP,\n    EAuthErrorCodes.EXPIRED_MAGIC_CODE_SIGN_IN,\n    EAuthErrorCodes.EXPIRED_MAGIC_CODE_SIGN_UP,\n    EAuthErrorCodes.EMAIL_CODE_ATTEMPT_EXHAUSTED_SIGN_IN,\n    EAuthErrorCodes.EMAIL_CODE_ATTEMPT_EXHAUSTED_SIGN_UP,\n    EAuthErrorCodes.OAUTH_NOT_CONFIGURED,\n    EAuthErrorCodes.GOOGLE_NOT_CONFIGURED,\n    EAuthErrorCodes.GITHUB_NOT_CONFIGURED,\n    EAuthErrorCodes.GITLAB_NOT_CONFIGURED,\n    EAuthErrorCodes.GOOGLE_OAUTH_PROVIDER_ERROR,\n    EAuthErrorCodes.GITHUB_OAUTH_PROVIDER_ERROR,\n    EAuthErrorCodes.GITLAB_OAUTH_PROVIDER_ERROR,\n    EAuthErrorCodes.INVALID_PASSWORD_TOKEN,\n    EAuthErrorCodes.EXPIRED_PASSWORD_TOKEN,\n    EAuthErrorCodes.INCORRECT_OLD_PASSWORD,\n    EAuthErrorCodes.INVALID_NEW_PASSWORD,\n    EAuthErrorCodes.PASSWORD_ALREADY_SET,\n    EAuthErrorCodes.ADMIN_ALREADY_EXIST,\n    EAuthErrorCodes.REQUIRED_ADMIN_EMAIL_PASSWORD_FIRST_NAME,\n    EAuthErrorCodes.INVALID_ADMIN_EMAIL,\n    EAuthErrorCodes.INVALID_ADMIN_PASSWORD,\n    EAuthErrorCodes.REQUIRED_ADMIN_EMAIL_PASSWORD,\n    EAuthErrorCodes.ADMIN_AUTHENTICATION_FAILED,\n    EAuthErrorCodes.ADMIN_USER_ALREADY_EXIST,\n    EAuthErrorCodes.ADMIN_USER_DOES_NOT_EXIST,\n    EAuthErrorCodes.USER_ACCOUNT_DEACTIVATED,\n  ];\n\n  if (bannerAlertErrorCodes.includes(errorCode))\n    return {\n      type: EErrorAlertType.BANNER_ALERT,\n      code: errorCode,\n      title: errorCodeMessages[errorCode]?.title || \"Error\",\n      message: errorCodeMessages[errorCode]?.message(email) || \"Something went wrong. Please try again.\",\n    };\n\n  return undefined;\n};\n","import { differenceInDays, format, formatDistanceToNow, isAfter, isEqual, isValid, parseISO } from \"date-fns\";\nimport { isNumber } from \"lodash-es\";\n\n// Format Date Helpers\n/**\n * @returns {string | null} formatted date in the desired format or platform default format (MMM dd, yyyy)\n * @description Returns date in the formatted format\n * @param {Date | string} date\n * @param {string} formatToken (optional) // default MMM dd, yyyy\n * @example renderFormattedDate(\"2024-01-01\", \"MM-DD-YYYY\") // Jan 01, 2024\n * @example renderFormattedDate(\"2024-01-01\") // Jan 01, 2024\n */\nexport const renderFormattedDate = (\n  date: string | Date | undefined | null,\n  formatToken: string = \"MMM dd, yyyy\"\n): string | undefined => {\n  // Parse the date to check if it is valid\n  const parsedDate = getDate(date);\n  // return if undefined\n  if (!parsedDate) return;\n  // Check if the parsed date is valid before formatting\n  if (!isValid(parsedDate)) return; // Return null for invalid dates\n  let formattedDate;\n  try {\n    // Format the date in the format provided or default format (MMM dd, yyyy)\n    formattedDate = format(parsedDate, formatToken);\n  } catch (_e) {\n    // Format the date in format (MMM dd, yyyy) in case of any error\n    formattedDate = format(parsedDate, \"MMM dd, yyyy\");\n  }\n  return formattedDate;\n};\n\n/**\n * @returns {string} formatted date in the format of MMM dd\n * @description Returns date in the formatted format\n * @param {string | Date} date\n * @example renderShortDateFormat(\"2024-01-01\") // Jan 01\n */\nexport const renderFormattedDateWithoutYear = (date: string | Date): string => {\n  // Parse the date to check if it is valid\n  const parsedDate = getDate(date);\n  // return if undefined\n  if (!parsedDate) return \"\";\n  // Check if the parsed date is valid before formatting\n  if (!isValid(parsedDate)) return \"\"; // Return empty string for invalid dates\n  // Format the date in short format (MMM dd)\n  const formattedDate = format(parsedDate, \"MMM dd\");\n  return formattedDate;\n};\n\n/**\n * @returns {string | null} formatted date in the format of yyyy-mm-dd to be used in payload\n * @description Returns date in the formatted format to be used in payload\n * @param {Date | string} date\n * @example renderFormattedPayloadDate(\"Jan 01, 20224\") // \"2024-01-01\"\n */\nexport const renderFormattedPayloadDate = (date: Date | string | undefined | null): string | undefined => {\n  // Parse the date to check if it is valid\n  const parsedDate = getDate(date);\n  // return if undefined\n  if (!parsedDate) return;\n  // Check if the parsed date is valid before formatting\n  if (!isValid(parsedDate)) return; // Return null for invalid dates\n  // Format the date in payload format (yyyy-mm-dd)\n  const formattedDate = format(parsedDate, \"yyyy-MM-dd\");\n  return formattedDate;\n};\n\n// Format Time Helpers\n/**\n * @returns {string} formatted date in the format of hh:mm a or HH:mm\n * @description Returns date in 12 hour format if in12HourFormat is true else 24 hour format\n * @param {string | Date} date\n * @param {boolean} timeFormat (optional) // default 24 hour\n * @example renderFormattedTime(\"2024-01-01 13:00:00\") // 13:00\n * @example renderFormattedTime(\"2024-01-01 13:00:00\", \"12-hour\") // 01:00 PM\n */\nexport const renderFormattedTime = (date: string | Date, timeFormat: \"12-hour\" | \"24-hour\" = \"24-hour\"): string => {\n  // Parse the date to check if it is valid\n  const parsedDate = new Date(date);\n  // return if undefined\n  if (!parsedDate) return \"\";\n  // Check if the parsed date is valid\n  if (!isValid(parsedDate)) return \"\"; // Return empty string for invalid dates\n  // Format the date in 12 hour format if in12HourFormat is true\n  if (timeFormat === \"12-hour\") {\n    const formattedTime = format(parsedDate, \"hh:mm a\");\n    return formattedTime;\n  }\n  // Format the date in 24 hour format\n  const formattedTime = format(parsedDate, \"HH:mm\");\n  return formattedTime;\n};\n\n// Date Difference Helpers\n/**\n * @returns {number} total number of days in range\n * @description Returns total number of days in range\n * @param {string} startDate\n * @param {string} endDate\n * @param {boolean} inclusive\n * @example checkIfStringIsDate(\"2021-01-01\", \"2021-01-08\") // 8\n */\nexport const findTotalDaysInRange = (\n  startDate: Date | string | undefined | null,\n  endDate: Date | string | undefined | null,\n  inclusive: boolean = true\n): number | undefined => {\n  // Parse the dates to check if they are valid\n  const parsedStartDate = getDate(startDate);\n  const parsedEndDate = getDate(endDate);\n  // return if undefined\n  if (!parsedStartDate || !parsedEndDate) return;\n  // Check if the parsed dates are valid before calculating the difference\n  if (!isValid(parsedStartDate) || !isValid(parsedEndDate)) return 0; // Return 0 for invalid dates\n  // Calculate the difference in days\n  const diffInDays = differenceInDays(parsedEndDate, parsedStartDate);\n  // Return the difference in days based on inclusive flag\n  return inclusive ? diffInDays + 1 : diffInDays;\n};\n\n/**\n * Add number of days to the provided date and return a resulting new date\n * @param startDate\n * @param numberOfDays\n * @returns\n */\nexport const addDaysToDate = (startDate: Date | string | undefined | null, numberOfDays: number) => {\n  // Parse the dates to check if they are valid\n  const parsedStartDate = getDate(startDate);\n\n  // return if undefined\n  if (!parsedStartDate) return;\n\n  const newDate = new Date(parsedStartDate);\n  newDate.setDate(newDate.getDate() + numberOfDays);\n\n  return newDate;\n};\n\n/**\n * @returns {number} number of days left from today\n * @description Returns number of days left from today\n * @param {string | Date} date\n * @param {boolean} inclusive (optional) // default true\n * @example findHowManyDaysLeft(\"2024-01-01\") // 3\n */\nexport const findHowManyDaysLeft = (\n  date: Date | string | undefined | null,\n  inclusive: boolean = true\n): number | undefined => {\n  if (!date) return undefined;\n  // Pass the date to findTotalDaysInRange function to find the total number of days in range from today\n  return findTotalDaysInRange(new Date(), date, inclusive);\n};\n\n// Time Difference Helpers\n/**\n * @returns {string} formatted date in the form of amount of time passed since the event happened\n * @description Returns time passed since the event happened\n * @param {string | Date} time\n * @example calculateTimeAgo(\"2023-01-01\") // 1 year ago\n */\nexport const calculateTimeAgo = (time: string | number | Date | null): string => {\n  if (!time) return \"\";\n  // Parse the time to check if it is valid\n  const parsedTime = typeof time === \"string\" || typeof time === \"number\" ? parseISO(String(time)) : time;\n  // return if undefined\n  if (!parsedTime) return \"\"; // Return empty string for invalid dates\n  // Format the time in the form of amount of time passed since the event happened\n  const distance = formatDistanceToNow(parsedTime, { addSuffix: true });\n  return distance;\n};\n\nexport function calculateTimeAgoShort(date: string | number | Date | null): string {\n  if (!date) {\n    return \"\";\n  }\n\n  const parsedDate = typeof date === \"string\" ? parseISO(date) : new Date(date);\n  const now = new Date();\n  const diffInSeconds = (now.getTime() - parsedDate.getTime()) / 1000;\n\n  if (diffInSeconds < 60) {\n    return `${Math.floor(diffInSeconds)}s`;\n  }\n\n  const diffInMinutes = diffInSeconds / 60;\n  if (diffInMinutes < 60) {\n    return `${Math.floor(diffInMinutes)}m`;\n  }\n\n  const diffInHours = diffInMinutes / 60;\n  if (diffInHours < 24) {\n    return `${Math.floor(diffInHours)}h`;\n  }\n\n  const diffInDays = diffInHours / 24;\n  if (diffInDays < 30) {\n    return `${Math.floor(diffInDays)}d`;\n  }\n\n  const diffInMonths = diffInDays / 30;\n  if (diffInMonths < 12) {\n    return `${Math.floor(diffInMonths)}mo`;\n  }\n\n  const diffInYears = diffInMonths / 12;\n  return `${Math.floor(diffInYears)}y`;\n}\n\n// Date Validation Helpers\n/**\n * @returns {string} boolean value depending on whether the date is greater than today\n * @description Returns boolean value depending on whether the date is greater than today\n * @param {string} dateStr\n * @example isDateGreaterThanToday(\"2024-01-01\") // true\n */\nexport const isDateGreaterThanToday = (dateStr: string): boolean => {\n  // Return false if dateStr is not present\n  if (!dateStr) return false;\n  // Parse the date to check if it is valid\n  const date = parseISO(dateStr);\n  const today = new Date();\n  // Check if the parsed date is valid\n  if (!isValid(date)) return false; // Return false for invalid dates\n  // Return true if the date is greater than today\n  return isAfter(date, today);\n};\n\n// Week Related Helpers\n/**\n * @returns {number} week number of date\n * @description Returns week number of date\n * @param {Date} date\n * @example getWeekNumber(new Date(\"2023-09-01\")) // 35\n */\nexport const getWeekNumberOfDate = (date: Date): number => {\n  const currentDate = date;\n  // Adjust the starting day to Sunday (0) instead of Monday (1)\n  const startDate = new Date(currentDate.getFullYear(), 0, 1);\n  // Calculate the number of days between currentDate and startDate\n  const days = Math.floor((currentDate.getTime() - startDate.getTime()) / (24 * 60 * 60 * 1000));\n  // Adjust the calculation for weekNumber\n  const weekNumber = Math.ceil((days + 1) / 7);\n  return weekNumber;\n};\n\n/**\n * @returns {boolean} boolean value depending on whether the dates are equal\n * @description Returns boolean value depending on whether the dates are equal\n * @param date1\n * @param date2\n * @example checkIfDatesAreEqual(\"2024-01-01\", \"2024-01-01\") // true\n * @example checkIfDatesAreEqual(\"2024-01-01\", \"2024-01-02\") // false\n */\nexport const checkIfDatesAreEqual = (\n  date1: Date | string | null | undefined,\n  date2: Date | string | null | undefined\n): boolean => {\n  const parsedDate1 = getDate(date1);\n  const parsedDate2 = getDate(date2);\n  // return if undefined\n  if (!parsedDate1 && !parsedDate2) return true;\n  if (!parsedDate1 || !parsedDate2) return false;\n\n  return isEqual(parsedDate1, parsedDate2);\n};\n\n/**\n * This method returns a date from string of type yyyy-mm-dd\n * This method is recommended to use instead of new Date() as this does not introduce any timezone offsets\n * @param date\n * @returns date or undefined\n */\nexport const getDate = (date: string | Date | undefined | null): Date | undefined => {\n  try {\n    if (!date || date === \"\") return;\n\n    if (typeof date !== \"string\" && !(date instanceof String)) return date;\n\n    const [yearString, monthString, dayString] = date.substring(0, 10).split(\"-\");\n    const year = parseInt(yearString);\n    const month = parseInt(monthString);\n    const day = parseInt(dayString);\n    if (!isNumber(year) || !isNumber(month) || !isNumber(day)) return;\n\n    return new Date(year, month - 1, day);\n  } catch (_e) {\n    return undefined;\n  }\n};\n\nexport const isInDateFormat = (date: string) => {\n  const datePattern = /^\\d{4}-\\d{2}-\\d{2}$/;\n  return datePattern.test(date);\n};\n\n/**\n * returns the date string in ISO format regardless of the timezone in input date string\n * @param dateString\n * @returns\n */\nexport const convertToISODateString = (dateString: string | undefined) => {\n  if (!dateString) return dateString;\n\n  const date = new Date(dateString);\n  return date.toISOString();\n};\n\n/**\n * returns the date string in Epoch regardless of the timezone in input date string\n * @param dateString\n * @returns\n */\nexport const convertToEpoch = (dateString: string | undefined) => {\n  if (!dateString) return dateString;\n\n  const date = new Date(dateString);\n  return date.getTime();\n};\n\n/**\n * get current Date time in UTC ISO format\n * @returns\n */\nexport const getCurrentDateTimeInISO = () => {\n  const date = new Date();\n  return date.toISOString();\n};\n\n/**\n * @description converts hours and minutes to minutes\n * @param { number } hours\n * @param { number } minutes\n * @returns { number } minutes\n * @example convertHoursMinutesToMinutes(2, 30) // Output: 150\n */\nexport const convertHoursMinutesToMinutes = (hours: number, minutes: number): number => hours * 60 + minutes;\n\n/**\n * @description converts minutes to hours and minutes\n * @param { number } mins\n * @returns { number, number } hours and minutes\n * @example convertMinutesToHoursAndMinutes(150) // Output: { hours: 2, minutes: 30 }\n */\nexport const convertMinutesToHoursAndMinutes = (mins: number): { hours: number; minutes: number } => {\n  const hours = Math.floor(mins / 60);\n  const minutes = Math.floor(mins % 60);\n\n  return { hours: hours, minutes: minutes };\n};\n\n/**\n * @description converts minutes to hours and minutes string\n * @param { number } totalMinutes\n * @returns { string } 0h 0m\n * @example convertMinutesToHoursAndMinutes(150) // Output: 2h 10m\n */\nexport const convertMinutesToHoursMinutesString = (totalMinutes: number): string => {\n  const { hours, minutes } = convertMinutesToHoursAndMinutes(totalMinutes);\n\n  return `${hours ? `${hours}h ` : ``}${minutes ? `${minutes}m ` : ``}`;\n};\n\n/**\n * @description calculates the read time for a document using the words count\n * @param {number} wordsCount\n * @returns {number} total number of seconds\n * @example getReadTimeFromWordsCount(400) // Output: 120\n * @example getReadTimeFromWordsCount(100) // Output: 30s\n */\nexport const getReadTimeFromWordsCount = (wordsCount: number): number => {\n  const wordsPerMinute = 200;\n  const minutes = wordsCount / wordsPerMinute;\n  return minutes * 60;\n};\n\n/**\n * @description generates an array of dates between the start and end dates\n * @param startDate\n * @param endDate\n * @returns\n */\nexport const generateDateArray = (startDate: string | Date, endDate: string | Date) => {\n  // Convert the start and end dates to Date objects if they aren't already\n  const start = new Date(startDate);\n  // start.setDate(start.getDate() + 1);\n  const end = new Date(endDate);\n  end.setDate(end.getDate() + 2);\n\n  // Create an empty array to store the dates\n  const dateArray = [];\n\n  // Use a while loop to generate dates between the range\n  while (start <= end) {\n    // Push the current date (converted to ISO string for consistency)\n    dateArray.push({\n      date: new Date(start).toISOString().split(\"T\")[0],\n    });\n    // Increment the date by 1 day (86400000 milliseconds)\n    start.setDate(start.getDate() + 1);\n  }\n\n  return dateArray;\n};\n\n/**\n * Processes relative date strings like \"1_weeks\", \"2_months\" etc and returns a Date\n * @param value The relative date string (e.g., \"1_weeks\", \"2_months\")\n * @returns Date object representing the calculated date\n */\nexport const processRelativeDate = (value: string): Date => {\n  const [amountStr, unit] = value.split(\"_\");\n  const amount = parseInt(amountStr, 10);\n  if (isNaN(amount)) {\n    throw new Error(`Invalid relative amount: ${amountStr}`);\n  }\n  const date = new Date();\n\n  switch (unit) {\n    case \"days\":\n      date.setDate(date.getDate() + amount);\n      break;\n    case \"weeks\":\n      date.setDate(date.getDate() + amount * 7);\n      break;\n    case \"months\":\n      date.setMonth(date.getMonth() + amount);\n      break;\n    default:\n      throw new Error(`Unsupported time unit: ${unit}`);\n  }\n\n  return date;\n};\n\n/**\n * Parses a date filter string and returns the comparison type and date\n * @param filterValue The date filter string (e.g., \"1_weeks;after;fromnow\" or \"2024-12-01;after\")\n * @returns Object containing the comparison type and target date\n */\nexport const parseDateFilter = (filterValue: string): { type: \"after\" | \"before\"; date: Date } => {\n  const parts = filterValue.split(\";\");\n  const dateStr = parts[0];\n  const type = parts[1] as \"after\" | \"before\";\n\n  let date: Date;\n  if (dateStr.includes(\"_\")) {\n    // Handle relative dates (e.g., \"1_weeks;after;fromnow\")\n    date = processRelativeDate(dateStr);\n  } else {\n    // Handle absolute dates (e.g., \"2024-12-01;after\")\n    date = new Date(dateStr);\n  }\n\n  return { type, date };\n};\n\n/**\n * Checks if a date meets the filter criteria\n * @param dateToCheck The date to check\n * @param filterDate The filter date to compare against\n * @param type The type of comparison ('after' or 'before')\n * @returns boolean indicating if the date meets the criteria\n */\nexport const checkDateCriteria = (dateToCheck: Date | null, filterDate: Date, type: \"after\" | \"before\"): boolean => {\n  if (!dateToCheck) return false;\n\n  const checkDate = new Date(dateToCheck);\n  const normalizedCheck = new Date(checkDate.setHours(0, 0, 0, 0));\n  const normalizedFilter = new Date(filterDate.getTime());\n  normalizedFilter.setHours(0, 0, 0, 0);\n\n  return type === \"after\" ? normalizedCheck >= normalizedFilter : normalizedCheck <= normalizedFilter;\n};\n\n/**\n * Formats merged date range display with smart formatting\n * - Single date: \"Jan 24, 2025\"\n * - Same year, same month: \"Jan 24 - 28, 2025\"\n * - Same year, different month: \"Jan 24 - Feb 6, 2025\"\n * - Different year: \"Dec 28, 2024 - Jan 4, 2025\"\n */\nexport const formatDateRange = (\n  parsedStartDate: Date | null | undefined,\n  parsedEndDate: Date | null | undefined\n): string => {\n  // If no dates are provided\n  if (!parsedStartDate && !parsedEndDate) {\n    return \"\";\n  }\n\n  // If only start date is provided\n  if (parsedStartDate && !parsedEndDate) {\n    return format(parsedStartDate, \"MMM dd, yyyy\");\n  }\n\n  // If only end date is provided\n  if (!parsedStartDate && parsedEndDate) {\n    return format(parsedEndDate, \"MMM dd, yyyy\");\n  }\n\n  // If both dates are provided\n  if (parsedStartDate && parsedEndDate) {\n    const startYear = parsedStartDate.getFullYear();\n    const startMonth = parsedStartDate.getMonth();\n    const endYear = parsedEndDate.getFullYear();\n    const endMonth = parsedEndDate.getMonth();\n\n    // Same year, same month\n    if (startYear === endYear && startMonth === endMonth) {\n      const startDay = format(parsedStartDate, \"dd\");\n      const endDay = format(parsedEndDate, \"dd\");\n      return `${format(parsedStartDate, \"MMM\")} ${startDay} - ${endDay}, ${startYear}`;\n    }\n\n    // Same year, different month\n    if (startYear === endYear) {\n      const startFormatted = format(parsedStartDate, \"MMM dd\");\n      const endFormatted = format(parsedEndDate, \"MMM dd\");\n      return `${startFormatted} - ${endFormatted}, ${startYear}`;\n    }\n\n    // Different year\n    const startFormatted = format(parsedStartDate, \"MMM dd, yyyy\");\n    const endFormatted = format(parsedEndDate, \"MMM dd, yyyy\");\n    return `${startFormatted} - ${endFormatted}`;\n  }\n\n  return \"\";\n};\n\n// Duration Helpers\n/**\n * @returns {string} formatted duration in human readable format\n * @description Converts seconds to human readable duration format (e.g., \"1 hr 20 min 5 sec\" or \"122.30 ms\")\n * @param {number} seconds - The duration in seconds\n * @example formatDuration(3665) // \"1 hr 1 min 5 sec\"\n * @example formatDuration(125) // \"2 min 5 sec\"\n * @example formatDuration(45) // \"45 sec\"\n * @example formatDuration(0.1223094) // \"122.31 ms\"\n */\nexport const formatDuration = (seconds: number | undefined | null): string => {\n  // Return \"N/A\" if seconds is not a valid number\n  if (seconds == null || typeof seconds !== \"number\" || !Number.isFinite(seconds) || seconds < 0) {\n    return \"N/A\";\n  }\n\n  // If less than 1 second, show in ms (2 decimal places)\n  if (seconds > 0 && seconds < 1) {\n    const ms = seconds * 1000;\n    return `${ms.toFixed(2)} ms`;\n  }\n\n  // Round to nearest second\n  const totalSeconds = Math.round(seconds);\n\n  // Calculate hours, minutes, and seconds\n  const hours = Math.floor(totalSeconds / 3600);\n  const minutes = Math.floor((totalSeconds % 3600) / 60);\n  const remainingSeconds = totalSeconds % 60;\n\n  // Build the formatted string\n  const parts: string[] = [];\n\n  if (hours > 0) {\n    parts.push(`${hours} hr`);\n  }\n\n  if (minutes > 0) {\n    parts.push(`${minutes} min`);\n  }\n\n  if (remainingSeconds > 0 || parts.length === 0) {\n    parts.push(`${remainingSeconds} sec`);\n  }\n\n  return parts.join(\" \");\n};\n\n/**\n * Checks if a date is valid\n * @param date The date to check\n * @returns Whether the date is valid or not\n */\nexport const isValidDate = (date: unknown): date is string | Date =>\n  (typeof date === \"string\" || typeof date === \"object\") && date !== null && !isNaN(Date.parse(date as string));\n","// plane imports\nimport type { ICalendarDate, ICalendarPayload } from \"@plane/types\";\nimport { EStartOfTheWeek } from \"@plane/types\";\n// local imports\nimport { getWeekNumberOfDate, renderFormattedPayloadDate } from \"./datetime\";\n\n/**\n * @returns {ICalendarPayload} calendar payload to render the calendar\n * @param {ICalendarPayload | null} currentStructure current calendar payload\n * @param {Date} startDate date of the month to render\n * @param {EStartOfTheWeek} startOfWeek the day to start the week on\n * @description Returns calendar payload to render the calendar, if currentStructure is null, it will generate the payload for the month of startDate, else it will construct the payload for the month of startDate and append it to the currentStructure\n */\nexport const generateCalendarData = (\n  currentStructure: ICalendarPayload | null,\n  startDate: Date,\n  startOfWeek: EStartOfTheWeek = EStartOfTheWeek.SUNDAY\n): ICalendarPayload => {\n  const calendarData: ICalendarPayload = currentStructure ?? {};\n\n  const startMonth = startDate.getMonth();\n  const startYear = startDate.getFullYear();\n\n  const currentDate = new Date(startYear, startMonth, 1);\n  const year = currentDate.getFullYear();\n  const month = currentDate.getMonth();\n  const totalDaysInMonth = new Date(year, month + 1, 0).getDate();\n  const firstDayOfMonthRaw = new Date(year, month, 1).getDay(); // Sunday is 0, Monday is 1, ..., Saturday is 6\n\n  // Adjust firstDayOfMonth based on startOfWeek preference\n  // This calculates how many empty cells we need at the start of the calendar\n  const firstDayOfMonth = (firstDayOfMonthRaw - startOfWeek + 7) % 7;\n\n  calendarData[`y-${year}`] ||= {};\n  // Always reset the month data to ensure clean regeneration with correct startOfWeek\n  calendarData[`y-${year}`][`m-${month}`] = {};\n\n  const numWeeks = Math.ceil((totalDaysInMonth + firstDayOfMonth) / 7);\n\n  for (let week = 0; week < numWeeks; week++) {\n    const currentWeekObject: { [date: string]: ICalendarDate } = {};\n\n    const weekNumber = getWeekNumberOfDate(new Date(year, month, week * 7 - firstDayOfMonth + 1));\n\n    for (let i = 0; i < 7; i++) {\n      const dayNumber = week * 7 + i - firstDayOfMonth;\n\n      const date = new Date(year, month, dayNumber + 1);\n\n      const formattedDatePayload = renderFormattedPayloadDate(date);\n      if (formattedDatePayload)\n        currentWeekObject[formattedDatePayload] = {\n          date,\n          year,\n          month,\n          day: dayNumber + 1,\n          week: weekNumber,\n          is_current_month: date.getMonth() === month,\n          is_current_week: getWeekNumberOfDate(date) === getWeekNumberOfDate(new Date()),\n          is_today: date.toDateString() === new Date().toDateString(),\n        };\n    }\n\n    // Use sequential week index instead of calculated week number for the key\n    // This ensures weeks are grouped correctly regardless of startOfWeek preference\n    calendarData[`y-${year}`][`m-${month}`][`w-${week}`] = currentWeekObject;\n  }\n\n  return calendarData;\n};\n\n/**\n * Returns a new array sorted by the startOfWeek.\n * @param items Array of items to sort.\n * @param getDayIndex Function to get the day index (0-6) from an item.\n * @param startOfWeek The day to start the week on.\n */\nexport const getOrderedDays = <T>(\n  items: T[],\n  getDayIndex: (item: T) => number,\n  startOfWeek: EStartOfTheWeek = EStartOfTheWeek.SUNDAY\n): T[] =>\n  [...items].sort((a, b) => {\n    const dayA = (7 + getDayIndex(a) - startOfWeek) % 7;\n    const dayB = (7 + getDayIndex(b) - startOfWeek) % 7;\n    return dayA - dayB;\n  });\n","/**\n * Represents an RGB color with numeric values for red, green, and blue components\n * @typedef {Object} TRgb\n * @property {number} r - Red component (0-255)\n * @property {number} g - Green component (0-255)\n * @property {number} b - Blue component (0-255)\n */\nexport type TRgb = { r: number; g: number; b: number };\n\nexport type THsl = { h: number; s: number; l: number };\n\n/**\n * @description Validates and clamps color values to RGB range (0-255)\n * @param {number} value - The color value to validate\n * @returns {number} Clamped and floored value between 0-255\n * @example\n * validateColor(-10) // returns 0\n * validateColor(300) // returns 255\n * validateColor(128) // returns 128\n */\nexport const validateColor = (value: number) => {\n  if (value < 0) return 0;\n  if (value > 255) return 255;\n  return Math.floor(value);\n};\n\n/**\n * Converts a decimal color value to two-character hex\n * @param {number} value - Decimal color value (0-255)\n * @returns {string} Two-character hex value with leading zero if needed\n */\nexport const toHex = (value: number) => validateColor(value).toString(16).padStart(2, \"0\");\n\n/**\n * Converts a hexadecimal color code to RGB values\n * @param {string} hex - The hexadecimal color code (e.g., \"#ff0000\" for red)\n * @returns {RGB} An object containing the RGB values\n * @example\n * hexToRgb(\"#ff0000\") // returns { r: 255, g: 0, b: 0 }\n * hexToRgb(\"#00ff00\") // returns { r: 0, g: 255, b: 0 }\n * hexToRgb(\"#0000ff\") // returns { r: 0, g: 0, b: 255 }\n */\nexport const hexToRgb = (hex: string): TRgb => {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex.trim());\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n      }\n    : { r: 0, g: 0, b: 0 };\n};\n\n/**\n * Converts RGB values to a hexadecimal color code\n * @param {RGB} rgb - An object containing RGB values\n * @param {number} rgb.r - Red component (0-255)\n * @param {number} rgb.g - Green component (0-255)\n * @param {number} rgb.b - Blue component (0-255)\n * @returns {string} The hexadecimal color code (e.g., \"#ff0000\" for red)\n * @example\n * rgbToHex({ r: 255, g: 0, b: 0 }) // returns \"#ff0000\"\n * rgbToHex({ r: 0, g: 255, b: 0 }) // returns \"#00ff00\"\n * rgbToHex({ r: 0, g: 0, b: 255 }) // returns \"#0000ff\"\n */\nexport const rgbToHex = ({ r, g, b }: TRgb): string => `#${toHex(r)}${toHex(g)}${toHex(b)}`;\n\n/**\n * Converts Hex values to HSL values\n * @param {string} hex - The hexadecimal color code (e.g., \"#ff0000\" for red)\n * @returns {HSL} An object containing the HSL values\n * @example\n * hexToHsl(\"#ff0000\") // returns { h: 0, s: 100, l: 50 }\n * hexToHsl(\"#00ff00\") // returns { h: 120, s: 100, l: 50 }\n * hexToHsl(\"#0000ff\") // returns { h: 240, s: 100, l: 50 }\n */\nexport const hexToHsl = (hex: string): THsl => {\n  // return default value for invalid hex\n  if (!/^#[0-9A-Fa-f]{6}$/.test(hex)) return { h: 0, s: 0, l: 0 };\n\n  const r = parseInt(hex.slice(1, 3), 16) / 255;\n  const g = parseInt(hex.slice(3, 5), 16) / 255;\n  const b = parseInt(hex.slice(5, 7), 16) / 255;\n\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  let h = 0;\n  let s = 0;\n  const l = (max + min) / 2;\n\n  if (max !== min) {\n    const d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n\n  return {\n    h: h * 360,\n    s: s * 100,\n    l: l * 100,\n  };\n};\n\n/**\n * Converts HSL values to a hexadecimal color code\n * @param {HSL} hsl - An object containing HSL values\n * @param {number} hsl.h - Hue component (0-360)\n * @param {number} hsl.s - Saturation component (0-100)\n * @param {number} hsl.l - Lightness component (0-100)\n * @returns {string} The hexadecimal color code (e.g., \"#ff0000\" for red)\n * @example\n * hslToHex({ h: 0, s: 100, l: 50 }) // returns \"#ff0000\"\n * hslToHex({ h: 120, s: 100, l: 50 }) // returns \"#00ff00\"\n * hslToHex({ h: 240, s: 100, l: 50 }) // returns \"#0000ff\"\n */\nexport const hslToHex = ({ h, s, l }: THsl): string => {\n  if (h < 0 || h > 360) return \"#000000\";\n  if (s < 0 || s > 100) return \"#000000\";\n  if (l < 0 || l > 100) return \"#000000\";\n\n  l /= 100;\n  const a = (s * Math.min(l, 1 - l)) / 100;\n\n  const f = (n: number) => {\n    const k = (n + h / 30) % 12;\n    const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return Math.round(255 * color)\n      .toString(16)\n      .padStart(2, \"0\");\n  };\n\n  return `#${f(0)}${f(8)}${f(4)}`;\n};\n\n/**\n * Calculate relative luminance of a color according to WCAG\n * @param {Object} rgb - RGB color object with r, g, b properties\n * @returns {number} Relative luminance value\n */\nexport const getLuminance = ({ r, g, b }: TRgb) => {\n  // Convert RGB to sRGB\n  const sR = r / 255;\n  const sG = g / 255;\n  const sB = b / 255;\n\n  // Convert sRGB to linear RGB with gamma correction\n  const R = sR <= 0.03928 ? sR / 12.92 : Math.pow((sR + 0.055) / 1.055, 2.4);\n  const G = sG <= 0.03928 ? sG / 12.92 : Math.pow((sG + 0.055) / 1.055, 2.4);\n  const B = sB <= 0.03928 ? sB / 12.92 : Math.pow((sB + 0.055) / 1.055, 2.4);\n\n  // Calculate luminance\n  return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n};\n\n/**\n * Calculate contrast ratio between two colors\n * @param {Object} rgb1 - First RGB color object\n * @param {Object} rgb2 - Second RGB color object\n * @returns {number} Contrast ratio between the colors\n */\nexport function getContrastRatio(rgb1: { r: number; g: number; b: number }, rgb2: { r: number; g: number; b: number }) {\n  const luminance1 = getLuminance(rgb1);\n  const luminance2 = getLuminance(rgb2);\n\n  const lighter = Math.max(luminance1, luminance2);\n  const darker = Math.min(luminance1, luminance2);\n\n  return (lighter + 0.05) / (darker + 0.05);\n}\n\n/**\n * Lighten a color by a specified amount\n * @param {Object} rgb - RGB color object\n * @param {number} amount - Amount to lighten (0-1)\n * @returns {Object} Lightened RGB color\n */\nexport function lightenColor(rgb: { r: number; g: number; b: number }, amount: number) {\n  return {\n    r: rgb.r + (255 - rgb.r) * amount,\n    g: rgb.g + (255 - rgb.g) * amount,\n    b: rgb.b + (255 - rgb.b) * amount,\n  };\n}\n\n/**\n * Darken a color by a specified amount\n * @param {Object} rgb - RGB color object\n * @param {number} amount - Amount to darken (0-1)\n * @returns {Object} Darkened RGB color\n */\nexport function darkenColor(rgb: { r: number; g: number; b: number }, amount: number) {\n  return {\n    r: rgb.r * (1 - amount),\n    g: rgb.g * (1 - amount),\n    b: rgb.b * (1 - amount),\n  };\n}\n\n/**\n * Generate appropriate foreground and background colors based on input color\n * @param {string} color - Input color in hex format\n * @returns {Object} Object containing foreground and background colors in hex format\n */\nexport function generateIconColors(color: string) {\n  // Parse input color\n  const rgbColor = hexToRgb(color);\n  const luminance = getLuminance(rgbColor);\n\n  // Initialize output colors\n  let foregroundColor = rgbColor;\n\n  // Constants for color adjustment\n  const MIN_CONTRAST_RATIO = 3.0; // Minimum acceptable contrast ratio\n\n  // For light colors, use as foreground and darken for background\n  if (luminance > 0.5) {\n    // Make sure the foreground color is dark enough for visibility\n    let adjustedForeground = foregroundColor;\n    const whiteContrast = getContrastRatio(foregroundColor, { r: 255, g: 255, b: 255 });\n\n    if (whiteContrast < MIN_CONTRAST_RATIO) {\n      // Darken the foreground color until it has enough contrast\n      let darkenAmount = 0.1;\n      while (darkenAmount <= 0.9) {\n        adjustedForeground = darkenColor(foregroundColor, darkenAmount);\n        if (getContrastRatio(adjustedForeground, { r: 255, g: 255, b: 255 }) >= MIN_CONTRAST_RATIO) {\n          break;\n        }\n        darkenAmount += 0.1;\n      }\n      foregroundColor = adjustedForeground;\n    }\n  }\n  // For dark colors, use as foreground and lighten for background\n  else {\n    // Make sure the foreground color is light enough for visibility\n    let adjustedForeground = foregroundColor;\n    const blackContrast = getContrastRatio(foregroundColor, { r: 0, g: 0, b: 0 });\n\n    if (blackContrast < MIN_CONTRAST_RATIO) {\n      // Lighten the foreground color until it has enough contrast\n      let lightenAmount = 0.1;\n      while (lightenAmount <= 0.9) {\n        adjustedForeground = lightenColor(foregroundColor, lightenAmount);\n        if (getContrastRatio(adjustedForeground, { r: 0, g: 0, b: 0 }) >= MIN_CONTRAST_RATIO) {\n          break;\n        }\n        lightenAmount += 0.1;\n      }\n      foregroundColor = adjustedForeground;\n    }\n  }\n\n  return {\n    foreground: rgbToHex({ r: foregroundColor.r, g: foregroundColor.g, b: foregroundColor.b }),\n    background: `rgba(${foregroundColor.r}, ${foregroundColor.g}, ${foregroundColor.b}, 0.25)`,\n  };\n}\n\n/**\n * @description Generates a deterministic HSL color based on input string\n * @param {string} input - Input string to generate color from\n * @returns {THsl} An object containing the HSL values\n * @example\n * generateRandomColor(\"hello\") // returns consistent HSL color for \"hello\"\n * generateRandomColor(\"\") // returns { h: 0, s: 0, l: 0 }\n */\nexport const generateRandomColor = (input: string): THsl => {\n  // If input is falsy, generate a random seed string.\n  // The random seed is created by converting a random number to base-36 and taking a substring.\n  const seed = input || Math.random().toString(36).substring(2, 8);\n\n  const uniqueId = seed.length.toString() + seed; // Unique identifier based on string length\n  const combinedString = uniqueId + seed;\n\n  // Create a hash value from the combined string.\n  const hash = Array.from(combinedString).reduce((acc, char) => {\n    const charCode = char.charCodeAt(0);\n    return (acc << 5) - acc + charCode;\n  }, 0);\n\n  // Derive the HSL values from the hash.\n  const hue = Math.abs(hash % 360);\n  const saturation = 70; // Maintains a good amount of color\n  const lightness = 70; // Increased lightness for a pastel look\n\n  return { h: hue, s: saturation, l: lightness };\n};\n","import { clsx } from \"clsx\";\nimport type { ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\nimport type { CompleteOrEmpty } from \"@plane/types\";\n\n// Support email can be configured by the application\nexport const getSupportEmail = (defaultEmail: string = \"\"): string => defaultEmail;\n\nexport const cn = (...inputs: ClassValue[]) => twMerge(clsx(inputs));\n\n/**\n * Extracts IDs from an array of objects with ID property\n */\nexport const extractIds = <T extends { id: string }>(items: T[]): string[] => items.map((item) => item.id);\n\n/**\n * Checks if an ID exists and is valid within the provided list\n */\nexport const isValidId = (id: string | null | undefined, validIds: string[]): boolean => !!id && validIds.includes(id);\n\n/**\n * Filters an array to only include valid IDs\n */\nexport const filterValidIds = (ids: string[], validIds: string[]): string[] =>\n  ids.filter((id) => validIds.includes(id));\n\n/**\n * Filters an array to include only valid IDs, returning both valid and invalid IDs\n */\nexport const partitionValidIds = (ids: string[], validIds: string[]): { valid: string[]; invalid: string[] } => {\n  const valid: string[] = [];\n  const invalid: string[] = [];\n\n  ids.forEach((id) => {\n    if (validIds.includes(id)) {\n      valid.push(id);\n    } else {\n      invalid.push(id);\n    }\n  });\n\n  return { valid, invalid };\n};\n\n/**\n * Checks if an object is complete (has properties) rather than empty.\n * This helps TypeScript narrow the type from CompleteOrEmpty<T> to T.\n *\n * @param obj The object to check, typed as CompleteOrEmpty<T>\n * @returns A boolean indicating if the object is complete (true) or empty (false)\n */\nexport const isComplete = <T>(obj: CompleteOrEmpty<T>): obj is T => {\n  // Check if object is not null or undefined\n  if (obj == null) return false;\n\n  // Check if it's an object\n  if (typeof obj !== \"object\") return false;\n\n  // Check if it has any own properties\n  return Object.keys(obj).length > 0;\n};\n\nexport const convertRemToPixel = (rem: number): number => rem * 0.9 * 16;\n","import { differenceInCalendarDays } from \"date-fns/differenceInCalendarDays\";\n// local imports\nimport { getDate } from \"./datetime\";\n\n/**\n * @description calculates the total number of filters applied\n * @param {T} filters\n * @returns {number}\n */\nexport const calculateTotalFilters = <T>(filters: T): number =>\n  filters && Object.keys(filters).length > 0\n    ? Object.keys(filters)\n        .map((key) => {\n          const value = filters[key as keyof T];\n          if (value === null) return 0;\n          if (Array.isArray(value)) return value.length;\n          if (typeof value === \"boolean\") return value ? 1 : 0;\n          return 0;\n        })\n        .reduce((curr, prev) => curr + prev, 0)\n    : 0;\n\n/**\n * @description checks if the date satisfies the filter\n * @param {Date} date\n * @param {string} filter\n * @returns {boolean}\n */\nexport const satisfiesDateFilter = (date: Date, filter: string): boolean => {\n  const [value, operator, from] = filter.split(\";\");\n\n  const dateValue = getDate(value);\n  const differenceInDays = differenceInCalendarDays(date, new Date());\n\n  if (operator === \"custom\" && from === \"custom\") {\n    if (value === \"today\") return differenceInDays === 0;\n    if (value === \"yesterday\") return differenceInDays === -1;\n    if (value === \"last_7_days\") return differenceInDays >= -7;\n    if (value === \"last_30_days\") return differenceInDays >= -30;\n  }\n\n  if (!from && dateValue) {\n    if (operator === \"after\") return date >= dateValue;\n    if (operator === \"before\") return date <= dateValue;\n  }\n\n  if (from === \"fromnow\") {\n    if (operator === \"before\") {\n      if (value === \"1_weeks\") return differenceInDays <= -7;\n      if (value === \"2_weeks\") return differenceInDays <= -14;\n      if (value === \"1_months\") return differenceInDays <= -30;\n    }\n\n    if (operator === \"after\") {\n      if (value === \"1_weeks\") return differenceInDays >= 7;\n      if (value === \"2_weeks\") return differenceInDays >= 14;\n      if (value === \"1_months\") return differenceInDays >= 30;\n      if (value === \"2_months\") return differenceInDays >= 60;\n    }\n  }\n\n  return false;\n};\n","import { startOfToday, format } from \"date-fns\";\nimport { isEmpty, orderBy, sortBy, uniqBy } from \"lodash-es\";\n// plane imports\nimport type { ICycle, TCycleFilters, TProgressSnapshot } from \"@plane/types\";\n// local imports\nimport { findTotalDaysInRange, generateDateArray, getDate } from \"./datetime\";\nimport { satisfiesDateFilter } from \"./filter\";\n\n/**\n * Orders cycles based on their status\n * @param {ICycle[]} cycles - Array of cycles to be ordered\n * @param {boolean} sortByManual - Whether to sort by manual order\n * @returns {ICycle[]} Ordered array of cycles\n */\nexport const orderCycles = (cycles: ICycle[], sortByManual: boolean): ICycle[] => {\n  if (cycles.length === 0) return [];\n\n  const acceptedStatuses = [\"current\", \"upcoming\", \"draft\"];\n  const STATUS_ORDER: {\n    [key: string]: number;\n  } = {\n    current: 1,\n    upcoming: 2,\n    draft: 3,\n  };\n\n  let filteredCycles = cycles.filter((c) => acceptedStatuses.includes(c.status?.toLowerCase() ?? \"\"));\n  if (sortByManual) filteredCycles = sortBy(filteredCycles, [(c) => c.sort_order]);\n  else\n    filteredCycles = sortBy(filteredCycles, [\n      (c) => STATUS_ORDER[c.status?.toLowerCase() ?? \"\"],\n      (c) => (c.status?.toLowerCase() === \"upcoming\" ? c.start_date : c.name.toLowerCase()),\n    ]);\n\n  return filteredCycles;\n};\n\n/**\n * Filters cycles based on provided filter criteria\n * @param {ICycle} cycle - The cycle to be filtered\n * @param {TCycleFilters} filter - Filter criteria to apply\n * @returns {boolean} Whether the cycle passes the filter\n */\nexport const shouldFilterCycle = (cycle: ICycle, filter: TCycleFilters): boolean => {\n  let fallsInFilters = true;\n  Object.keys(filter).forEach((key) => {\n    const filterKey = key as keyof TCycleFilters;\n    if (filterKey === \"status\" && filter.status && filter.status.length > 0)\n      fallsInFilters = fallsInFilters && filter.status.includes(cycle.status?.toLowerCase() ?? \"\");\n    if (filterKey === \"start_date\" && filter.start_date && filter.start_date.length > 0) {\n      const startDate = getDate(cycle.start_date);\n      filter.start_date.forEach((dateFilter) => {\n        fallsInFilters = fallsInFilters && !!startDate && satisfiesDateFilter(startDate, dateFilter);\n      });\n    }\n    if (filterKey === \"end_date\" && filter.end_date && filter.end_date.length > 0) {\n      const endDate = getDate(cycle.end_date);\n      filter.end_date.forEach((dateFilter) => {\n        fallsInFilters = fallsInFilters && !!endDate && satisfiesDateFilter(endDate, dateFilter);\n      });\n    }\n  });\n\n  return fallsInFilters;\n};\n\n/**\n * Calculates the scope based on whether it's an issue or estimate points\n * @param {any} p - Progress data\n * @param {boolean} isTypeIssue - Whether the type is an issue\n * @returns {number} Calculated scope\n */\nconst scope = (p: any, isTypeIssue: boolean) => (isTypeIssue ? p.total_issues : p.total_estimate_points);\n\n/**\n * Calculates the ideal progress value\n * @param {string} date - Current date\n * @param {number} scope - Total scope\n * @param {ICycle} cycle - Cycle data\n * @returns {number} Ideal progress value\n */\nconst ideal = (date: string, scope: number, cycle: ICycle) =>\n  Math.floor(\n    ((findTotalDaysInRange(date, cycle.end_date) || 0) /\n      (findTotalDaysInRange(cycle.start_date, cycle.end_date) || 0)) *\n      scope\n  );\n\n/**\n * Formats cycle data for version 1\n * @param {boolean} isTypeIssue - Whether the type is an issue\n * @param {ICycle} cycle - Cycle data\n * @param {boolean} isBurnDown - Whether it's a burn down chart\n * @param {Date|string} endDate - End date\n * @returns {TProgressChartData} Formatted progress data\n */\nconst formatV1Data = (isTypeIssue: boolean, cycle: ICycle, isBurnDown: boolean, endDate: Date | string) => {\n  const today = format(startOfToday(), \"yyyy-MM-dd\");\n  const data = isTypeIssue ? cycle.distribution : cycle.estimate_distribution;\n  const extendedArray = generateDateArray(endDate, endDate).map((d) => d.date);\n\n  if (isEmpty(data)) return [];\n  const progress = [...Object.keys(data.completion_chart), ...extendedArray].map((p) => {\n    const pending = data.completion_chart[p] || 0;\n    const total = isTypeIssue ? cycle.total_issues : cycle.total_estimate_points;\n    const completed = scope(cycle, isTypeIssue) - pending;\n\n    return {\n      date: p,\n      scope: p < today ? scope(cycle, isTypeIssue) : null,\n      completed,\n      backlog: isTypeIssue ? cycle.backlog_issues : cycle.backlog_estimate_points,\n      started: p === today ? cycle[isTypeIssue ? \"started_issues\" : \"started_estimate_points\"] : undefined,\n      unstarted: p === today ? cycle[isTypeIssue ? \"unstarted_issues\" : \"unstarted_estimate_points\"] : undefined,\n      cancelled: p === today ? cycle[isTypeIssue ? \"cancelled_issues\" : \"cancelled_estimate_points\"] : undefined,\n      pending: Math.abs(pending || 0),\n      ideal: p < today ? ideal(p, total || 0, cycle) : p <= cycle.end_date! ? ideal(today, total || 0, cycle) : null,\n      actual: p <= today ? (isBurnDown ? Math.abs(pending) : completed) : undefined,\n    };\n  });\n\n  return progress;\n};\n\n/**\n * Formats cycle data for version 2\n * @param {boolean} isTypeIssue - Whether the type is an issue\n * @param {ICycle} cycle - Cycle data\n * @param {boolean} isBurnDown - Whether it's a burn down chart\n * @param {Date|string} endDate - End date\n * @returns {TProgressChartData} Formatted progress data\n */\nconst formatV2Data = (isTypeIssue: boolean, cycle: ICycle, isBurnDown: boolean, endDate: Date | string) => {\n  if (!cycle.progress) return [];\n  let today: Date | string = startOfToday();\n\n  const extendedArray = endDate > today ? generateDateArray(today, endDate) : [];\n  if (isEmpty(cycle.progress)) return extendedArray;\n  today = format(startOfToday(), \"yyyy-MM-dd\");\n  const todaysData = cycle?.progress[cycle?.progress.length - 1];\n  const scopeToday = scope(todaysData, isTypeIssue);\n  const idealToday = ideal(todaysData.date, scopeToday, cycle);\n\n  let progress = [...orderBy(cycle?.progress, \"date\"), ...extendedArray].map((p) => {\n    const pending = isTypeIssue\n      ? p.total_issues - p.completed_issues - p.cancelled_issues\n      : p.total_estimate_points - p.completed_estimate_points - p.cancelled_estimate_points;\n    const completed = isTypeIssue ? p.completed_issues : p.completed_estimate_points;\n    const dataDate = p.progress_date ? format(new Date(p.progress_date), \"yyyy-MM-dd\") : p.date;\n\n    return {\n      date: dataDate,\n      scope: dataDate! < today ? scope(p, isTypeIssue) : dataDate! <= cycle.end_date! ? scopeToday : null,\n      completed,\n      backlog: isTypeIssue ? p.backlog_issues : p.backlog_estimate_points,\n      started: isTypeIssue ? p.started_issues : p.started_estimate_points,\n      unstarted: isTypeIssue ? p.unstarted_issues : p.unstarted_estimate_points,\n      cancelled: isTypeIssue ? p.cancelled_issues : p.cancelled_estimate_points,\n      pending: Math.abs(pending),\n      ideal:\n        dataDate! < today\n          ? ideal(dataDate, scope(p, isTypeIssue), cycle)\n          : dataDate! < cycle.end_date!\n            ? idealToday\n            : null,\n      actual: dataDate! <= today ? (isBurnDown ? Math.abs(pending) : completed) : undefined,\n    };\n  });\n  progress = uniqBy(progress, \"date\");\n\n  return progress;\n};\n\nexport const formatActiveCycle = (args: {\n  cycle: ICycle;\n  isBurnDown?: boolean | undefined;\n  isTypeIssue?: boolean | undefined;\n}) => {\n  const { cycle, isBurnDown, isTypeIssue } = args;\n  const endDate: Date | string = new Date(cycle.end_date!);\n\n  return cycle.version === 1\n    ? formatV1Data(isTypeIssue!, cycle, isBurnDown!, endDate)\n    : formatV2Data(isTypeIssue!, cycle, isBurnDown!, endDate);\n};\n\n/**\n * Calculates cycle progress percentage excluding cancelled issues from total count\n * Formula: completed / (total - cancelled) * 100\n * This gives accurate progress based on: pendingIssues = totalIssues - completedIssues - cancelledIssues\n * @param cycle - Cycle data object\n * @param estimateType - Whether to calculate based on \"issues\" or \"points\"\n * @param includeInProgress - Whether to include started/in-progress items in completion calculation\n * @returns Progress percentage (0-100)\n */\nexport const calculateCycleProgress = (\n  cycle: ICycle | undefined,\n  estimateType: \"issues\" | \"points\" = \"issues\",\n  includeInProgress: boolean = false\n): number => {\n  if (!cycle) return 0;\n\n  const progressSnapshot: TProgressSnapshot | undefined = cycle.progress_snapshot;\n  const cycleDetails = progressSnapshot && !isEmpty(progressSnapshot) ? progressSnapshot : cycle;\n\n  let completed: number;\n  let cancelled: number;\n  let total: number;\n\n  if (estimateType === \"points\") {\n    completed = cycleDetails.completed_estimate_points || 0;\n    cancelled = cycleDetails.cancelled_estimate_points || 0;\n    total = cycleDetails.total_estimate_points || 0;\n\n    if (includeInProgress) {\n      completed += cycleDetails.started_estimate_points || 0;\n    }\n  } else {\n    completed = cycleDetails.completed_issues || 0;\n    cancelled = cycleDetails.cancelled_issues || 0;\n    total = cycleDetails.total_issues || 0;\n\n    if (includeInProgress) {\n      completed += cycleDetails.started_issues || 0;\n    }\n  }\n\n  // Exclude cancelled issues from total (pendingIssues = total - completed - cancelled)\n  const adjustedTotal = total - cancelled;\n\n  // Handle edge cases\n  if (adjustedTotal === 0) return 0;\n  if (completed < 0 || adjustedTotal < 0) return 0;\n  if (completed > adjustedTotal) return 100;\n\n  // Calculate percentage and round\n  const percentage = (completed / adjustedTotal) * 100;\n  return Math.round(percentage);\n};\n","import { format } from \"date-fns\";\nimport { get, set } from \"lodash-es\";\n// plane imports\nimport { COMPLETED_STATE_GROUPS, STATE_DISTRIBUTION } from \"@plane/constants\";\nimport type { ICycle, IEstimatePoint, IModule, IState, TIssue } from \"@plane/types\";\n// helper\nimport { getDate } from \"./datetime\";\n\nexport type DistributionObjectUpdate = {\n  id: string;\n  completed_issues?: number;\n  pending_issues?: number;\n  total_issues: number;\n  completed_estimates?: number;\n  pending_estimates?: number;\n  total_estimates: number;\n};\n\ntype ChartUpdates = {\n  updates: {\n    path: string[];\n    value: number;\n  }[];\n  isCompleted?: boolean;\n};\n\nexport type DistributionUpdates = {\n  pathUpdates: { path: string[]; value: number }[];\n  assigneeUpdates: DistributionObjectUpdate[];\n  labelUpdates: DistributionObjectUpdate[];\n};\n\n/**\n * Get Distribution updates with the help of previous and next issue states\n * @param prevIssueState\n * @param nextIssueState\n * @param stateMap\n * @param estimatePointById\n * @returns\n */\nexport const getDistributionPathsPostUpdate = (\n  prevIssueState: TIssue | undefined,\n  nextIssueState: TIssue | undefined,\n  stateMap: Record<string, IState>,\n  estimatePointById?: (estimatePointId: string) => IEstimatePoint | undefined\n): DistributionUpdates => {\n  const prevIssueDistribution = getDistributionDataOfIssue(prevIssueState, -1, stateMap, estimatePointById);\n  const nextIssueDistribution = getDistributionDataOfIssue(nextIssueState, 1, stateMap, estimatePointById);\n\n  const prevChartDistribution = prevIssueDistribution.chartUpdates;\n  const nextChartDistribution = nextIssueDistribution.chartUpdates;\n\n  let chartUpdates: {\n    path: string[];\n    value: number;\n  }[];\n\n  // if the completed status of chart updates are same the get chart updates from both the issue states\n  if (prevChartDistribution.isCompleted === nextChartDistribution.isCompleted) {\n    chartUpdates = [...prevChartDistribution.updates, ...nextChartDistribution.updates];\n  } // if not the get chart updates from only the next update\n  else {\n    chartUpdates = [...nextChartDistribution.updates];\n  }\n\n  // merge the updates from both issue states into a single object\n  return {\n    pathUpdates: [...prevIssueDistribution.pathUpdates, ...nextIssueDistribution.pathUpdates, ...chartUpdates],\n    assigneeUpdates: [...prevIssueDistribution.assigneeUpdates, ...nextIssueDistribution.assigneeUpdates],\n    labelUpdates: [...prevIssueDistribution.labelUpdates, ...nextIssueDistribution.labelUpdates],\n  };\n};\n\n/**\n * Get Distribution update for a single issue state\n * @param issue\n * @param multiplier\n * @param stateMap\n * @param estimatePointById\n * @returns\n */\nconst getDistributionDataOfIssue = (\n  issue: TIssue | undefined,\n  multiplier: -1 | 1,\n  stateMap: Record<string, IState>,\n  estimatePointById?: (estimatePointId: string) => IEstimatePoint | undefined\n): DistributionUpdates & { chartUpdates: ChartUpdates } => {\n  const pathUpdates: { path: string[]; value: number }[] = [];\n\n  // If issue does not exist, send a default object\n  if (!issue) return { pathUpdates, assigneeUpdates: [], labelUpdates: [], chartUpdates: { updates: [] } };\n\n  const state = stateMap[issue.state_id ?? \"\"];\n  const stateGroup = state.group;\n\n  // get if the state is in completed state\n  const isCompleted = COMPLETED_STATE_GROUPS.indexOf(stateGroup) > -1;\n  // get estimate point in number for the issue\n  const estimatePoint = parseFloat(estimatePointById?.(issue.estimate_point ?? \"\")?.value ?? \"0\");\n\n  // add all the path updates that can be updated directly on the distribution object\n  pathUpdates.push({ path: [\"total_issues\"], value: multiplier });\n  pathUpdates.push({ path: [\"total_estimate_points\"], value: multiplier * estimatePoint });\n\n  // path updates for state distributions\n  const stateDistribution = STATE_DISTRIBUTION[stateGroup];\n\n  pathUpdates.push({ path: [stateDistribution.issues], value: multiplier });\n  pathUpdates.push({ path: [stateDistribution.points], value: multiplier * estimatePoint });\n\n  // get assignee and label distribution updates\n  const assigneeUpdates = getObjectDistributionArray(issue.assignee_ids, isCompleted, estimatePoint, multiplier);\n  const labelUpdates = getObjectDistributionArray(issue.label_ids, isCompleted, estimatePoint, multiplier);\n\n  // chart updates based on date of completed or not completed\n  const chartUpdates = getChartUpdates(isCompleted, issue.completed_at, estimatePoint, multiplier);\n  return {\n    pathUpdates,\n    assigneeUpdates,\n    labelUpdates,\n    chartUpdates,\n  };\n};\n\n/**\n * This is to get distribution update array for either assignees and labels object\n * @param ids the assignee or label ids of issue\n * @param isCompleted\n * @param estimatePoint\n * @param multiplier\n * @returns\n */\nconst getObjectDistributionArray = (ids: string[], isCompleted: boolean, estimatePoint: number, multiplier: -1 | 1) => {\n  const objectDistributionArray: DistributionObjectUpdate[] = [];\n\n  // iterate over each id\n  for (const id of ids) {\n    const objectDistribution: DistributionObjectUpdate = {\n      id,\n      total_issues: multiplier,\n      total_estimates: estimatePoint * multiplier,\n    };\n\n    // update paths for issue counts and estimate counts\n    if (isCompleted) {\n      objectDistribution[\"completed_issues\"] = multiplier;\n      objectDistribution[\"completed_estimates\"] = estimatePoint * multiplier;\n    } else {\n      objectDistribution[\"pending_issues\"] = multiplier;\n      objectDistribution[\"pending_estimates\"] = estimatePoint * multiplier;\n    }\n\n    objectDistributionArray.push(objectDistribution);\n  }\n\n  return objectDistributionArray;\n};\n\n/**\n * get chart distribution based of completed or not completed states\n * @param isCompleted\n * @param completedAt\n * @param estimatePoint\n * @param multiplier\n * @returns\n */\nconst getChartUpdates = (\n  isCompleted: boolean,\n  completedAt: string | null,\n  estimatePoint: number,\n  multiplier: -1 | 1\n) => {\n  // if completed At date does not exist use current date\n  let dateToUpdate = format(new Date(), \"yyyy-MM-dd\");\n  const completedAtDate = getDate(completedAt);\n  if (completedAt && completedAtDate) {\n    dateToUpdate = format(completedAtDate, \"yyyy-MM-dd\");\n  }\n\n  // multiplier based on isCompleted state, it determines if the current count is to be added or subtracted from the list\n  const completedAtMultiplier = isCompleted ? -1 : 1;\n\n  return {\n    updates: [\n      { path: [\"distribution\", \"completion_chart\", dateToUpdate], value: multiplier * completedAtMultiplier },\n      {\n        path: [\"estimate_distribution\", \"completion_chart\", dateToUpdate],\n        value: multiplier * completedAtMultiplier * estimatePoint,\n      },\n    ],\n    isCompleted,\n  };\n};\n\n/**\n * Method to update distribution of either cycle or module object\n * @param distributionObject\n * @param distributionUpdates\n */\nexport const updateDistribution = (distributionObject: ICycle | IModule, distributionUpdates: DistributionUpdates) => {\n  const { pathUpdates, assigneeUpdates, labelUpdates } = distributionUpdates;\n\n  // iterate over path updates and directly apply changes on the distribution object\n  for (const update of pathUpdates) {\n    const { path, value } = update;\n    const currentValue: number = get(distributionObject, path);\n    if (currentValue !== undefined) set(distributionObject, path, (currentValue ?? 0) + value);\n  }\n\n  // for assignee update iterate through the assignee update and apply at the respective position\n  for (const assigneeUpdate of assigneeUpdates) {\n    const { id } = assigneeUpdate;\n\n    // find and update the assignee issue counts\n    if (Array.isArray(distributionObject.distribution?.assignees)) {\n      const issuesAssignee = distributionObject.distribution?.assignees?.find(\n        (assignee) => assignee.assignee_id === id\n      );\n      if (issuesAssignee) {\n        issuesAssignee.completed_issues += assigneeUpdate.completed_issues ?? 0;\n        issuesAssignee.pending_issues += assigneeUpdate.pending_issues ?? 0;\n        issuesAssignee.total_issues += assigneeUpdate.total_issues;\n      }\n    }\n\n    // find and update the assignee points\n    if (Array.isArray(distributionObject.estimate_distribution?.assignees)) {\n      const pointsAssignee = distributionObject.estimate_distribution?.assignees?.find(\n        (assignee) => assignee.assignee_id === id\n      );\n      if (pointsAssignee) {\n        pointsAssignee.completed_estimates += assigneeUpdate.completed_estimates ?? 0;\n        pointsAssignee.pending_estimates += assigneeUpdate.pending_estimates ?? 0;\n        pointsAssignee.total_estimates += assigneeUpdate.total_estimates;\n      }\n    }\n  }\n\n  for (const labelUpdate of labelUpdates) {\n    const { id } = labelUpdate;\n\n    // find and update the label issue counts\n    if (Array.isArray(distributionObject.distribution?.labels)) {\n      const issuesLabel = distributionObject.distribution?.labels?.find((label) => label.label_id === id);\n      if (issuesLabel) {\n        issuesLabel.completed_issues += labelUpdate.completed_issues ?? 0;\n        issuesLabel.pending_issues += labelUpdate.pending_issues ?? 0;\n        issuesLabel.total_issues += labelUpdate.total_issues;\n      }\n    }\n\n    // find and update the label points\n    if (Array.isArray(distributionObject.estimate_distribution?.labels)) {\n      const pointsLabel = distributionObject.estimate_distribution?.labels?.find((label) => label.label_id === id);\n      if (pointsLabel) {\n        pointsLabel.completed_estimates += labelUpdate.completed_estimates ?? 0;\n        pointsLabel.pending_estimates += labelUpdate.pending_estimates ?? 0;\n        pointsLabel.total_estimates += labelUpdate.total_estimates;\n      }\n    }\n  }\n};\n","// plane imports\nimport { API_BASE_URL } from \"@plane/constants\";\n\n/**\n * @description combine the file path with the base URL\n * @param {string} path\n * @returns {string} final URL with the base URL\n */\nexport const getFileURL = (path: string): string | undefined => {\n  if (!path) return undefined;\n  const isValidURL = path.startsWith(\"http\");\n  if (isValidURL) return path;\n  return `${API_BASE_URL}${path}`;\n};\n\n/**\n * @description this function returns the assetId from the asset source\n * @param {string} src\n * @returns {string} assetId\n */\nexport const getAssetIdFromUrl = (src: string): string => {\n  // remove the last char if it is a slash\n  if (src.charAt(src.length - 1) === \"/\") src = src.slice(0, -1);\n  const sourcePaths = src.split(\"/\");\n  const assetUrl = sourcePaths[sourcePaths.length - 1];\n  return assetUrl;\n};\n\n/**\n * @description encode image via URL to base64\n * @param {string} url\n * @returns\n */\nexport const getBase64Image = async (url: string): Promise<string> => {\n  if (!url || typeof url !== \"string\") {\n    throw new Error(\"Invalid URL provided\");\n  }\n\n  // Try to create a URL object to validate the URL\n  try {\n    new URL(url);\n  } catch {\n    throw new Error(\"Invalid URL format\");\n  }\n\n  const response = await fetch(url);\n  // check if the response is OK\n  if (!response.ok) {\n    throw new Error(`Failed to fetch image: ${response.statusText}`);\n  }\n\n  const blob = await response.blob();\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n      if (reader.result) {\n        resolve(reader.result as string);\n      } else {\n        reject(new Error(\"Failed to convert image to base64.\"));\n      }\n    };\n\n    reader.onerror = () => {\n      reject(new Error(\"Failed to read the image file.\"));\n    };\n\n    reader.readAsDataURL(blob);\n  });\n};\n\n/**\n * @description downloads a CSV file\n * @param {Array<Array<string>> | { [key: string]: string }} data - The data to be exported to CSV\n * @param {string} name - The name of the file to be downloaded\n */\nexport const csvDownload = (data: Array<Array<string>> | { [key: string]: string }, name: string) => {\n  const rows = Array.isArray(data) ? [...data] : [Object.keys(data), Object.values(data)];\n\n  const csvContent = \"data:text/csv;charset=utf-8,\" + rows.map((e) => e.join(\",\")).join(\"\\n\");\n  const encodedUri = encodeURI(csvContent);\n\n  const link = document.createElement(\"a\");\n  link.href = encodedUri;\n  link.download = `${name}.csv`;\n\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n","// local imports\nimport { getFileURL } from \"../file\";\n\ntype TEditorSrcArgs = {\n  assetId: string;\n  projectId?: string;\n  workspaceSlug: string;\n};\n\n/**\n * @description generate the file source using assetId\n * @param {TEditorSrcArgs} args\n */\nexport const getEditorAssetSrc = (args: TEditorSrcArgs): string | undefined => {\n  const { assetId, projectId, workspaceSlug } = args;\n  let url: string | undefined = \"\";\n  if (projectId) {\n    url = getFileURL(`/api/assets/v2/workspaces/${workspaceSlug}/projects/${projectId}/${assetId}/`);\n  } else {\n    url = getFileURL(`/api/assets/v2/workspaces/${workspaceSlug}/${assetId}/`);\n  }\n  return url;\n};\n\n/**\n * @description generate the file source using assetId\n * @param {TEditorSrcArgs} args\n */\nexport const getEditorAssetDownloadSrc = (args: TEditorSrcArgs): string | undefined => {\n  const { assetId, projectId, workspaceSlug } = args;\n  let url: string | undefined = \"\";\n  if (projectId) {\n    url = getFileURL(`/api/assets/v2/workspaces/${workspaceSlug}/projects/${projectId}/download/${assetId}/`);\n  } else {\n    url = getFileURL(`/api/assets/v2/workspaces/${workspaceSlug}/download/${assetId}/`);\n  }\n  return url;\n};\n\nexport const getTextContent = (jsx: React.ReactNode | null | undefined): string => {\n  if (!jsx) return \"\";\n\n  const div = document.createElement(\"div\");\n  div.innerHTML = jsx.toString();\n  return div.textContent?.trim() ?? \"\";\n};\n\nexport const isEditorEmpty = (description: string | undefined): boolean =>\n  !description ||\n  description === \"<p></p>\" ||\n  description === `<p class=\"editor-paragraph-block\"></p>` ||\n  description.trim() === \"\";\n\nexport enum CORE_EXTENSIONS {\n  BLOCKQUOTE = \"blockquote\",\n  BOLD = \"bold\",\n  BULLET_LIST = \"bulletList\",\n  CALLOUT = \"calloutComponent\",\n  CHARACTER_COUNT = \"characterCount\",\n  CODE_BLOCK = \"codeBlock\",\n  CODE_INLINE = \"code\",\n  CUSTOM_COLOR = \"customColor\",\n  CUSTOM_IMAGE = \"imageComponent\",\n  CUSTOM_LINK = \"link\",\n  DOCUMENT = \"doc\",\n  DROP_CURSOR = \"dropCursor\",\n  ENTER_KEY = \"enterKey\",\n  GAP_CURSOR = \"gapCursor\",\n  HARD_BREAK = \"hardBreak\",\n  HEADING = \"heading\",\n  HEADINGS_LIST = \"headingsList\",\n  HISTORY = \"history\",\n  HORIZONTAL_RULE = \"horizontalRule\",\n  IMAGE = \"image\",\n  ITALIC = \"italic\",\n  LIST_ITEM = \"listItem\",\n  MARKDOWN_CLIPBOARD = \"markdownClipboard\",\n  MENTION = \"mention\",\n  ORDERED_LIST = \"orderedList\",\n  PARAGRAPH = \"paragraph\",\n  PLACEHOLDER = \"placeholder\",\n  SIDE_MENU = \"editorSideMenu\",\n  SLASH_COMMANDS = \"slash-command\",\n  STRIKETHROUGH = \"strike\",\n  TABLE = \"table\",\n  TABLE_CELL = \"tableCell\",\n  TABLE_HEADER = \"tableHeader\",\n  TABLE_ROW = \"tableRow\",\n  TASK_ITEM = \"taskItem\",\n  TASK_LIST = \"taskList\",\n  TEXT_ALIGN = \"textAlign\",\n  TEXT_STYLE = \"textStyle\",\n  TYPOGRAPHY = \"typography\",\n  UNDERLINE = \"underline\",\n  UTILITY = \"utility\",\n  WORK_ITEM_EMBED = \"issue-embed-component\",\n  EMOJI = \"emoji\",\n}\n\nexport enum ADDITIONAL_EXTENSIONS {}\n","import type { Text as MDASTText } from \"mdast\";\n\nexport const createTextNode = (value: string): MDASTText => ({\n  type: \"text\",\n  value,\n});\n","import type { Handle } from \"hast-util-to-mdast\";\n// local imports\nimport { createTextNode } from \"./common\";\nimport type { TCustomComponentsMetaData } from \"./types\";\n\ntype TArgs = {\n  metaData: TCustomComponentsMetaData;\n};\n\nexport const parseCustomComponents = (args: TArgs): Record<string, Handle> => {\n  const { metaData } = args;\n\n  const getFileAssetDetails = (id: string) => metaData.file_assets.find((asset) => asset.id === id);\n\n  return {\n    \"image-component\": (_state, node) => {\n      const properties = node.properties || {};\n      const src = String(properties.src);\n      const fileAssetDetails = getFileAssetDetails(src);\n      if (!src || !fileAssetDetails) return createTextNode(\"\");\n      return createTextNode(`![${fileAssetDetails.name}](${fileAssetDetails.url})`);\n    },\n    img: (_state, node) => {\n      const properties = node.properties || {};\n      const src = String(properties.src);\n      const alt = String(properties.alt);\n      if (!src || !alt) return createTextNode(\"\");\n      return createTextNode(`![${alt || \"Image\"}](${src})`);\n    },\n    \"mention-component\": (_state, node) => {\n      const properties = node.properties || {};\n      const userId = String(properties.entity_identifier);\n      const userDetails = metaData.user_mentions.find((user) => user.id === userId);\n      if (!userDetails) return createTextNode(\"\");\n      return createTextNode(`[@${userDetails.display_name || \"Unknown user\"}](${userDetails.url || \"\"}) `);\n    },\n    ...parseExtendedCustomComponents({ metaData }),\n  };\n};\n\nexport const parseExtendedCustomComponents = (_args: TArgs): Record<string, Handle> => ({});\n","import type { Handle } from \"hast-util-to-mdast\";\nimport type { PhrasingContent, Text as MDASTText } from \"mdast\";\n// local imports\nimport { createTextNode } from \"./common\";\n\nconst processMarkElement = (state: Parameters<Handle>[0], node: Parameters<Handle>[1], wrapper: string): MDASTText => {\n  if (node.children && node.children.length > 0) {\n    // Process all children and collect their text content\n    const processedChildren: PhrasingContent[] = [];\n\n    for (const child of node.children) {\n      if (child.type === \"text\") {\n        // Direct text child - keep as is\n        processedChildren.push(child as MDASTText);\n      } else if (child.type === \"element\") {\n        // Element child - recursively process it\n        const processed = state.one(child, node);\n        if (processed) {\n          if (Array.isArray(processed)) {\n            processedChildren.push(...(processed as PhrasingContent[]));\n          } else {\n            processedChildren.push(processed as PhrasingContent);\n          }\n        }\n      }\n    }\n\n    // Concatenate all text content and wrap with the specified wrapper\n    const combinedText = processedChildren.map((child) => (child.type === \"text\" ? child.value : \"\")).join(\"\");\n\n    return createTextNode(`${wrapper}${combinedText}${wrapper}`);\n  }\n\n  // Empty element - return empty text\n  return createTextNode(\"\");\n};\n\nexport const parseMarks: Record<string, Handle> = {\n  u: (state, node) => processMarkElement(state, node, \"\"),\n  i: (state, node) => processMarkElement(state, node, \"_\"),\n  em: (state, node) => processMarkElement(state, node, \"_\"),\n};\n","// - Parses TipTap/ProseMirror HTML fragments\n// - Removes <u> tags (Markdown has no underline)\n// - Adds a space after checkbox inputs for correct GFM task list rendering\n// - Converts to Markdown using rehyperemark, GFM, and remark-stringify\n\nimport type { Element as HASTElement, ElementContent, Parent as HASTParent } from \"hast\";\nimport rehypeParse from \"rehype-parse\";\nimport rehypeRemark from \"rehype-remark\";\nimport remarkGfm from \"remark-gfm\";\nimport remarkStringify from \"remark-stringify\";\nimport { unified } from \"unified\";\n// local imports\nimport { parseCustomComponents } from \"./custom-components-handler\";\nimport { parseMarks } from \"./marks-handler\";\nimport type { TCustomComponentsMetaData } from \"./types\";\n\n// Rehype plugin to handle TipTap task lists and convert them to GFM-compatible format\n// TipTap structure: <li data-type=\"taskItem\"><label><input><span></span></label><div><p>text</p></div></li>\n// We need: <li><input> text (with space after checkbox for proper GFM rendering)\nfunction addSpacesToCheckboxes() {\n  return (tree: HASTParent) => {\n    const helper = (node: HASTParent): void => {\n      if (!Array.isArray(node.children) || node.children.length === 0) return;\n\n      for (let i = 0; i < node.children.length; i++) {\n        const child = node.children[i];\n\n        // Check if this is a task list item\n        if (\n          child &&\n          child.type === \"element\" &&\n          child.tagName === \"li\" &&\n          child.properties &&\n          child.properties[\"data-type\"] === \"taskItem\"\n        ) {\n          const liElement = child;\n\n          // Find the label and div elements\n          const label = liElement.children?.find((c) => c.type === \"element\" && c.tagName === \"label\") as\n            | HASTElement\n            | undefined;\n\n          const contentDiv = liElement.children?.find((c) => c.type === \"element\" && c.tagName === \"div\") as\n            | HASTElement\n            | undefined;\n\n          if (label && contentDiv) {\n            // Find the checkbox input\n            const checkbox = label.children?.find(\n              (c) => c.type === \"element\" && c.tagName === \"input\" && c.properties?.type === \"checkbox\"\n            ) as HASTElement | undefined;\n\n            if (checkbox) {\n              // Extract text content from the div, unwrapping any paragraph tags\n              const textContent: ElementContent[] = [];\n              if (contentDiv.children) {\n                for (const child of contentDiv.children) {\n                  if (child.type === \"element\" && child.tagName === \"p\") {\n                    // Unwrap paragraph - add its children directly\n                    const pElement = child;\n                    if (pElement.children) {\n                      textContent.push(...pElement.children);\n                    }\n                  } else {\n                    // Keep other elements as-is\n                    textContent.push(child);\n                  }\n                }\n              }\n\n              // Flatten the structure: move checkbox and content to be direct children of li\n              liElement.children = [\n                checkbox,\n                { type: \"text\", value: \" \" }, // Add space after checkbox\n                ...textContent,\n              ];\n            }\n          }\n        } else if (child && child.type === \"element\") {\n          helper(child);\n        }\n      }\n    };\n\n    helper(tree);\n  };\n}\n\ntype TArgs = {\n  description_html: string;\n  metaData: TCustomComponentsMetaData;\n  name?: string;\n};\n\n/**\n * Sanitizes a string by escaping HTML entities to prevent XSS attacks\n * @param str - The string to sanitize\n * @returns The sanitized string with escaped HTML entities\n */\nfunction sanitizeHTML(str: string): string {\n  return str\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/'/g, \"&#x27;\");\n}\n\nexport function convertHTMLToMarkdown(args: TArgs): string {\n  const { description_html, metaData, name } = args;\n\n  let updatedDescriptionHtml = description_html;\n  if (name) {\n    const sanitizedName = sanitizeHTML(name);\n    updatedDescriptionHtml = `<h1>${sanitizedName}</h1>\\n\\n${description_html}`;\n  }\n\n  const result = unified()\n    .use(rehypeParse, { fragment: true })\n    .use(addSpacesToCheckboxes)\n    .use(rehypeRemark, {\n      handlers: {\n        ...parseCustomComponents({\n          metaData,\n        }),\n        ...parseMarks,\n      },\n    })\n    .use(remarkGfm)\n    .use(remarkStringify, {\n      handlers: {\n        text: (node: { value: string }): string => node.value,\n      },\n    })\n    .processSync(updatedDescriptionHtml);\n\n  const markdown = String(result.value ?? result);\n\n  return markdown;\n}\n","// plane imports\nimport { RANDOM_EMOJI_CODES } from \"@plane/constants\";\n\n/**\n * Converts a hyphen-separated hexadecimal emoji code to its decimal representation\n * @param {string} emojiUnified - The unified emoji code in hexadecimal format (e.g., \"1f600\" or \"1f1e6-1f1e8\")\n * @returns {string} The decimal representation of the emoji code (e.g., \"128512\" or \"127462-127464\")\n * @example\n * convertHexEmojiToDecimal(\"1f600\") // returns \"128512\"\n * convertHexEmojiToDecimal(\"1f1e6-1f1e8\") // returns \"127462-127464\"\n * convertHexEmojiToDecimal(\"\") // returns \"\"\n */\nexport const convertHexEmojiToDecimal = (emojiUnified: string): string => {\n  if (!emojiUnified) return \"\";\n\n  return emojiUnified\n    .toString()\n    .split(\"-\")\n    .map((e) => parseInt(e, 16))\n    .join(\"-\");\n};\n\n/**\n * Converts a hyphen-separated decimal emoji code back to its hexadecimal representation\n * @param {string} emoji - The emoji code in decimal format (e.g., \"128512\" or \"127462-127464\")\n * @returns {string} The hexadecimal representation of the emoji code (e.g., \"1f600\" or \"1f1e6-1f1e8\")\n * @example\n * emojiCodeToUnicode(\"128512\") // returns \"1f600\"\n * emojiCodeToUnicode(\"127462-127464\") // returns \"1f1e6-1f1e8\"\n * emojiCodeToUnicode(\"\") // returns \"\"\n */\nexport const emojiCodeToUnicode = (emoji: string): string => {\n  if (!emoji) return \"\";\n\n  // convert emoji code to unicode\n  const uniCodeEmoji = emoji\n    .toString()\n    .split(\"-\")\n    .map((emoji) => parseInt(emoji, 10).toString(16))\n    .join(\"-\");\n\n  return uniCodeEmoji;\n};\n\n/**\n * Groups reactions by a specified key\n * @param {any[]} reactions - Array of reaction objects\n * @param {string} key - Key to group reactions by\n * @returns {Object} Object with reactions grouped by the specified key\n */\nexport const groupReactions: (reactions: any[], key: string) => { [key: string]: any[] } = (\n  reactions: any,\n  key: string\n) => {\n  if (!Array.isArray(reactions)) {\n    console.error(\"Expected an array of reactions, but got:\", reactions);\n    return {};\n  }\n\n  const groupedReactions = reactions.reduce(\n    (acc: any, reaction: any) => {\n      if (!reaction || typeof reaction !== \"object\" || !Object.prototype.hasOwnProperty.call(reaction, key)) {\n        console.warn(\"Skipping undefined reaction or missing key:\", reaction);\n        return acc; // Skip undefined reactions or those without the specified key\n      }\n\n      if (!acc[reaction[key]]) {\n        acc[reaction[key]] = [];\n      }\n      acc[reaction[key]].push(reaction);\n      return acc;\n    },\n    {} as { [key: string]: any[] }\n  );\n\n  return groupedReactions;\n};\n\n/**\n * Returns a random emoji code from the RANDOM_EMOJI_CODES array\n * @returns {string} A random emoji code\n */\nexport const getRandomEmoji = (): string => RANDOM_EMOJI_CODES[Math.floor(Math.random() * RANDOM_EMOJI_CODES.length)];\n","// plane web constants\nimport { EEstimateSystem } from \"@plane/constants\";\n\nexport const isEstimatePointValuesRepeated = (\n  estimatePoints: string[],\n  estimateType: EEstimateSystem,\n  newEstimatePoint?: string\n) => {\n  const currentEstimatePoints = estimatePoints.map((estimatePoint) => estimatePoint.trim());\n  let isRepeated = false;\n\n  if (newEstimatePoint === undefined) {\n    if (estimateType === EEstimateSystem.CATEGORIES) {\n      const points = new Set(currentEstimatePoints);\n      if (points.size != currentEstimatePoints.length) isRepeated = true;\n    } else if ([EEstimateSystem.POINTS, EEstimateSystem.TIME].includes(estimateType)) {\n      currentEstimatePoints.map((point) => {\n        if (Number(point) === Number(newEstimatePoint)) isRepeated = true;\n      });\n    }\n  } else {\n    if (estimateType === EEstimateSystem.CATEGORIES) {\n      currentEstimatePoints.map((point) => {\n        if (point === newEstimatePoint.trim()) isRepeated = true;\n      });\n    } else if ([EEstimateSystem.POINTS, EEstimateSystem.TIME].includes(estimateType)) {\n      currentEstimatePoints.map((point) => {\n        if (Number(point) === Number(newEstimatePoint.trim())) isRepeated = true;\n      });\n    }\n  }\n\n  return isRepeated;\n};\n","import {\n  Github,\n  Linkedin,\n  Twitter,\n  Facebook,\n  Instagram,\n  Youtube,\n  Dribbble,\n  Figma,\n  FileText,\n  FileImage,\n  FileVideo,\n  FileAudio,\n  FileArchive,\n  FileSpreadsheet,\n  FileCode,\n  Mail,\n  Chrome,\n  Link2,\n} from \"lucide-react\";\n\ntype IconMatcher = {\n  pattern: RegExp;\n  icon: typeof Github;\n};\n\nconst SOCIAL_MEDIA_MATCHERS: IconMatcher[] = [\n  { pattern: /github\\.com/, icon: Github },\n  { pattern: /linkedin\\.com/, icon: Linkedin },\n  { pattern: /(twitter\\.com|x\\.com)/, icon: Twitter },\n  { pattern: /facebook\\.com/, icon: Facebook },\n  { pattern: /instagram\\.com/, icon: Instagram },\n  { pattern: /youtube\\.com/, icon: Youtube },\n  { pattern: /dribbble\\.com/, icon: Dribbble },\n];\n\nconst PRODUCTIVITY_MATCHERS: IconMatcher[] = [\n  { pattern: /figma\\.com/, icon: Figma },\n  { pattern: /(google\\.com|docs\\.|doc\\.)/, icon: FileText },\n];\n\nconst FILE_TYPE_MATCHERS: IconMatcher[] = [\n  { pattern: /\\.(jpg|jpeg|png|gif|bmp|svg|webp)$/, icon: FileImage },\n  { pattern: /\\.(mp4|mov|avi|wmv|flv|mkv)$/, icon: FileVideo },\n  { pattern: /\\.(mp3|wav|ogg)$/, icon: FileAudio },\n  { pattern: /\\.(zip|rar|7z|tar|gz)$/, icon: FileArchive },\n  { pattern: /\\.(xls|xlsx|csv)$/, icon: FileSpreadsheet },\n  { pattern: /\\.(pdf|doc|docx|txt)$/, icon: FileText },\n  { pattern: /\\.(html|js|ts|jsx|tsx|css|scss)$/, icon: FileCode },\n];\n\nconst OTHER_MATCHERS: IconMatcher[] = [\n  { pattern: /^mailto:/, icon: Mail },\n  { pattern: /^http/, icon: Chrome },\n];\n\nexport const getIconForLink = (url: string) => {\n  const lowerUrl = url.toLowerCase();\n\n  const allMatchers = [...SOCIAL_MEDIA_MATCHERS, ...PRODUCTIVITY_MATCHERS, ...FILE_TYPE_MATCHERS, ...OTHER_MATCHERS];\n\n  const matchedIcon = allMatchers.find(({ pattern }) => pattern.test(lowerUrl));\n  return matchedIcon?.icon ?? Link2;\n};\n","import { subDays } from \"date-fns\";\n// plane imports\nimport { EPastDurationFilters } from \"@plane/constants\";\n// local imports\nimport { renderFormattedPayloadDate } from \"./datetime\";\n\nexport const getCustomDates = (duration: EPastDurationFilters): string => {\n  const today = new Date();\n  let firstDay, lastDay;\n\n  switch (duration) {\n    case EPastDurationFilters.TODAY: {\n      firstDay = renderFormattedPayloadDate(today);\n      lastDay = renderFormattedPayloadDate(today);\n      return `${firstDay};after,${lastDay};before`;\n    }\n    case EPastDurationFilters.YESTERDAY: {\n      const yesterday = subDays(today, 1);\n      firstDay = renderFormattedPayloadDate(yesterday);\n      lastDay = renderFormattedPayloadDate(yesterday);\n      return `${firstDay};after,${lastDay};before`;\n    }\n    case EPastDurationFilters.LAST_7_DAYS: {\n      firstDay = renderFormattedPayloadDate(subDays(today, 7));\n      lastDay = renderFormattedPayloadDate(today);\n      return `${firstDay};after,${lastDay};before`;\n    }\n    case EPastDurationFilters.LAST_30_DAYS: {\n      firstDay = renderFormattedPayloadDate(subDays(today, 30));\n      lastDay = renderFormattedPayloadDate(today);\n      return `${firstDay};after,${lastDay};before`;\n    }\n  }\n};\n","import type { TLoader } from \"@plane/types\";\n\n// checks if a loader has finished initialization\nexport const isLoaderReady = (loader: TLoader | undefined) => loader !== \"init-loader\";\n","export const getProgress = (completed: number | undefined, total: number | undefined) =>\n  total && total > 0 ? Math.round(((completed ?? 0) / total) * 100) : 0;\n","import { sortBy } from \"lodash-es\";\n// plane imports\nimport type { IModule, TModuleDisplayFilters, TModuleFilters, TModuleOrderByOptions } from \"@plane/types\";\n// local imports\nimport { getDate } from \"./datetime\";\nimport { satisfiesDateFilter } from \"./filter\";\n\nconst collator = new Intl.Collator(\"en-US\", { numeric: true, sensitivity: \"base\" });\n\n/**\n * @description performs natural sorting of strings (handles numbers within strings correctly)\n * @param {string} a - first string to compare\n * @param {string} b - second string to compare\n * @returns {number} - comparison result (-1, 0, or 1)\n */\nconst naturalSort = (a: string, b: string): number => collator.compare(a, b);\n/**\n * @description orders modules based on their status\n * @param {IModule[]} modules\n * @param {TModuleOrderByOptions | undefined} orderByKey\n * @returns {IModule[]}\n */\nexport const orderModules = (modules: IModule[], orderByKey: TModuleOrderByOptions | undefined): IModule[] => {\n  let orderedModules: IModule[] = [];\n  if (modules.length === 0 || !orderByKey) return [];\n\n  if (orderByKey === \"name\") orderedModules = [...modules].sort((a, b) => naturalSort(a.name, b.name));\n  if (orderByKey === \"-name\") orderedModules = [...modules].sort((a, b) => naturalSort(b.name, a.name));\n  if ([\"progress\", \"-progress\"].includes(orderByKey))\n    orderedModules = sortBy(modules, [\n      (m) => {\n        let progress = (m.completed_issues + m.cancelled_issues) / m.total_issues;\n        if (isNaN(progress)) progress = 0;\n        return orderByKey === \"progress\" ? progress : -progress;\n      },\n    ]);\n  if ([\"issues_length\", \"-issues_length\"].includes(orderByKey))\n    orderedModules = sortBy(modules, [(m) => (orderByKey === \"issues_length\" ? m.total_issues : !m.total_issues)]);\n  if (orderByKey === \"target_date\") orderedModules = sortBy(modules, [(m) => m.target_date]);\n  if (orderByKey === \"-target_date\") orderedModules = sortBy(modules, [(m) => !m.target_date]);\n  if (orderByKey === \"created_at\") orderedModules = sortBy(modules, [(m) => m.created_at]);\n  if (orderByKey === \"-created_at\") orderedModules = sortBy(modules, [(m) => !m.created_at]);\n\n  if (orderByKey === \"sort_order\") orderedModules = sortBy(modules, [(m) => m.sort_order]);\n  return orderedModules;\n};\n\n/**\n * @description filters modules based on the filters\n * @param {IModule} module\n * @param {TModuleDisplayFilters} displayFilters\n * @param {TModuleFilters} filters\n * @returns {boolean}\n */\nexport const shouldFilterModule = (\n  module: IModule,\n  displayFilters: TModuleDisplayFilters,\n  filters: TModuleFilters\n): boolean => {\n  let fallsInFilters = true;\n  Object.keys(filters).forEach((key) => {\n    const filterKey = key as keyof TModuleFilters;\n    if (filterKey === \"status\" && filters.status && filters.status.length > 0)\n      fallsInFilters = fallsInFilters && filters.status.includes(module.status?.toLowerCase() ?? \"\");\n    if (filterKey === \"lead\" && filters.lead && filters.lead.length > 0)\n      fallsInFilters = fallsInFilters && filters.lead.includes(`${module.lead_id}`);\n    if (filterKey === \"members\" && filters.members && filters.members.length > 0) {\n      const memberIds = module.member_ids;\n      fallsInFilters = fallsInFilters && filters.members.some((memberId) => memberIds.includes(memberId));\n    }\n    if (filterKey === \"start_date\" && filters.start_date && filters.start_date.length > 0) {\n      const startDate = getDate(module.start_date);\n      filters.start_date.forEach((dateFilter) => {\n        fallsInFilters = fallsInFilters && !!startDate && satisfiesDateFilter(startDate, dateFilter);\n      });\n    }\n    if (filterKey === \"target_date\" && filters.target_date && filters.target_date.length > 0) {\n      const endDate = getDate(module.target_date);\n      filters.target_date.forEach((dateFilter) => {\n        fallsInFilters = fallsInFilters && !!endDate && satisfiesDateFilter(endDate, dateFilter);\n      });\n    }\n  });\n  if (displayFilters.favorites && !module.is_favorite) fallsInFilters = false;\n\n  return fallsInFilters;\n};\n","import DOMPurify from \"dompurify\";\nimport type { Content, JSONContent } from \"@plane/types\";\n\n/**\n * @description Adds space between camelCase words\n * @param {string} str - String to add spaces to\n * @returns {string} String with spaces between camelCase words\n * @example\n * addSpaceIfCamelCase(\"camelCase\") // returns \"camel Case\"\n * addSpaceIfCamelCase(\"thisIsATest\") // returns \"this Is A Test\"\n */\nexport const addSpaceIfCamelCase = (str: string) => {\n  if (str === undefined || str === null) return \"\";\n\n  if (typeof str !== \"string\") str = `${str}`;\n\n  return str.replace(/([a-z])([A-Z])/g, \"$1 $2\");\n};\n\n/**\n * @description Replaces underscores with spaces in snake_case strings\n * @param {string} str - String to replace underscores in\n * @returns {string} String with underscores replaced by spaces\n * @example\n * replaceUnderscoreIfSnakeCase(\"snake_case\") // returns \"snake case\"\n */\nexport const replaceUnderscoreIfSnakeCase = (str: string) => str.replace(/_/g, \" \");\n\n/**\n * @description Truncates text to specified length and adds ellipsis\n * @param {string} str - String to truncate\n * @param {number} length - Maximum length before truncation\n * @returns {string} Truncated string with ellipsis if needed\n * @example\n * truncateText(\"This is a long text\", 7) // returns \"This is...\"\n */\nexport const truncateText = (str: string, length: number) => {\n  if (!str || str === \"\") return \"\";\n\n  return str.length > length ? `${str.substring(0, length)}...` : str;\n};\n\n/**\n * @description Creates a similar string by randomly shuffling characters\n * @param {string} str - String to shuffle\n * @returns {string} Shuffled string with same characters\n * @example\n * createSimilarString(\"hello\") // might return \"olleh\" or \"lehol\"\n */\nexport const createSimilarString = (str: string) => {\n  const shuffled = str\n    .split(\"\")\n    .sort(() => Math.random() - 0.5)\n    .join(\"\");\n\n  return shuffled;\n};\n\n/**\n * @description Copies full URL (origin + path) to clipboard\n * @param {string} path - URL path to copy\n * @returns {Promise<void>} Promise that resolves when copying is complete\n * @example\n * await copyUrlToClipboard(\"issues/123\") // copies \"https://example.com/issues/123\"\n */\nexport const copyUrlToClipboard = async (path: string) => {\n  // get origin or default to empty string if not in browser\n  const originUrl = typeof window !== \"undefined\" ? window.location.origin : \"\";\n  // create URL object and ensure proper path formatting\n  const url = new URL(path, originUrl);\n  await copyTextToClipboard(url.toString());\n};\n\n/**\n * @description Gets first character of first word or first characters of first two words\n * @param {string} str - Input string\n * @returns {string} First character(s)\n * @example\n * getFirstCharacters(\"John\") // returns \"J\"\n * getFirstCharacters(\"John Doe\") // returns \"JD\"\n */\nexport const getFirstCharacters = (str: string) => {\n  const words = str.trim().split(\" \");\n  if (words.length === 1) {\n    return words[0].charAt(0);\n  } else {\n    return words[0].charAt(0) + words[1].charAt(0);\n  }\n};\n\n/**\n * @description Formats number count, showing \"99+\" for numbers over 99\n * @param {number} number - Number to format\n * @returns {string} Formatted number string\n * @example\n * getNumberCount(50) // returns \"50\"\n * getNumberCount(100) // returns \"99+\"\n */\nexport const getNumberCount = (number: number): string => {\n  if (number > 99) {\n    return \"99+\";\n  }\n  return number.toString();\n};\n\n/**\n * @description: This function will capitalize the first letter of a string\n * @param str String\n * @returns String\n */\nexport const capitalizeFirstLetter = (str: string) => str.charAt(0).toUpperCase() + str.slice(1);\n\n/**\n * @description : This function will remove all the HTML tags from the string\n * @param {string} htmlString\n * @return {string}\n * @example :\n * const html = \"<p>Some text</p>\";\nconst text = stripHTML(html);\nconsole.log(text); // Some text\n */\nexport const sanitizeHTML = (htmlString: string) => {\n  const sanitizedText = DOMPurify.sanitize(htmlString, { ALLOWED_TAGS: [] }); // sanitize the string to remove all HTML tags\n  return sanitizedText.trim(); // trim the string to remove leading and trailing whitespaces\n};\n\n/**\n * @description: This function will remove all the HTML tags from the string and truncate the string to the specified length\n * @param {string} html\n * @param {number} length\n * @return {string}\n * @example:\n * const html = \"<p>Some text</p>\";\n * const text = stripAndTruncateHTML(html);\n * console.log(text); // Some text\n */\nexport const stripAndTruncateHTML = (html: string, length: number = 55) => truncateText(sanitizeHTML(html), length);\n\n/**\n * @returns {boolean} true if email is valid, false otherwise\n * @description Returns true if email is valid, false otherwise\n * @param {string} email string to check if it is a valid email\n * @example checkEmailValidity(\"hello world\") => false\n * @example checkEmailValidity(\"example@plane.so\") => true\n */\nexport const checkEmailValidity = (email: string): boolean => {\n  if (!email) return false;\n\n  const isEmailValid =\n    /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n      email\n    );\n\n  return isEmailValid;\n};\n\nexport const isEmptyHtmlString = (htmlString: string, allowedHTMLTags: string[] = []) => {\n  // Remove HTML tags using DOMPurify\n  const cleanText = DOMPurify.sanitize(htmlString, { ALLOWED_TAGS: allowedHTMLTags });\n  // Trim the string and check if it's empty\n  return cleanText.trim() === \"\";\n};\n\n/**\n * @description\n * Check if a JSONContent object is empty\n * @param {JSONContent} content\n * @returns {boolean}\n */\nexport const isJSONContentEmpty = (content: JSONContent | undefined): boolean => {\n  // If it has text, check if text is meaningful\n  if (!content) {\n    return true;\n  }\n  if (content.text !== undefined) {\n    return !content.text || content.text.trim() === \"\";\n  }\n\n  // If it has no content array, consider it empty\n  if (!content.content || content.content.length === 0) {\n    // Special case: empty paragraph nodes should be considered empty\n    if (content.type === \"paragraph\" || content.type === \"doc\") {\n      return true;\n    }\n    // For other node types without content (like hard breaks), check if they're meaningful\n    return (\n      content.type !== \"hardBreak\" &&\n      content.type !== \"image\" &&\n      content.type !== \"mention-component\" &&\n      content.type !== \"image-component\"\n    );\n  }\n\n  // Check if all nested content is empty\n  return content.content.every(isJSONContentEmpty);\n};\n\n/**\n * @description\n * This function will check if the comment is empty or not.\n * It returns true if comment is empty.\n * Now supports TipTap Content types (HTMLContent, JSONContent, JSONContent[], null)\n *\n * For HTML content:\n * 1. If comment is undefined/null\n * 2. If comment is an empty string\n * 3. If comment is \"<p></p>\"\n * 4. If comment contains only empty HTML tags\n *\n * For JSON content:\n * 1. If content is null/undefined\n * 2. If content has no meaningful text or nested content\n * 3. If all nested content is empty\n *\n * @param {Content} comment - TipTap Content type\n * @returns {boolean}\n */\nexport const isCommentEmpty = (comment: Content | undefined): boolean => {\n  // Handle null/undefined\n  if (!comment) return true;\n\n  // Handle HTMLContent (string)\n  if (typeof comment === \"string\") {\n    return (\n      comment.trim() === \"\" ||\n      comment === \"<p></p>\" ||\n      isEmptyHtmlString(comment, [\"img\", \"mention-component\", \"image-component\"])\n    );\n  }\n\n  // Handle JSONContent[] (array)\n  if (Array.isArray(comment)) {\n    return comment.length === 0 || comment.every(isJSONContentEmpty);\n  }\n\n  // Handle JSONContent (object)\n  return isJSONContentEmpty(comment);\n};\n\n/**\n * @description\n * Legacy function for backward compatibility with string comments\n * @param {string | undefined} comment\n * @returns {boolean}\n * @deprecated Use isCommentEmpty with Content type instead\n */\nexport const isStringCommentEmpty = (comment: string | undefined): boolean => {\n  // return true if comment is undefined\n  if (!comment) return true;\n  return (\n    comment?.trim() === \"\" ||\n    comment === \"<p></p>\" ||\n    isEmptyHtmlString(comment ?? \"\", [\"img\", \"mention-component\", \"image-component\", \"embed-component\"])\n  );\n};\n\n/**\n * @description\n * This function test whether a URL is valid or not.\n *\n * It accepts URLs with or without the protocol.\n * @param {string} url\n * @returns {boolean}\n * @example\n * checkURLValidity(\"https://example.com\") => true\n * checkURLValidity(\"example.com\") => true\n * checkURLValidity(\"example\") => false\n */\nexport const checkURLValidity = (url: string): boolean => {\n  if (!url) return false;\n\n  // regex to support complex query parameters and fragments\n  const urlPattern =\n    /^(https?:\\/\\/)?((([a-z\\d-]+\\.)*[a-z\\d-]+\\.[a-z]{2,6})|(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}))(:\\d+)?(\\/[\\w.-]*)*(\\?[^#\\s]*)?(#[\\w-]*)?$/i;\n\n  return urlPattern.test(url);\n};\n\n/**\n * Combines array elements with a separator and adds a conjunction before the last element\n * @param array Array of strings to combine\n * @param separator Separator to use between elements (default: \", \")\n * @param conjunction Conjunction to use before last element (default: \"and\")\n * @returns Combined string with conjunction before the last element\n */\nexport const joinWithConjunction = (array: string[], separator: string = \", \", conjunction: string = \"and\"): string => {\n  if (!array || array.length === 0) return \"\";\n  if (array.length === 1) return array[0];\n  if (array.length === 2) return `${array[0]} ${conjunction} ${array[1]}`;\n\n  const lastElement = array[array.length - 1];\n  const elementsExceptLast = array.slice(0, -1);\n\n  return `${elementsExceptLast.join(separator)}${separator}${conjunction} ${lastElement}`;\n};\n\n/**\n * @description Ensures a URL has a protocol\n * @param {string} url\n * @returns {string}\n * @example\n * ensureUrlHasProtocol(\"example.com\") => \"http://example.com\"\n */\nexport const ensureUrlHasProtocol = (url: string): string => (url.startsWith(\"http\") ? url : `http://${url}`);\n\n/**\n * @returns {boolean} true if searchQuery is substring of text in the same order, false otherwise\n * @description Returns true if searchQuery is substring of text in the same order, false otherwise\n * @param {string} text string to compare from\n * @param {string} searchQuery\n * @example substringMatch(\"hello world\", \"hlo\") => true\n * @example substringMatch(\"hello world\", \"hoe\") => false\n */\nexport const substringMatch = (text: string, searchQuery: string): boolean => {\n  try {\n    let searchIndex = 0;\n\n    for (let i = 0; i < text.length; i++) {\n      if (text[i].toLowerCase() === searchQuery[searchIndex]?.toLowerCase()) searchIndex++;\n\n      // All characters of searchQuery found in order\n      if (searchIndex === searchQuery.length) return true;\n    }\n\n    // Not all characters of searchQuery found in order\n    return false;\n  } catch (_err) {\n    return false;\n  }\n};\n\n/**\n * @description Copies text to clipboard\n * @param {string} text - Text to copy\n * @returns {Promise<void>} Promise that resolves when copying is complete\n * @example\n * await copyTextToClipboard(\"Hello, World!\") // copies \"Hello, World!\" to clipboard\n */\nconst fallbackCopyTextToClipboard = (text: string) => {\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n\n  // Avoid scrolling to bottom\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    // FIXME: Even though we are using this as a fallback, execCommand is deprecated . We should find a better way to do this.\n    // https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand\n    document.execCommand(\"copy\");\n  } catch (_err) {\n    // catch fallback error\n  }\n\n  document.body.removeChild(textArea);\n};\n\n/**\n * @description Copies text to clipboard\n * @param {string} text - Text to copy\n * @returns {Promise<void>} Promise that resolves when copying is complete\n * @example\n * await copyTextToClipboard(\"Hello, World!\") // copies \"Hello, World!\" to clipboard\n */\nexport const copyTextToClipboard = async (text: string): Promise<void> => {\n  if (!navigator.clipboard) {\n    fallbackCopyTextToClipboard(text);\n    return;\n  }\n  await navigator.clipboard.writeText(text);\n};\n\n/**\n * @description Joins URL path segments properly, removing duplicate slashes using URL encoding\n * @param {...string} segments - URL path segments to join\n * @returns {string} Properly joined URL path\n * @example\n * joinUrlPath(\"/workspace\", \"/projects\") => \"/workspace/projects\"\n * joinUrlPath(\"/workspace\", \"projects\") => \"/workspace/projects\"\n * joinUrlPath(\"workspace\", \"projects\") => \"/workspace/projects\"\n * joinUrlPath(\"/workspace/\", \"/projects/\") => \"/workspace/projects/\"\n */\nexport const joinUrlPath = (...segments: string[]): string => {\n  if (segments.length === 0) return \"\";\n\n  // Filter out empty segments\n  const validSegments = segments.filter((segment) => segment !== \"\");\n  if (validSegments.length === 0) return \"\";\n\n  // Process segments to normalize slashes\n  const processedSegments = validSegments.map((segment, index) => {\n    let processed = segment;\n\n    // Remove leading slashes from all segments except the first\n    while (processed.startsWith(\"/\")) {\n      processed = processed.substring(1);\n    }\n\n    // Remove trailing slashes from all segments except the last\n    if (index < validSegments.length - 1) {\n      while (processed.endsWith(\"/\")) {\n        processed = processed.substring(0, processed.length - 1);\n      }\n    }\n\n    return processed;\n  });\n\n  // Join segments with single slash\n  const joined = processedSegments.join(\"/\");\n\n  // Use URL constructor to normalize the path and handle double slashes\n  try {\n    // Create a dummy URL to leverage browser's URL normalization\n    const dummyUrl = new URL(`http://example.com/${joined}`);\n    return dummyUrl.pathname;\n  } catch {\n    // Fallback: manually handle double slashes by splitting and filtering\n    const pathParts = joined.split(\"/\").filter((part) => part !== \"\");\n    return pathParts.length > 0 ? `/${pathParts.join(\"/\")}` : \"\";\n  }\n};\n","import { stripAndTruncateHTML } from \"./string\";\n\nexport const sanitizeCommentForNotification = (mentionContent: string | undefined) =>\n  mentionContent\n    ? stripAndTruncateHTML(\n        mentionContent.replace(/<mention-component\\b[^>]*\\blabel=\"([^\"]*)\"[^>]*><\\/mention-component>/g, \"$1\")\n      )\n    : mentionContent;\n","import { sortBy } from \"lodash-es\";\n// plane imports\nimport type {\n  TPage,\n  TPageFilterProps,\n  TPageFiltersSortBy,\n  TPageFiltersSortKey,\n  TPageNavigationTabs,\n} from \"@plane/types\";\n// local imports\nimport { getDate } from \"./datetime\";\nimport { satisfiesDateFilter } from \"./filter\";\n\n/**\n * @description filters pages based on the page type\n * @param {TPageNavigationTabs} pageType\n * @param {TPage[]} pages\n * @returns {TPage[]}\n */\nexport const filterPagesByPageType = (pageType: TPageNavigationTabs, pages: TPage[]): TPage[] =>\n  pages.filter((page) => {\n    if (pageType === \"public\") return page.access === 0 && !page.archived_at;\n    if (pageType === \"private\") return page.access === 1 && !page.archived_at;\n    if (pageType === \"archived\") return page.archived_at;\n    return true;\n  });\n\n/**\n * @description orders pages based on their status\n * @param {TPage[]} pages\n * @param {TPageFiltersSortKey | undefined} sortByKey\n * @param {TPageFiltersSortBy} sortByOrder\n * @returns {TPage[]}\n */\nexport const orderPages = (\n  pages: TPage[],\n  sortByKey: TPageFiltersSortKey | undefined,\n  sortByOrder: TPageFiltersSortBy\n): TPage[] => {\n  let orderedPages: TPage[] = [];\n  if (pages.length === 0 || !sortByKey) return [];\n\n  if (sortByKey === \"name\") {\n    orderedPages = sortBy(pages, [(m) => m.name?.toLowerCase()]);\n    if (sortByOrder === \"desc\") orderedPages = orderedPages.reverse();\n  }\n  if (sortByKey === \"created_at\") {\n    orderedPages = sortBy(pages, [(m) => m.created_at]);\n    if (sortByOrder === \"desc\") orderedPages = orderedPages.reverse();\n  }\n  if (sortByKey === \"updated_at\") {\n    orderedPages = sortBy(pages, [(m) => m.updated_at]);\n    if (sortByOrder === \"desc\") orderedPages = orderedPages.reverse();\n  }\n\n  return orderedPages;\n};\n\n/**\n * @description filters pages based on the filters\n * @param {TPage} page\n * @param {TPageFilterProps | undefined} filters\n * @returns {boolean}\n */\nexport const shouldFilterPage = (page: TPage, filters: TPageFilterProps | undefined): boolean => {\n  let fallsInFilters = true;\n  Object.keys(filters ?? {}).forEach((key) => {\n    const filterKey = key as keyof TPageFilterProps;\n    if (filterKey === \"created_by\" && filters?.created_by && filters.created_by.length > 0)\n      fallsInFilters = fallsInFilters && filters.created_by.includes(`${page.owned_by}`);\n    if (filterKey === \"created_at\" && filters?.created_at && filters.created_at.length > 0) {\n      const createdDate = getDate(page.created_at);\n      filters?.created_at.forEach((dateFilter) => {\n        fallsInFilters = fallsInFilters && !!createdDate && satisfiesDateFilter(createdDate, dateFilter);\n      });\n    }\n  });\n  if (filters?.favorites && !page.is_favorite) fallsInFilters = false;\n\n  return fallsInFilters;\n};\n\n/**\n * @description returns the name of the project after checking for untitled page\n * @param {string | undefined} name\n * @returns {string}\n */\nexport const getPageName = (name: string | undefined) => {\n  if (name === undefined) return \"\";\n  if (!name || name.trim() === \"\") return \"Untitled\";\n  return name;\n};\n","// plane imports\nimport { EUserPermissions } from \"@plane/constants\";\nimport type { EUserProjectRoles, EUserWorkspaceRoles } from \"@plane/types\";\n\nexport const getUserRole = (role: EUserPermissions | EUserWorkspaceRoles | EUserProjectRoles) => {\n  switch (role) {\n    case EUserPermissions.GUEST:\n      return \"GUEST\";\n    case EUserPermissions.MEMBER:\n      return \"MEMBER\";\n    case EUserPermissions.ADMIN:\n      return \"ADMIN\";\n  }\n};\n\ntype TSupportedRole = EUserPermissions | EUserProjectRoles | EUserWorkspaceRoles;\n\n/**\n * @description Returns the highest role from an array of supported roles\n * @param { TSupportedRole[] } roles\n * @returns { TSupportedRole | undefined }\n */\nexport const getHighestRole = <T extends TSupportedRole>(roles: T[]): T | undefined => {\n  if (!roles || roles.length === 0) return undefined;\n  return roles.reduce((highest, current) => (current > highest ? current : highest));\n};\n","import { isNil, orderBy } from \"lodash-es\";\n// plane imports\nimport { SPACE_BASE_PATH, SPACE_BASE_URL } from \"@plane/constants\";\nimport type { IProjectView, TViewFilterProps, TViewFiltersSortBy, TViewFiltersSortKey } from \"@plane/types\";\n// local imports\nimport { getDate } from \"./datetime\";\nimport { satisfiesDateFilter } from \"./filter\";\n\n/**\n * order views base on TViewFiltersSortKey\n * @param views\n * @param sortByKey\n * @param sortByOrder\n * @returns\n */\nexport const orderViews = (\n  views: IProjectView[],\n  sortByKey: TViewFiltersSortKey | undefined,\n  sortByOrder: TViewFiltersSortBy\n): IProjectView[] => {\n  if (views.length === 0 || !sortByKey) return [];\n\n  let iterableFunction;\n  if (sortByKey === \"name\") {\n    iterableFunction = (view: IProjectView) => view.name?.toLowerCase();\n  }\n  if (sortByKey === \"created_at\") {\n    iterableFunction = (view: IProjectView) => view.created_at;\n  }\n  if (sortByKey === \"updated_at\") {\n    iterableFunction = (view: IProjectView) => view.updated_at;\n  }\n\n  if (!iterableFunction) return [];\n\n  return orderBy(views, [iterableFunction], [sortByOrder]);\n};\n\n/**\n * Checks if the passed down view should be filtered or not\n * @param view\n * @param filters\n * @returns\n */\nexport const shouldFilterView = (view: IProjectView, filters: TViewFilterProps | undefined): boolean => {\n  let fallsInFilters = true;\n  Object.keys(filters ?? {}).forEach((key) => {\n    const filterKey = key as keyof TViewFilterProps;\n    if (filterKey === \"owned_by\" && filters?.owned_by && filters.owned_by.length > 0) {\n      fallsInFilters = fallsInFilters && filters.owned_by.includes(`${view.created_by}`);\n    }\n\n    if (filterKey === \"created_at\" && filters?.created_at && filters.created_at.length > 0) {\n      const createdDate = getDate(view.created_at);\n      filters?.created_at.forEach((dateFilter) => {\n        fallsInFilters = fallsInFilters && !!createdDate && satisfiesDateFilter(createdDate, dateFilter);\n      });\n    }\n\n    if (filterKey === \"view_type\" && filters?.view_type && filters?.view_type?.length > 0) {\n      fallsInFilters = filters.view_type.includes(view.access);\n    }\n  });\n\n  if (filters?.favorites && !view.is_favorite) fallsInFilters = false;\n\n  return fallsInFilters;\n};\n\n/**\n * @description returns the name of the project after checking for untitled view\n * @param {string | undefined} name\n * @returns {string}\n */\nexport const getViewName = (name: string | undefined) => {\n  if (name === undefined) return \"\";\n  if (!name || name.trim() === \"\") return \"Untitled\";\n  return name;\n};\n\n/**\n * Adds validation for the view creation filters\n * @param data\n * @returns\n */\nexport const getValidatedViewFilters = (data: Partial<IProjectView>) => {\n  if (data?.display_filters && data?.display_filters?.layout === \"kanban\" && isNil(data.display_filters.group_by)) {\n    data.display_filters.group_by = \"state\";\n  }\n\n  return data;\n};\n\n/**\n * returns published view link\n * @param anchor\n * @returns\n */\nexport const getPublishViewLink = (anchor: string | undefined) => {\n  if (!anchor) return;\n\n  const SPACE_APP_URL = (SPACE_BASE_URL.trim() === \"\" ? window.location.origin : SPACE_BASE_URL) + SPACE_BASE_PATH;\n  return `${SPACE_APP_URL}/views/${anchor}`;\n};\n","import { sortBy } from \"lodash-es\";\n// plane imports\nimport type { TProject, TProjectDisplayFilters, TProjectFilters, TProjectOrderByOptions } from \"@plane/types\";\n// local imports\nimport { getDate } from \"./datetime\";\nimport { satisfiesDateFilter } from \"./filter\";\n\n/**\n * Updates the sort order of the project.\n * @param sortIndex\n * @param destinationIndex\n * @param projectId\n * @returns number | undefined\n */\nexport const orderJoinedProjects = (\n  sourceIndex: number,\n  destinationIndex: number,\n  currentProjectId: string,\n  joinedProjects: TProject[]\n): number | undefined => {\n  if (!currentProjectId || sourceIndex < 0 || destinationIndex < 0 || joinedProjects.length <= 0) return undefined;\n\n  let updatedSortOrder: number | undefined = undefined;\n  const sortOrderDefaultValue = 10000;\n\n  if (destinationIndex === 0) {\n    // updating project at the top of the project\n    const currentSortOrder = joinedProjects[destinationIndex].sort_order || 0;\n    updatedSortOrder = currentSortOrder - sortOrderDefaultValue;\n  } else if (destinationIndex === joinedProjects.length) {\n    // updating project at the bottom of the project\n    const currentSortOrder = joinedProjects[destinationIndex - 1].sort_order || 0;\n    updatedSortOrder = currentSortOrder + sortOrderDefaultValue;\n  } else {\n    // updating project in the middle of the project\n    const destinationTopProjectSortOrder = joinedProjects[destinationIndex - 1].sort_order || 0;\n    const destinationBottomProjectSortOrder = joinedProjects[destinationIndex].sort_order || 0;\n    const updatedValue = (destinationTopProjectSortOrder + destinationBottomProjectSortOrder) / 2;\n    updatedSortOrder = updatedValue;\n  }\n\n  return updatedSortOrder;\n};\n\nexport const projectIdentifierSanitizer = (identifier: string): string =>\n  identifier.replace(/[^IA-Za-z0-9]/g, \"\");\n\n/**\n * @description filters projects based on the filter\n * @param {TProject} project\n * @param {TProjectFilters} filters\n * @param {TProjectDisplayFilters} displayFilters\n * @returns {boolean}\n */\nexport const shouldFilterProject = (\n  project: TProject,\n  displayFilters: TProjectDisplayFilters,\n  filters: TProjectFilters\n): boolean => {\n  let fallsInFilters = true;\n  Object.keys(filters).forEach((key) => {\n    const filterKey = key as keyof TProjectFilters;\n    if (filterKey === \"access\" && filters.access && filters.access.length > 0)\n      fallsInFilters = fallsInFilters && filters.access.includes(`${project.network}`);\n    if (filterKey === \"lead\" && filters.lead && filters.lead.length > 0)\n      fallsInFilters = fallsInFilters && filters.lead.includes(`${project.project_lead}`);\n    if (filterKey === \"members\" && filters.members && filters.members.length > 0) {\n      const memberIds = project.members;\n      fallsInFilters = fallsInFilters && filters.members.some((memberId) => memberIds?.includes(memberId));\n    }\n    if (filterKey === \"created_at\" && filters.created_at && filters.created_at.length > 0) {\n      const createdDate = getDate(project.created_at);\n      filters.created_at.forEach((dateFilter) => {\n        fallsInFilters = fallsInFilters && !!createdDate && satisfiesDateFilter(createdDate, dateFilter);\n      });\n    }\n  });\n  if (displayFilters.my_projects && !project.member_role) fallsInFilters = false;\n  if (displayFilters.archived_projects && !project.archived_at) fallsInFilters = false;\n  if (project.archived_at) fallsInFilters = displayFilters.archived_projects ? fallsInFilters : false;\n\n  return fallsInFilters;\n};\n\n/**\n * @description orders projects based on the orderByKey\n * @param {TProject[]} projects\n * @param {TProjectOrderByOptions | undefined} orderByKey\n * @returns {TProject[]}\n */\nexport const orderProjects = (projects: TProject[], orderByKey: TProjectOrderByOptions | undefined): TProject[] => {\n  let orderedProjects: TProject[] = [];\n  if (projects.length === 0) return orderedProjects;\n\n  if (orderByKey === \"sort_order\") orderedProjects = sortBy(projects, [(p) => p.sort_order]);\n  if (orderByKey === \"name\") orderedProjects = sortBy(projects, [(p) => p.name.toLowerCase()]);\n  if (orderByKey === \"-name\") orderedProjects = sortBy(projects, [(p) => p.name.toLowerCase()]).reverse();\n  if (orderByKey === \"created_at\") orderedProjects = sortBy(projects, [(p) => p.created_at]);\n  if (orderByKey === \"-created_at\") orderedProjects = sortBy(projects, [(p) => !p.created_at]);\n  if (orderByKey === \"members_length\") orderedProjects = sortBy(projects, [(p) => p.members?.length]);\n  if (orderByKey === \"-members_length\") orderedProjects = sortBy(projects, [(p) => p.members?.length]).reverse();\n\n  return orderedProjects;\n};\n","import type {\n  FILTER_FIELD_TYPE,\n  TBaseFilterFieldConfig,\n  TDateFilterFieldConfig,\n  TDateRangeFilterFieldConfig,\n  TFilterConfig,\n  TFilterProperty,\n  TFilterFieldType,\n  TFilterValue,\n  TMultiSelectFilterFieldConfig,\n  TSingleSelectFilterFieldConfig,\n  TSupportedFilterFieldConfigs,\n  TSupportedOperators,\n} from \"@plane/types\";\n\n/**\n * Helper to create a type-safe filter config\n * @param config - The filter config to create\n * @returns The created filter config\n */\nexport const createFilterConfig = <P extends TFilterProperty, V extends TFilterValue>(\n  config: TFilterConfig<P, V>\n): TFilterConfig<P, V> => config;\n\n/**\n * Base parameters for filter type config factory functions.\n * - operator: The operator to use for the filter.\n */\nexport type TCreateFilterConfigParams = Omit<TBaseFilterFieldConfig, \"isOperatorEnabled\"> & {\n  isEnabled: boolean;\n  allowedOperators: Set<TSupportedOperators>;\n  rightContent?: React.ReactNode; // content to display on the right side of the filter option in the dropdown\n  tooltipContent?: React.ReactNode; // content to display when hovering over the applied filter item in the filter list\n};\n\n/**\n * Type for filter icon type\n */\nexport type TFilterIconType = string | number | boolean | object | undefined;\n\n/**\n * Icon configuration for filters and their options.\n * - filterIcon: Optional icon for the filter\n * - getOptionIcon: Function to get icon for specific option values\n */\nexport interface IFilterIconConfig<T extends TFilterIconType = undefined> {\n  filterIcon?: React.FC<React.SVGAttributes<SVGElement>>;\n  getOptionIcon?: (value: T) => React.ReactNode;\n}\n\n/**\n * Date filter config params\n */\nexport type TCreateDateFilterParams = TCreateFilterConfigParams & IFilterIconConfig<Date>;\n\n/**\n * Helper to create an operator entry for the supported operators map.\n * This ensures consistency between the operator key and the operator passed to the config function.\n * @param operator - The operator to use as both key and parameter\n * @param createParams - The base filter configuration parameters\n * @param configFn - Function that creates the operator config using base configuration\n * @returns A tuple of operator and its config\n */\nexport const createOperatorConfigEntry = <T, P extends TCreateFilterConfigParams>(\n  operator: TSupportedOperators,\n  createParams: P,\n  configFn: (updatedParams: P) => T\n): [TSupportedOperators, T] => [\n  operator,\n  configFn({ isOperatorEnabled: createParams.allowedOperators.has(operator), ...createParams }),\n];\n\n/**\n * Factory function signature for creating filter configurations.\n */\nexport type TCreateFilterConfig<P extends TFilterProperty, T> = (params: T) => TFilterConfig<P>;\n\n/**\n * Helper to create a type-safe filter field config\n * @param config - The filter field config to create\n * @returns The created filter field config\n */\nexport const createFilterFieldConfig = <T extends TFilterFieldType, V extends TFilterValue>(\n  config: T extends typeof FILTER_FIELD_TYPE.SINGLE_SELECT\n    ? TSingleSelectFilterFieldConfig<V>\n    : T extends typeof FILTER_FIELD_TYPE.MULTI_SELECT\n      ? TMultiSelectFilterFieldConfig<V>\n      : T extends typeof FILTER_FIELD_TYPE.DATE\n        ? TDateFilterFieldConfig<V>\n        : T extends typeof FILTER_FIELD_TYPE.DATE_RANGE\n          ? TDateRangeFilterFieldConfig<V>\n          : never\n): TSupportedFilterFieldConfigs<V> => config as TSupportedFilterFieldConfigs<V>;\n","// plane imports\nimport type { TFilterValue, TSupportedOperators, TBaseFilterFieldConfig } from \"@plane/types\";\nimport { FILTER_FIELD_TYPE } from \"@plane/types\";\n// local imports\nimport type { IFilterIconConfig } from \"./shared\";\nimport { createFilterFieldConfig } from \"./shared\";\n\n// ------------ Selection filters ------------\n\n/**\n * Options transformation interface for selection filters\n */\nexport interface TOptionTransforms<TItem, TValue extends TFilterValue = string, TIconData = undefined> {\n  items: TItem[];\n  getId: (item: TItem) => string;\n  getLabel: (item: TItem) => string;\n  getValue: (item: TItem) => TValue;\n  getIconData?: (item: TItem) => TIconData;\n}\n\n/**\n * Single-select filter configuration\n */\nexport type TSingleSelectConfig<TValue extends TFilterValue = string> = TBaseFilterFieldConfig & {\n  defaultValue?: TValue;\n};\n\n/**\n * Helper to get the single select config\n * @param transforms - How to transform items into options\n * @param config - Single-select specific configuration\n * @param iconConfig - Icon configuration for options\n * @returns The single select config\n */\nexport const getSingleSelectConfig = <\n  TItem,\n  TValue extends TFilterValue = string,\n  TIconData extends string | number | boolean | object | undefined = undefined,\n>(\n  transforms: TOptionTransforms<TItem, TValue, TIconData>,\n  config: TSingleSelectConfig<TValue>,\n  iconConfig?: IFilterIconConfig<TIconData>\n) =>\n  createFilterFieldConfig<typeof FILTER_FIELD_TYPE.SINGLE_SELECT, TValue>({\n    type: FILTER_FIELD_TYPE.SINGLE_SELECT,\n    ...config,\n    getOptions: () =>\n      transforms.items.map((item) => ({\n        id: transforms.getId(item),\n        label: transforms.getLabel(item),\n        value: transforms.getValue(item),\n        icon: iconConfig?.getOptionIcon?.(transforms.getIconData?.(item) as TIconData),\n      })),\n  });\n\n/**\n * Multi-select filter configuration\n */\nexport type TMultiSelectConfig<TValue extends TFilterValue = string> = TBaseFilterFieldConfig & {\n  defaultValue?: TValue[];\n  singleValueOperator: TSupportedOperators;\n};\n\n/**\n * Helper to get the multi select config\n * @param transforms - How to transform items into options\n * @param config - Multi-select specific configuration\n * @param iconConfig - Icon configuration for options\n * @returns The multi select config\n */\nexport const getMultiSelectConfig = <\n  TItem,\n  TValue extends TFilterValue = string,\n  TIconData extends string | number | boolean | object | undefined = undefined,\n>(\n  transforms: TOptionTransforms<TItem, TValue, TIconData>,\n  config: TMultiSelectConfig<TValue>,\n  iconConfig?: IFilterIconConfig<TIconData>\n) =>\n  createFilterFieldConfig<typeof FILTER_FIELD_TYPE.MULTI_SELECT, TValue>({\n    type: FILTER_FIELD_TYPE.MULTI_SELECT,\n    ...config,\n    operatorLabel: config?.operatorLabel,\n    getOptions: () =>\n      transforms.items.map((item) => ({\n        id: transforms.getId(item),\n        label: transforms.getLabel(item),\n        value: transforms.getValue(item),\n        icon: iconConfig?.getOptionIcon?.(transforms.getIconData?.(item) as TIconData),\n      })),\n  });\n\n// ------------ Date filters ------------\n\n/**\n * Date filter configuration\n */\nexport type TDateConfig = TBaseFilterFieldConfig & {\n  min?: Date;\n  max?: Date;\n};\n\n/**\n * Date range filter configuration\n */\nexport type TDateRangeConfig = TBaseFilterFieldConfig & {\n  min?: Date;\n  max?: Date;\n};\n\n/**\n * Helper to get the date picker config\n * @param config - Date-specific configuration\n * @returns The date picker config\n */\nexport const getDatePickerConfig = (config: TDateConfig) =>\n  createFilterFieldConfig<typeof FILTER_FIELD_TYPE.DATE, Date>({\n    type: FILTER_FIELD_TYPE.DATE,\n    ...config,\n  });\n\n/**\n * Helper to get the date range picker config\n * @param config - Date range-specific configuration\n * @returns The date range picker config\n */\nexport const getDateRangePickerConfig = (config: TDateRangeConfig) =>\n  createFilterFieldConfig<typeof FILTER_FIELD_TYPE.DATE_RANGE, Date>({\n    type: FILTER_FIELD_TYPE.DATE_RANGE,\n    ...config,\n  });\n","// plane imports\nimport type { IProject, IUserLite, TOperatorConfigMap, TSupportedOperators } from \"@plane/types\";\nimport { COMPARISON_OPERATOR, EQUALITY_OPERATOR } from \"@plane/types\";\n// local imports\nimport { getDatePickerConfig, getDateRangePickerConfig, getMultiSelectConfig } from \"../core\";\nimport type { IFilterIconConfig, TCreateDateFilterParams, TCreateFilterConfigParams, TFilterIconType } from \"../shared\";\nimport { createOperatorConfigEntry } from \"../shared\";\n\n// ------------ Base User Filter Types ------------\n\n/**\n * User filter specific params\n */\nexport type TCreateUserFilterParams = TCreateFilterConfigParams &\n  IFilterIconConfig<IUserLite> & {\n    members: IUserLite[];\n  };\n\n/**\n * Helper to get the member multi select config\n * @param params - The filter params\n * @returns The member multi select config\n */\nexport const getMemberMultiSelectConfig = (params: TCreateUserFilterParams, singleValueOperator: TSupportedOperators) =>\n  getMultiSelectConfig<IUserLite, string, IUserLite>(\n    {\n      items: params.members,\n      getId: (member) => member.id,\n      getLabel: (member) => member.display_name,\n      getValue: (member) => member.id,\n      getIconData: (member) => member,\n    },\n    {\n      singleValueOperator,\n      ...params,\n    },\n    {\n      ...params,\n    }\n  );\n\n// ------------ Date Operators ------------\n\nexport const getSupportedDateOperators = (params: TCreateDateFilterParams): TOperatorConfigMap<Date> =>\n  new Map([\n    createOperatorConfigEntry(EQUALITY_OPERATOR.EXACT, params, (updatedParams) => getDatePickerConfig(updatedParams)),\n    createOperatorConfigEntry(COMPARISON_OPERATOR.RANGE, params, (updatedParams) =>\n      getDateRangePickerConfig(updatedParams)\n    ),\n  ]);\n\n// ------------ Project filter ------------\n\n/**\n * Project filter specific params\n */\nexport type TCreateProjectFilterParams = TCreateFilterConfigParams &\n  IFilterIconConfig<IProject> & {\n    projects: IProject[];\n  };\n\n/**\n * Helper to get the project multi select config\n * @param params - The filter params\n * @returns The member multi select config\n */\nexport const getProjectMultiSelectConfig = (\n  params: TCreateProjectFilterParams,\n  singleValueOperator: TSupportedOperators\n) =>\n  getMultiSelectConfig<IProject, string, IProject>(\n    {\n      items: params.projects,\n      getId: (project) => project.id,\n      getLabel: (project) => project.name,\n      getValue: (project) => project.id,\n      getIconData: (project) => project,\n    },\n    {\n      singleValueOperator,\n      ...params,\n    },\n    {\n      ...params,\n    }\n  );\n\n/**\n * Custom property filter specific params\n */\nexport type TCustomPropertyFilterParams<T extends TFilterIconType> = TCreateFilterConfigParams &\n  IFilterIconConfig<T> & {\n    propertyDisplayName: string;\n  };\n","// plane imports\nimport type { TFilterProperty } from \"@plane/types\";\n// local imports\nimport type { TCreateDateFilterParams, TCreateFilterConfig } from \"../shared\";\nimport { createFilterConfig } from \"../shared\";\nimport type { TCustomPropertyFilterParams } from \"./shared\";\nimport { getSupportedDateOperators } from \"./shared\";\n\n/**\n * Date property filter specific params\n */\nexport type TCreateDatePropertyFilterParams = TCustomPropertyFilterParams<Date> & TCreateDateFilterParams;\n\n/**\n * Get the date property filter config\n * @param params - The filter params\n * @returns The date property filter config\n */\nexport const getDatePropertyFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateDatePropertyFilterParams> =>\n  (params: TCreateDatePropertyFilterParams) =>\n    createFilterConfig({\n      id: key,\n      ...params,\n      label: params.propertyDisplayName,\n      icon: params.filterIcon,\n      allowMultipleFilters: true,\n      supportedOperatorConfigsMap: getSupportedDateOperators(params),\n    });\n","// plane imports\nimport type { IUserLite, TFilterProperty } from \"@plane/types\";\nimport { EQUALITY_OPERATOR } from \"@plane/types\";\n// local imports\nimport type { TCreateFilterConfig } from \"../shared\";\nimport { createFilterConfig, createOperatorConfigEntry } from \"../shared\";\nimport type { TCreateUserFilterParams, TCustomPropertyFilterParams } from \"./shared\";\nimport { getMemberMultiSelectConfig } from \"./shared\";\n\n/**\n * Member picker property filter specific params\n */\ntype TCreateMemberPickerPropertyFilterParams = TCustomPropertyFilterParams<IUserLite> & TCreateUserFilterParams;\n\n/**\n * Get the member picker property filter config\n * @param params - The filter params\n * @returns The member picker property filter config\n */\nexport const getMemberPickerPropertyFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateMemberPickerPropertyFilterParams> =>\n  (params: TCreateMemberPickerPropertyFilterParams) =>\n    createFilterConfig({\n      id: key,\n      ...params,\n      label: params.propertyDisplayName,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(EQUALITY_OPERATOR.EXACT, params, (updatedParams) =>\n          getMemberMultiSelectConfig(updatedParams, EQUALITY_OPERATOR.EXACT)\n        ),\n      ]),\n    });\n","import { v4 as uuidv4 } from \"uuid\";\n// plane imports\nimport type {\n  TFilterAndGroupNode,\n  TFilterConditionNode,\n  TFilterConditionPayload,\n  TFilterExpression,\n  TFilterProperty,\n  TFilterValue,\n} from \"@plane/types\";\nimport { FILTER_NODE_TYPE, LOGICAL_OPERATOR } from \"@plane/types\";\n\n/**\n * Creates a condition node with a unique ID.\n * @param condition - The condition to create\n * @returns The created condition node\n */\nexport const createConditionNode = <P extends TFilterProperty, V extends TFilterValue>(\n  condition: TFilterConditionPayload<P, V>\n): TFilterConditionNode<P, V> => ({\n  id: uuidv4(),\n  type: FILTER_NODE_TYPE.CONDITION,\n  ...condition,\n});\n\n/**\n * Creates an AND group node with a unique ID.\n * @param nodes - The nodes to add to the group\n * @returns The created AND group node\n */\nexport const createAndGroupNode = <P extends TFilterProperty>(\n  nodes: TFilterExpression<P>[]\n): TFilterAndGroupNode<P> => ({\n  id: uuidv4(),\n  type: FILTER_NODE_TYPE.GROUP,\n  logicalOperator: LOGICAL_OPERATOR.AND,\n  children: nodes,\n});\n","import type {\n  TFilterAndGroupNode,\n  TFilterConditionNode,\n  TFilterExpression,\n  TFilterFieldType,\n  TFilterGroupNode,\n  TFilterProperty,\n  TFilterValue,\n} from \"@plane/types\";\nimport { FILTER_FIELD_TYPE, FILTER_NODE_TYPE, LOGICAL_OPERATOR } from \"@plane/types\";\n\n/**\n * Type guard to check if a node is a condition node.\n * @param node - The node to check\n * @returns True if the node is a condition node\n */\nexport const isConditionNode = <P extends TFilterProperty, V extends TFilterValue>(\n  node: TFilterExpression<P>\n): node is TFilterConditionNode<P, V> => node.type === FILTER_NODE_TYPE.CONDITION;\n\n/**\n * Type guard to check if a node is a group node.\n * @param node - The node to check\n * @returns True if the node is a group node\n */\nexport const isGroupNode = <P extends TFilterProperty>(node: TFilterExpression<P>): node is TFilterGroupNode<P> =>\n  node.type === FILTER_NODE_TYPE.GROUP;\n\n/**\n * Type guard to check if a group node is an AND group.\n * @param group - The group node to check\n * @returns True if the group is an AND group\n */\nexport const isAndGroupNode = <P extends TFilterProperty>(\n  group: TFilterGroupNode<P>\n): group is TFilterAndGroupNode<P> => group.logicalOperator === LOGICAL_OPERATOR.AND;\n\n/**\n * Type guard to check if a group node has children property\n * @param group - The group node to check\n * @returns True if the group has children property\n */\nexport const hasChildrenProperty = <P extends TFilterProperty>(\n  group: TFilterGroupNode<P>\n): group is TFilterAndGroupNode<P> => {\n  const groupWithChildren = group as { children?: unknown };\n  return \"children\" in group && Array.isArray(groupWithChildren.children);\n};\n\n/**\n * Safely gets the children array from an AND group node.\n * @param group - The AND group node\n * @returns The children array\n */\nexport const getAndGroupChildren = <P extends TFilterProperty>(group: TFilterAndGroupNode<P>): TFilterExpression<P>[] =>\n  group.children;\n\n/**\n * Type guard to check if a filter type is a date filter type.\n * @param type - The filter type to check\n * @returns True if the filter type is a date filter type\n */\nexport const isDateFilterType = (\n  type: TFilterFieldType\n): type is typeof FILTER_FIELD_TYPE.DATE | typeof FILTER_FIELD_TYPE.DATE_RANGE =>\n  type === FILTER_FIELD_TYPE.DATE || type === FILTER_FIELD_TYPE.DATE_RANGE;\n","// plane imports\nimport type { TFilterAndGroupNode, TFilterExpression, TFilterGroupNode, TFilterProperty } from \"@plane/types\";\n// local imports\nimport { getAndGroupChildren, isAndGroupNode } from \"./core\";\n\ntype TProcessGroupNodeHandlers<P extends TFilterProperty, T> = {\n  onAndGroup: (group: TFilterAndGroupNode<P>) => T;\n};\n\n/**\n * Generic helper to process group nodes with type-safe handlers.\n * @param group - The group node to process\n * @param handlers - Object with handlers for each group type\n * @returns Result of the appropriate handler\n */\nexport const processGroupNode = <P extends TFilterProperty, T>(\n  group: TFilterGroupNode<P>,\n  handlers: TProcessGroupNodeHandlers<P, T>\n): T => {\n  if (isAndGroupNode(group)) {\n    return handlers.onAndGroup(group);\n  }\n  throw new Error(`Invalid group node: unknown logical operator ${group}`);\n};\n\n/**\n * Gets the children of a group node, handling AND/OR groups (children array) and NOT groups (single child).\n * Uses processGroupNode for consistent group type handling.\n * @param group - The group node to get children from\n * @returns Array of child expressions\n */\nexport const getGroupChildren = <P extends TFilterProperty>(group: TFilterGroupNode<P>): TFilterExpression<P>[] =>\n  processGroupNode(group, {\n    onAndGroup: (andGroup) => getAndGroupChildren(andGroup),\n  });\n","// plane imports\nimport type { SingleOrArray, TFilterExpression, TFilterProperty, TFilterValue } from \"@plane/types\";\n// local imports\nimport { getGroupChildren } from \"../types\";\nimport { isConditionNode, isGroupNode } from \"../types/core\";\n\n/**\n * Determines whether to notify about a change based on the filter value.\n * @param value - The filter value to check\n * @returns True if we should notify, false otherwise\n */\nexport const hasValidValue = (value: SingleOrArray<TFilterValue>): boolean => {\n  if (value === null || value === undefined) {\n    return false;\n  }\n\n  // If it's an array, check if it's empty or contains only null/undefined values\n  if (Array.isArray(value)) {\n    if (value.length === 0) {\n      return false;\n    }\n    return value.some((v) => v !== null && v !== undefined);\n  }\n\n  return true;\n};\n\n/**\n * Determines whether to notify about a change based on the entire filter expression.\n * @param expression - The filter expression to check\n * @returns True if we should notify, false otherwise\n */\nexport const shouldNotifyChangeForExpression = <P extends TFilterProperty>(\n  expression: TFilterExpression<P> | null\n): boolean => {\n  if (!expression) {\n    return false;\n  }\n\n  // If it's a condition, check its value\n  if (isConditionNode(expression)) {\n    return hasValidValue(expression.value);\n  }\n\n  // If it's a group, check if any of its children have meaningful values\n  if (isGroupNode(expression)) {\n    const children = getGroupChildren(expression);\n    return children.some((child) => shouldNotifyChangeForExpression(child));\n  }\n\n  return false;\n};\n","// plane imports\nimport type { TFilterGroupNode, TFilterProperty } from \"@plane/types\";\n// local imports\nimport { getGroupChildren } from \"../types/shared\";\n\n/**\n * Determines if a group should be unwrapped based on the number of children and group type.\n * @param group - The group node to check\n * @param preserveNotGroups - Whether to preserve NOT groups even with single children\n * @returns True if the group should be unwrapped, false otherwise\n */\nexport const shouldUnwrapGroup = <P extends TFilterProperty>(group: TFilterGroupNode<P>, _preserveNotGroups = true) => {\n  const children = getGroupChildren(group);\n\n  // Never unwrap groups with multiple children\n  if (children.length !== 1) {\n    return false;\n  }\n\n  // Unwrap AND/OR groups with single children, and NOT groups if preserveNotGroups is false\n  return true;\n};\n","// plane imports\nimport type {\n  TFilterConditionPayload,\n  TFilterExpression,\n  TFilterGroupNode,\n  TFilterProperty,\n  TFilterValue,\n} from \"@plane/types\";\n// local imports\nimport { createAndGroupNode } from \"../../factories/nodes/core\";\nimport { getGroupChildren } from \"../../types\";\nimport { isAndGroupNode, isConditionNode, isGroupNode } from \"../../types/core\";\nimport { shouldUnwrapGroup } from \"../../validators/shared\";\nimport { transformExpressionTree } from \"../transformation/core\";\n\n/**\n * Adds an AND condition to the filter expression.\n * @param expression - The current filter expression\n * @param condition - The condition to add\n * @returns The updated filter expression\n */\nexport const addAndCondition = <P extends TFilterProperty>(\n  expression: TFilterExpression<P> | null,\n  condition: TFilterExpression<P>\n): TFilterExpression<P> => {\n  // if no expression, set the new condition\n  if (!expression) {\n    return condition;\n  }\n  // if the expression is a condition, convert it to an AND group\n  if (isConditionNode(expression)) {\n    return createAndGroupNode([expression, condition]);\n  }\n  // if the expression is a group, and the group is an AND group, add the new condition to the group\n  if (isGroupNode(expression) && isAndGroupNode(expression)) {\n    expression.children.push(condition);\n    return expression;\n  }\n  // if the expression is a group, but not an AND group, create a new AND group and add the new condition to it\n  if (isGroupNode(expression) && !isAndGroupNode(expression)) {\n    return createAndGroupNode([expression, condition]);\n  }\n  // Throw error for unexpected expression type\n  console.error(\"Invalid expression type\", expression);\n  return expression;\n};\n\n/**\n * Replaces a node in the expression tree with another node.\n * Uses transformExpressionTree for consistent tree processing and better maintainability.\n * @param expression - The expression tree to search in\n * @param targetId - The ID of the node to replace\n * @param replacement - The node to replace with\n * @returns The updated expression tree\n */\nexport const replaceNodeInExpression = <P extends TFilterProperty>(\n  expression: TFilterExpression<P>,\n  targetId: string,\n  replacement: TFilterExpression<P>\n): TFilterExpression<P> => {\n  const result = transformExpressionTree(expression, (node: TFilterExpression<P>) => {\n    // If this is the node we want to replace, return the replacement\n    if (node.id === targetId) {\n      return {\n        expression: replacement,\n        shouldNotify: false,\n      };\n    }\n    // For all other nodes, let the generic transformer handle the recursion\n    return { expression: node, shouldNotify: false };\n  });\n\n  // Since we're doing a replacement, the result should never be null\n  return result.expression || expression;\n};\n\n/**\n * Updates a node in the filter expression.\n * Uses recursive tree traversal with proper type handling.\n * @param expression - The filter expression to update\n * @param targetId - The id of the node to update\n * @param updates - The updates to apply to the node\n */\nexport const updateNodeInExpression = <P extends TFilterProperty>(\n  expression: TFilterExpression<P>,\n  targetId: string,\n  updates: Partial<TFilterConditionPayload<P, TFilterValue>>\n) => {\n  // Helper function to recursively update nodes\n  const updateNode = (node: TFilterExpression<P>): void => {\n    if (node.id === targetId) {\n      if (!isConditionNode<P, TFilterValue>(node)) {\n        console.warn(\"updateNodeInExpression: targetId matched a group; ignoring updates\");\n        return;\n      }\n      Object.assign(node, updates);\n      return;\n    }\n\n    if (isGroupNode(node)) {\n      const children = getGroupChildren(node);\n      children.forEach((child) => updateNode(child));\n    }\n  };\n\n  updateNode(expression);\n};\n\n/**\n * Unwraps a group if it meets the unwrapping criteria, otherwise returns the group.\n * @param group - The group node to potentially unwrap\n * @param preserveNotGroups - Whether to preserve NOT groups even with single children\n * @returns The unwrapped child or the original group\n */\nexport const unwrapGroupIfNeeded = <P extends TFilterProperty>(\n  group: TFilterGroupNode<P>,\n  preserveNotGroups = true\n) => {\n  if (shouldUnwrapGroup(group, preserveNotGroups)) {\n    const children = getGroupChildren(group);\n    return children[0];\n  }\n  return group;\n};\n","import type { TFilterGroupNode, TFilterProperty } from \"@plane/types\";\nimport { processGroupNode } from \"../../types/shared\";\nimport type { TTreeTransformFn, TTreeTransformResult } from \"./core\";\nimport { transformGroupWithChildren } from \"./core\";\n\n/**\n * Transforms groups by processing children.\n * Handles AND/OR groups with children and NOT groups with single child.\n * @param group - The group to transform\n * @param transformFn - The transformation function\n * @returns The transformation result\n */\nexport const transformGroup = <P extends TFilterProperty>(\n  group: TFilterGroupNode<P>,\n  transformFn: TTreeTransformFn<P>\n): TTreeTransformResult<P> =>\n  processGroupNode(group, {\n    onAndGroup: (andGroup) => transformGroupWithChildren(andGroup, transformFn),\n  });\n","// plane imports\nimport type { TFilterExpression, TFilterGroupNode, TFilterProperty } from \"@plane/types\";\n// local imports\nimport { isConditionNode, isGroupNode } from \"../../types/core\";\nimport { getGroupChildren } from \"../../types/shared\";\nimport { hasValidValue } from \"../../validators/core\";\nimport { unwrapGroupIfNeeded } from \"../manipulation/core\";\nimport { transformGroup } from \"./shared\";\n\n/**\n * Generic tree transformation result type\n */\nexport type TTreeTransformResult<P extends TFilterProperty> = {\n  expression: TFilterExpression<P> | null;\n  shouldNotify?: boolean;\n};\n\n/**\n * Transform function type for tree processing\n */\nexport type TTreeTransformFn<P extends TFilterProperty> = (expression: TFilterExpression<P>) => TTreeTransformResult<P>;\n\n/**\n * Generic recursive tree transformer that handles common tree manipulation logic.\n * This function provides a reusable way to transform expression trees while maintaining\n * tree integrity, handling group restructuring, and applying stabilization.\n *\n * @param expression - The expression to transform\n * @param transformFn - Function that defines the transformation logic for each node\n * @returns The transformation result with expression and metadata\n */\n/**\n * Helper function to create a consistent transformation result for group nodes.\n * Centralizes the logic for wrapping group expressions and tracking notifications.\n */\nconst createGroupTransformResult = <P extends TFilterProperty>(\n  groupExpression: TFilterGroupNode<P> | null,\n  shouldNotify: boolean\n): TTreeTransformResult<P> => ({\n  expression: groupExpression ? unwrapGroupIfNeeded(groupExpression, true) : null,\n  shouldNotify,\n});\n\n/**\n * Transforms groups with children by processing all children.\n * Handles child collection, null filtering, and empty group removal.\n */\nexport const transformGroupWithChildren = <P extends TFilterProperty>(\n  group: TFilterGroupNode<P>,\n  transformFn: TTreeTransformFn<P>\n): TTreeTransformResult<P> => {\n  const children = getGroupChildren(group);\n  const transformedChildren: TFilterExpression<P>[] = [];\n  let shouldNotify = false;\n\n  // Transform all children and collect non-null results\n  for (const child of children) {\n    const childResult = transformExpressionTree(child, transformFn);\n\n    if (childResult.shouldNotify) {\n      shouldNotify = true;\n    }\n\n    if (childResult.expression !== null) {\n      transformedChildren.push(childResult.expression);\n    }\n  }\n\n  // If no children remain, remove the entire group\n  if (transformedChildren.length === 0) {\n    return { expression: null, shouldNotify };\n  }\n\n  // Create updated group with transformed children - type-safe without casting\n  const updatedGroup: TFilterGroupNode<P> = {\n    ...group,\n    children: transformedChildren,\n  } as TFilterGroupNode<P>;\n\n  return createGroupTransformResult(updatedGroup, shouldNotify);\n};\n\n/**\n * Generic recursive tree transformer that handles common tree manipulation logic.\n * This function provides a reusable way to transform expression trees while maintaining\n * tree integrity, handling group restructuring, and applying stabilization.\n *\n * @param expression - The expression to transform\n * @param transformFn - Function that defines the transformation logic for each node\n * @returns The transformation result with expression and metadata\n */\nexport const transformExpressionTree = <P extends TFilterProperty>(\n  expression: TFilterExpression<P> | null,\n  transformFn: TTreeTransformFn<P>\n): TTreeTransformResult<P> => {\n  // Handle null expressions early\n  if (!expression) {\n    return { expression: null, shouldNotify: false };\n  }\n\n  // Apply the transformation function to the current node\n  const transformResult = transformFn(expression);\n\n  // If the transform function handled this node completely, return its result\n  if (transformResult.expression === null || transformResult.expression !== expression) {\n    return transformResult;\n  }\n\n  // Handle condition nodes (no children to transform)\n  if (isConditionNode(expression)) {\n    return { expression, shouldNotify: false };\n  }\n\n  // Handle group nodes by delegating to the extended transformGroup function\n  if (isGroupNode(expression)) {\n    return transformGroup(expression, transformFn);\n  }\n\n  throw new Error(\"Unknown expression type in transformExpressionTree\");\n};\n\n/**\n * Removes a node from the filter expression.\n * @param expression - The filter expression to remove the node from\n * @param targetId - The id of the node to remove\n * @returns An object containing the updated filter expression and whether to notify about the change\n */\nexport const removeNodeFromExpression = <P extends TFilterProperty>(\n  expression: TFilterExpression<P>,\n  targetId: string\n): { expression: TFilterExpression<P> | null; shouldNotify: boolean } => {\n  const result = transformExpressionTree(expression, (node) => {\n    // If this node matches the target ID, remove it\n    if (node.id === targetId) {\n      const shouldNotify = isConditionNode(node) ? hasValidValue(node.value) : true;\n      return {\n        expression: null,\n        shouldNotify,\n      };\n    }\n    // For all other nodes, let the generic transformer handle the recursion\n    return { expression: node, shouldNotify: false };\n  });\n\n  return {\n    expression: result.expression,\n    shouldNotify: result.shouldNotify || false,\n  };\n};\n\n/**\n * Sanitizes and stabilizes a filter expression by removing invalid conditions and unnecessary groups.\n * This function performs deep sanitization of the entire expression tree:\n * 1. Removes condition nodes that don't have valid values\n * 2. Removes empty groups (groups with no children after sanitization)\n * 3. Unwraps single-child groups that don't need to be wrapped\n * 4. Preserves tree integrity and logical operators\n *\n * @param expression - The filter expression to sanitize\n * @returns The sanitized expression or null if no valid conditions remain\n */\nexport const sanitizeAndStabilizeExpression = <P extends TFilterProperty>(\n  expression: TFilterExpression<P> | null\n): TFilterExpression<P> | null => {\n  const result = transformExpressionTree(expression, (node) => {\n    // Only transform condition nodes - check if they have valid values\n    if (isConditionNode(node)) {\n      return {\n        expression: hasValidValue(node.value) ? node : null,\n        shouldNotify: false,\n      };\n    }\n    // For group nodes, let the generic transformer handle the recursion\n    return { expression: node, shouldNotify: false };\n  });\n\n  return result.expression;\n};\n","import { compact, isEqual, sortBy } from \"lodash-es\";\n// plane imports\nimport type {\n  TFilterConditionNode,\n  TFilterExpression,\n  TFilterGroupNode,\n  TFilterProperty,\n  TFilterValue,\n} from \"@plane/types\";\nimport { FILTER_NODE_TYPE } from \"@plane/types\";\n// local imports\nimport { isConditionNode, isGroupNode } from \"../types/core\";\nimport { processGroupNode } from \"../types/shared\";\nimport { hasValidValue } from \"../validators/core\";\nimport { transformExpressionTree } from \"./transformation/core\";\n\n/**\n * Creates a comparable representation of a condition for deep comparison.\n * This uses property, operator, and value instead of ID for comparison.\n * IDs are completely excluded to avoid UUID comparison issues.\n * @param condition - The condition to create a comparable representation for\n * @returns A comparable object without ID\n */\nconst createConditionComparable = <P extends TFilterProperty>(condition: TFilterConditionNode<P, TFilterValue>) => ({\n  // Explicitly exclude: id (random UUID should not be compared)\n  type: condition.type,\n  property: condition.property,\n  operator: condition.operator,\n  value: Array.isArray(condition.value) ? condition.value : [condition.value],\n});\n\n/**\n * Helper function to create comparable children for AND/OR groups.\n * This eliminates code duplication between AND and OR group processing.\n */\nconst createComparableChildren = <P extends TFilterProperty>(\n  children: TFilterExpression<P>[],\n  baseComparable: Record<string, unknown>\n): Record<string, unknown> => {\n  const childrenComparable = compact(children.map((child) => createExpressionComparable(child)));\n\n  // Sort children by a consistent key for comparison to ensure order doesn't affect equality\n  const sortedChildren = sortBy(childrenComparable, (child) => {\n    if (child?.type === FILTER_NODE_TYPE.CONDITION) {\n      return `condition_${child.property}_${child.operator}_${JSON.stringify(child.value)}`;\n    }\n    // For nested groups, sort by logical operator and recursive structure\n    if (child?.type === FILTER_NODE_TYPE.GROUP) {\n      const childrenCount = child.child ? 1 : Array.isArray(child.children) ? child.children.length : 0;\n      return `group_${child.logicalOperator}_${childrenCount}_${JSON.stringify(child)}`;\n    }\n    return \"unknown\";\n  });\n\n  return {\n    ...baseComparable,\n    children: sortedChildren,\n  };\n};\n\n/**\n * Creates a comparable representation of a group for deep comparison.\n * This recursively creates comparable representations for all children.\n * IDs are completely excluded to avoid UUID comparison issues.\n * Uses processGroupNode for consistent group type handling.\n * @param group - The group to create a comparable representation for\n * @returns A comparable object without ID\n */\nexport const createGroupComparable = <P extends TFilterProperty>(\n  group: TFilterGroupNode<P>\n): Record<string, unknown> => {\n  const baseComparable = {\n    // Explicitly exclude: id (random UUID should not be compared)\n    type: group.type,\n    logicalOperator: group.logicalOperator,\n  };\n\n  return processGroupNode(group, {\n    onAndGroup: (andGroup) => createComparableChildren(andGroup.children, baseComparable),\n  });\n};\n\n/**\n * Creates a comparable representation of any filter expression.\n * Recursively handles deep nesting of groups within groups.\n * Completely excludes IDs from comparison to avoid UUID issues.\n * @param expression - The expression to create a comparable representation for\n * @returns A comparable object without IDs or null if the expression is empty\n */\nexport const createExpressionComparable = <P extends TFilterProperty>(\n  expression: TFilterExpression<P> | null\n): Record<string, unknown> | null => {\n  if (!expression) return null;\n\n  // Handle condition nodes - exclude ID completely\n  if (isConditionNode(expression)) {\n    return createConditionComparable(expression);\n  }\n\n  // Handle group nodes - exclude ID completely and support deep nesting\n  if (isGroupNode(expression)) {\n    return createGroupComparable(expression);\n  }\n\n  // Should never reach here with proper typing, but return null for safety\n  return null;\n};\n\n/**\n * Normalizes a filter expression by removing empty conditions and groups.\n * This helps compare expressions by focusing only on meaningful content.\n * Uses the transformExpressionTree utility for consistent tree processing.\n * @param expression - The filter expression to normalize\n * @returns The normalized expression or null if the entire expression is empty\n */\nexport const normalizeFilterExpression = <P extends TFilterProperty>(\n  expression: TFilterExpression<P> | null\n): TFilterExpression<P> | null => {\n  const result = transformExpressionTree<P>(expression, (node: TFilterExpression<P>) => {\n    // Only transform condition nodes - check if they have valid values\n    if (isConditionNode(node)) {\n      return {\n        expression: hasValidValue(node.value) ? node : null,\n        shouldNotify: false,\n      };\n    }\n    // For group nodes, let the generic transformer handle the recursion\n    return { expression: node, shouldNotify: false };\n  });\n\n  return result.expression;\n};\n\n/**\n * Performs a deep comparison of two filter expressions based on their meaningful content.\n * This comparison completely ignores IDs (UUIDs) and focuses on property, operator, value, and tree structure.\n * Empty conditions and groups are normalized before comparison.\n * Supports deep nesting of groups within groups recursively.\n * @param expression1 - The first expression to compare\n * @param expression2 - The second expression to compare\n * @returns True if the expressions are meaningfully equal, false otherwise\n */\nexport const deepCompareFilterExpressions = <P extends TFilterProperty>(\n  expression1: TFilterExpression<P> | null,\n  expression2: TFilterExpression<P> | null\n): boolean => {\n  // Normalize both expressions to remove empty conditions and groups\n  const normalized1 = normalizeFilterExpression(expression1);\n  const normalized2 = normalizeFilterExpression(expression2);\n\n  // If both are null after normalization, they're equal\n  if (!normalized1 && !normalized2) {\n    return true;\n  }\n\n  // If one is null and the other isn't, they're different\n  if (!normalized1 || !normalized2) {\n    return false;\n  }\n\n  // Create comparable representations (IDs completely excluded)\n  const comparable1 = createExpressionComparable(normalized1);\n  const comparable2 = createExpressionComparable(normalized2);\n\n  // Deep compare using lodash isEqual for reliable object comparison\n  // This handles deep nesting recursively and ignores UUID differences\n  return isEqual(comparable1, comparable2);\n};\n","// plane imports\nimport type {\n  TAllAvailableOperatorsForDisplay,\n  TFilterExpression,\n  TFilterProperty,\n  TSupportedOperators,\n} from \"@plane/types\";\n\n/**\n * Helper function to get the display operator for a condition.\n * This checks for NOT group context and applies negation if needed.\n * @param operator - The original operator\n * @param expression - The filter expression\n * @param conditionId - The ID of the condition\n * @returns The display operator (possibly negated)\n */\nexport const getDisplayOperator = <P extends TFilterProperty>(\n  operator: TSupportedOperators,\n  _expression: TFilterExpression<P>,\n  _conditionId: string\n): TAllAvailableOperatorsForDisplay =>\n  // Otherwise, return the operator as-is\n  operator;\n","// plane imports\nimport type {\n  TAllAvailableOperatorsForDisplay,\n  TFilterConditionNode,\n  TFilterConditionNodeForDisplay,\n  TFilterExpression,\n  TFilterGroupNode,\n  TFilterProperty,\n  TFilterValue,\n} from \"@plane/types\";\n// local imports\nimport { isConditionNode, isGroupNode } from \"../../types/core\";\nimport { getGroupChildren } from \"../../types/shared\";\nimport { getDisplayOperator } from \"./shared\";\n\n/**\n * Generic tree visitor function type\n */\nexport type TreeVisitorFn<P extends TFilterProperty, T> = (\n  expression: TFilterExpression<P>,\n  parent?: TFilterGroupNode<P>,\n  depth?: number\n) => T | null;\n\n/**\n * Tree traversal modes\n */\nexport enum TreeTraversalMode {\n  /** Visit all nodes depth-first */\n  ALL = \"ALL\",\n  /** Visit only condition nodes */\n  CONDITIONS = \"CONDITIONS\",\n  /** Visit only group nodes */\n  GROUPS = \"GROUPS\",\n}\n\n/**\n * Generic tree traversal utility that visits nodes based on the specified mode.\n * This eliminates code duplication in tree walking functions.\n *\n * @param expression - The expression to traverse\n * @param visitor - Function to call for each visited node\n * @param mode - Traversal mode to determine which nodes to visit\n * @param parent - Parent node (used internally for recursion)\n * @param depth - Current depth (used internally for recursion)\n * @returns Array of results from the visitor function (nulls are filtered out)\n */\nexport const traverseExpressionTree = <P extends TFilterProperty, T>(\n  expression: TFilterExpression<P> | null,\n  visitor: TreeVisitorFn<P, T>,\n  mode: TreeTraversalMode = TreeTraversalMode.ALL,\n  parent?: TFilterGroupNode<P>,\n  depth: number = 0\n): T[] => {\n  if (!expression) return [];\n\n  const results: T[] = [];\n\n  // Determine if we should visit this node based on the mode\n  const shouldVisit =\n    mode === TreeTraversalMode.ALL ||\n    (mode === TreeTraversalMode.CONDITIONS && isConditionNode(expression)) ||\n    (mode === TreeTraversalMode.GROUPS && isGroupNode(expression));\n\n  if (shouldVisit) {\n    const result = visitor(expression, parent, depth);\n    if (result !== null) {\n      results.push(result);\n    }\n  }\n\n  // Recursively traverse children for group nodes\n  if (isGroupNode(expression)) {\n    const children = getGroupChildren(expression);\n    for (const child of children) {\n      const childResults = traverseExpressionTree(child, visitor, mode, expression, depth + 1);\n      results.push(...childResults);\n    }\n  }\n\n  return results;\n};\n\n/**\n * Finds a node by its ID in the filter expression tree.\n * Uses the generic tree traversal utility for better maintainability.\n * @param expression - The filter expression to search in\n * @param targetId - The ID of the node to find\n * @returns The found node or null if not found\n */\nexport const findNodeById = <P extends TFilterProperty>(\n  expression: TFilterExpression<P>,\n  targetId: string\n): TFilterExpression<P> | null => {\n  const results = traverseExpressionTree(\n    expression,\n    (node) => (node.id === targetId ? node : null),\n    TreeTraversalMode.ALL\n  );\n\n  // Return the first match (there should only be one with unique IDs)\n  return results.length > 0 ? results[0] : null;\n};\n\n/**\n * Finds the parent chain of a given node ID in the filter expression tree.\n * @param expression - The filter expression to search in\n * @param targetId - The ID of the node whose parent chain to find\n * @param currentPath - Current path of parent nodes (used internally for recursion)\n * @returns Array of parent nodes from immediate parent to root, or null if not found\n */\nexport const findParentChain = <P extends TFilterProperty>(\n  expression: TFilterExpression<P>,\n  targetId: string,\n  currentPath: TFilterGroupNode<P>[] = []\n): TFilterGroupNode<P>[] | null => {\n  // if the expression is a group, search in the children\n  if (isGroupNode(expression)) {\n    const children = getGroupChildren(expression);\n\n    // check if any direct child has the target ID\n    for (const child of children) {\n      if (child.id === targetId) {\n        return [expression, ...currentPath];\n      }\n    }\n\n    // recursively search in child groups\n    for (const child of children) {\n      if (isGroupNode(child)) {\n        const chain = findParentChain(child, targetId, [expression, ...currentPath]);\n        if (chain) return chain;\n      }\n    }\n  }\n\n  return null;\n};\n\n/**\n * Finds the immediate parent node of a given node ID.\n * @param expression - The filter expression to find parent in\n * @param targetId - The ID of the node whose parent to find\n * @returns The immediate parent node or null if not found or if the target is the root\n */\nexport const findImmediateParent = <P extends TFilterProperty>(\n  expression: TFilterExpression<P>,\n  targetId: string\n): TFilterGroupNode<P> | null => {\n  // if the expression is null, return null\n  if (!expression) return null;\n\n  // find the parent chain\n  const parentChain = findParentChain(expression, targetId);\n\n  // return the immediate parent if it exists\n  return parentChain && parentChain.length > 0 ? parentChain[0] : null;\n};\n\n/**\n * Extracts all conditions from a filter expression.\n * Uses the generic tree traversal utility for better maintainability and consistency.\n * @param expression - The filter expression to extract conditions from\n * @returns An array of filter conditions\n */\nexport const extractConditions = <P extends TFilterProperty>(\n  expression: TFilterExpression<P>\n): TFilterConditionNode<P, TFilterValue>[] =>\n  traverseExpressionTree(expression, (node) => (isConditionNode(node) ? node : null), TreeTraversalMode.CONDITIONS);\n\n/**\n * Extracts all conditions from a filter expression, including their display operators.\n * @param expression - The filter expression to extract conditions from\n * @returns An array of filter conditions with their display operators\n */\nexport const extractConditionsWithDisplayOperators = <P extends TFilterProperty>(\n  expression: TFilterExpression<P>\n): TFilterConditionNodeForDisplay<P, TFilterValue>[] => {\n  // First extract all raw conditions\n  const rawConditions = extractConditions(expression);\n\n  // Transform operators using the extended helper\n  return rawConditions.map((condition) => {\n    const displayOperator = getDisplayOperator(condition.operator, expression, condition.id);\n    return {\n      ...condition,\n      operator: displayOperator,\n    };\n  });\n};\n\n/**\n * Finds all conditions by property and operator.\n * @param expression - The filter expression to search in\n * @param property - The property to find the conditions by\n * @param operator - The operator to find the conditions by\n * @returns An array of conditions that match the property and operator\n */\nexport const findConditionsByPropertyAndOperator = <P extends TFilterProperty>(\n  expression: TFilterExpression<P>,\n  property: P,\n  operator: TAllAvailableOperatorsForDisplay\n): TFilterConditionNodeForDisplay<P, TFilterValue>[] => {\n  const conditions = extractConditionsWithDisplayOperators(expression);\n  return conditions.filter((condition) => condition.property === property && condition.operator === operator);\n};\n","import { get } from \"lodash-es\";\n// plane imports\nimport { DATE_OPERATOR_LABELS_MAP, EMPTY_OPERATOR_LABEL, OPERATOR_LABELS_MAP } from \"@plane/constants\";\nimport type {\n  TAllAvailableOperatorsForDisplay,\n  TFilterValue,\n  TAllAvailableDateFilterOperatorsForDisplay,\n} from \"@plane/types\";\n\n// -------- OPERATOR LABEL UTILITIES --------\n\n/**\n * Get the label for a filter operator\n * @param operator - The operator to get the label for\n * @returns The label for the operator\n */\nexport const getOperatorLabel = (operator: TAllAvailableOperatorsForDisplay | undefined): string => {\n  if (!operator) return EMPTY_OPERATOR_LABEL;\n  return get(OPERATOR_LABELS_MAP, operator, EMPTY_OPERATOR_LABEL);\n};\n\n/**\n * Get the label for a date filter operator\n * @param operator - The operator to get the label for\n * @returns The label for the operator\n */\nexport const getDateOperatorLabel = (operator: TAllAvailableDateFilterOperatorsForDisplay | undefined): string => {\n  if (!operator) return EMPTY_OPERATOR_LABEL;\n  return get(DATE_OPERATOR_LABELS_MAP, operator, EMPTY_OPERATOR_LABEL);\n};\n\n// -------- OPERATOR TYPE GUARDS --------\n\n/**\n * Type guard to check if an operator supports date filter types.\n * @param operator - The operator to check\n * @returns True if the operator supports date filters\n */\nexport const isDateFilterOperator = <V extends TFilterValue = TFilterValue>(\n  operator: TAllAvailableOperatorsForDisplay\n): operator is TAllAvailableDateFilterOperatorsForDisplay<V> =>\n  Object.keys(DATE_OPERATOR_LABELS_MAP).includes(operator);\n","import type { TAllAvailableOperatorsForDisplay, TSupportedOperators } from \"@plane/types\";\n\n/**\n * Result type for operator conversion\n */\nexport type TOperatorForPayload = {\n  operator: TSupportedOperators;\n  isNegation: boolean;\n};\n\n/**\n * Converts a display operator to the format needed for supported by filter expression condition.\n * @param displayOperator - The operator from the UI\n * @returns Object with supported operator and negation flag\n */\nexport const getOperatorForPayload = (displayOperator: TAllAvailableOperatorsForDisplay): TOperatorForPayload => {\n  const isNegation = false;\n  const operator = displayOperator;\n\n  return {\n    operator,\n    isNegation,\n  };\n};\n","import type { SingleOrArray, TFilterValue } from \"@plane/types\";\n\n/**\n * Converts any value to a non-null array for UI components that expect arrays\n * Returns empty array for null/undefined values\n */\nexport const toFilterArray = <V extends TFilterValue>(value: SingleOrArray<V>): NonNullable<V>[] => {\n  if (value === null || value === undefined) {\n    return [];\n  }\n\n  return Array.isArray(value) ? (value as NonNullable<V>[]) : ([value] as NonNullable<V>[]);\n};\n\n/**\n * Gets the length of a filter value\n */\nexport const getFilterValueLength = <V extends TFilterValue>(value: SingleOrArray<V>): number => {\n  if (value === null || value === undefined) {\n    return 0;\n  }\n\n  return Array.isArray(value) ? value.length : 1;\n};\n","export const generateQueryParams = (searchParams: URLSearchParams, excludedParamKeys?: string[]): string => {\n  const params = new URLSearchParams(searchParams);\n  excludedParamKeys &&\n    excludedParamKeys.forEach((key) => {\n      params.delete(key);\n    });\n  return params.toString();\n};\n","import { orderBy } from \"lodash-es\";\n// plane imports\nimport type { IPaymentProduct, TProductSubscriptionType, TSubscriptionPrice } from \"@plane/types\";\nimport { EProductSubscriptionEnum } from \"@plane/types\";\n\n/**\n * Calculates the yearly discount percentage when switching from monthly to yearly billing\n * @param monthlyPrice - The monthly subscription price\n * @param yearlyPricePerMonth - The monthly equivalent price when billed yearly\n * @returns The discount percentage as a whole number (floored)\n */\nexport const calculateYearlyDiscount = (monthlyPrice: number, yearlyPricePerMonth: number): number => {\n  const monthlyCost = monthlyPrice * 12;\n  const yearlyCost = yearlyPricePerMonth * 12;\n  const amountSaved = monthlyCost - yearlyCost;\n  const discountPercentage = (amountSaved / monthlyCost) * 100;\n  return Math.floor(discountPercentage);\n};\n\n/**\n * Gets the display name for a subscription plan variant\n * @param planVariant - The subscription plan variant enum\n * @returns The human-readable name of the plan\n */\nexport const getSubscriptionName = (planVariant: EProductSubscriptionEnum): string => {\n  switch (planVariant) {\n    case EProductSubscriptionEnum.FREE:\n      return \"Free\";\n    case EProductSubscriptionEnum.ONE:\n      return \"One\";\n    case EProductSubscriptionEnum.PRO:\n      return \"Pro\";\n    case EProductSubscriptionEnum.BUSINESS:\n      return \"Business\";\n    case EProductSubscriptionEnum.ENTERPRISE:\n      return \"Enterprise\";\n    default:\n      return \"--\";\n  }\n};\n\n/**\n * Gets the base subscription name for upgrade/downgrade paths\n * @param planVariant - The current subscription plan variant\n * @returns The name of the base subscription plan\n */\nexport const getBaseSubscriptionName = (planVariant: TProductSubscriptionType): string => {\n  switch (planVariant) {\n    case EProductSubscriptionEnum.ONE:\n      return getSubscriptionName(EProductSubscriptionEnum.FREE);\n    case EProductSubscriptionEnum.PRO:\n      return getSubscriptionName(EProductSubscriptionEnum.FREE);\n    case EProductSubscriptionEnum.BUSINESS:\n      return getSubscriptionName(EProductSubscriptionEnum.PRO);\n    case EProductSubscriptionEnum.ENTERPRISE:\n      return getSubscriptionName(EProductSubscriptionEnum.BUSINESS);\n    default:\n      return \"--\";\n  }\n};\n\nexport type TSubscriptionPriceDetail = {\n  monthlyPriceDetails: TSubscriptionPrice;\n  yearlyPriceDetails: TSubscriptionPrice;\n};\n\n/**\n * Gets the price details for a subscription product\n * @param product - The payment product to get price details for\n * @returns Array of price details for monthly and yearly plans\n */\nexport const getSubscriptionPriceDetails = (product: IPaymentProduct | undefined): TSubscriptionPriceDetail => {\n  const productPrices = product?.prices || [];\n  const monthlyPriceDetails = orderBy(productPrices, [\"recurring\"], [\"desc\"])?.find(\n    (price) => price.recurring === \"month\"\n  );\n  const monthlyPriceAmount = Number(((monthlyPriceDetails?.unit_amount || 0) / 100).toFixed(2));\n  const yearlyPriceDetails = orderBy(productPrices, [\"recurring\"], [\"desc\"])?.find(\n    (price) => price.recurring === \"year\"\n  );\n  const yearlyPriceAmount = Number(((yearlyPriceDetails?.unit_amount || 0) / 1200).toFixed(2));\n\n  return {\n    monthlyPriceDetails: {\n      key: \"monthly\",\n      id: monthlyPriceDetails?.id,\n      currency: \"$\",\n      price: monthlyPriceAmount,\n      recurring: \"month\",\n    },\n    yearlyPriceDetails: {\n      key: \"yearly\",\n      id: yearlyPriceDetails?.id,\n      currency: \"$\",\n      price: yearlyPriceAmount,\n      recurring: \"year\",\n    },\n  };\n};\n","// plane imports\nimport type { ETabIndices } from \"@plane/constants\";\nimport { TAB_INDEX_MAP } from \"@plane/constants\";\n\nexport const getTabIndex = (type?: ETabIndices, isMobile: boolean = false) => {\n  const getIndex = (key: string) =>\n    isMobile ? undefined : type && TAB_INDEX_MAP[type].findIndex((tabIndex) => tabIndex === key) + 1;\n\n  const baseTabIndex = isMobile ? -1 : 1;\n\n  return { getIndex, baseTabIndex };\n};\n","// local imports\nimport type { TRgb } from \"./color\";\nimport { hexToRgb } from \"./color\";\n\ntype TShades = {\n  10: TRgb;\n  20: TRgb;\n  30: TRgb;\n  40: TRgb;\n  50: TRgb;\n  60: TRgb;\n  70: TRgb;\n  80: TRgb;\n  90: TRgb;\n  100: TRgb;\n  200: TRgb;\n  300: TRgb;\n  400: TRgb;\n  500: TRgb;\n  600: TRgb;\n  700: TRgb;\n  800: TRgb;\n  900: TRgb;\n};\n\nconst calculateShades = (hexValue: string): TShades => {\n  const shades: Partial<TShades> = {};\n  const { r, g, b } = hexToRgb(hexValue);\n\n  const convertHexToSpecificShade = (shade: number): TRgb => {\n    if (shade <= 100) {\n      const decimalValue = (100 - shade) / 100;\n\n      const newR = Math.floor(r + (255 - r) * decimalValue);\n      const newG = Math.floor(g + (255 - g) * decimalValue);\n      const newB = Math.floor(b + (255 - b) * decimalValue);\n\n      return {\n        r: newR,\n        g: newG,\n        b: newB,\n      };\n    } else {\n      const decimalValue = 1 - Math.ceil((shade - 100) / 100) / 10;\n\n      const newR = Math.ceil(r * decimalValue);\n      const newG = Math.ceil(g * decimalValue);\n      const newB = Math.ceil(b * decimalValue);\n\n      return {\n        r: newR,\n        g: newG,\n        b: newB,\n      };\n    }\n  };\n\n  for (let i = 10; i <= 900; i >= 100 ? (i += 100) : (i += 10))\n    shades[i as keyof TShades] = convertHexToSpecificShade(i);\n\n  return shades as TShades;\n};\n\nexport const applyTheme = (palette: string, isDarkPalette: boolean) => {\n  if (!palette) return;\n  const themeElement = document?.querySelector(\"html\");\n  // palette: [bg, text, primary, sidebarBg, sidebarText]\n  const values: string[] = palette.split(\",\");\n  values.push(isDarkPalette ? \"dark\" : \"light\");\n\n  const bgShades = calculateShades(values[0]);\n  const textShades = calculateShades(values[1]);\n  const primaryShades = calculateShades(values[2]);\n  const sidebarBackgroundShades = calculateShades(values[3]);\n  const sidebarTextShades = calculateShades(values[4]);\n\n  for (let i = 10; i <= 900; i >= 100 ? (i += 100) : (i += 10)) {\n    const shade = i as keyof TShades;\n\n    const bgRgbValues = `${bgShades[shade].r}, ${bgShades[shade].g}, ${bgShades[shade].b}`;\n    const textRgbValues = `${textShades[shade].r}, ${textShades[shade].g}, ${textShades[shade].b}`;\n    const primaryRgbValues = `${primaryShades[shade].r}, ${primaryShades[shade].g}, ${primaryShades[shade].b}`;\n    const sidebarBackgroundRgbValues = `${sidebarBackgroundShades[shade].r}, ${sidebarBackgroundShades[shade].g}, ${sidebarBackgroundShades[shade].b}`;\n    const sidebarTextRgbValues = `${sidebarTextShades[shade].r}, ${sidebarTextShades[shade].g}, ${sidebarTextShades[shade].b}`;\n\n    themeElement?.style.setProperty(`--color-background-${shade}`, bgRgbValues);\n    themeElement?.style.setProperty(`--color-text-${shade}`, textRgbValues);\n    themeElement?.style.setProperty(`--color-primary-${shade}`, primaryRgbValues);\n    themeElement?.style.setProperty(`--color-sidebar-background-${shade}`, sidebarBackgroundRgbValues);\n    themeElement?.style.setProperty(`--color-sidebar-text-${shade}`, sidebarTextRgbValues);\n\n    if (i >= 100 && i <= 400) {\n      const borderShade = i === 100 ? 70 : i === 200 ? 80 : i === 300 ? 90 : 100;\n\n      themeElement?.style.setProperty(\n        `--color-border-${shade}`,\n        `${bgShades[borderShade].r}, ${bgShades[borderShade].g}, ${bgShades[borderShade].b}`\n      );\n      themeElement?.style.setProperty(\n        `--color-sidebar-border-${shade}`,\n        `${sidebarBackgroundShades[borderShade].r}, ${sidebarBackgroundShades[borderShade].g}, ${sidebarBackgroundShades[borderShade].b}`\n      );\n    }\n  }\n\n  themeElement?.style.setProperty(\"--color-scheme\", values[5]);\n};\n\nexport const unsetCustomCssVariables = () => {\n  for (let i = 10; i <= 900; i >= 100 ? (i += 100) : (i += 10)) {\n    const dom = document.querySelector<HTMLElement>(\"[data-theme='custom']\");\n\n    dom?.style.removeProperty(`--color-background-${i}`);\n    dom?.style.removeProperty(`--color-text-${i}`);\n    dom?.style.removeProperty(`--color-border-${i}`);\n    dom?.style.removeProperty(`--color-primary-${i}`);\n    dom?.style.removeProperty(`--color-sidebar-background-${i}`);\n    dom?.style.removeProperty(`--color-sidebar-text-${i}`);\n    dom?.style.removeProperty(`--color-sidebar-border-${i}`);\n    dom?.style.removeProperty(\"--color-scheme\");\n  }\n};\n\nexport const resolveGeneralTheme = (resolvedTheme: string | undefined) =>\n  resolvedTheme?.includes(\"light\") ? \"light\" : resolvedTheme?.includes(\"dark\") ? \"dark\" : \"system\";\n","export default [\n  \"aaa\",\n  \"aarp\",\n  \"abb\",\n  \"abbott\",\n  \"abbvie\",\n  \"abc\",\n  \"able\",\n  \"abogado\",\n  \"abudhabi\",\n  \"ac\",\n  \"academy\",\n  \"accenture\",\n  \"accountant\",\n  \"accountants\",\n  \"aco\",\n  \"actor\",\n  \"ad\",\n  \"ads\",\n  \"adult\",\n  \"ae\",\n  \"aeg\",\n  \"aero\",\n  \"aetna\",\n  \"af\",\n  \"afl\",\n  \"africa\",\n  \"ag\",\n  \"agakhan\",\n  \"agency\",\n  \"ai\",\n  \"aig\",\n  \"airbus\",\n  \"airforce\",\n  \"airtel\",\n  \"akdn\",\n  \"al\",\n  \"alibaba\",\n  \"alipay\",\n  \"allfinanz\",\n  \"allstate\",\n  \"ally\",\n  \"alsace\",\n  \"alstom\",\n  \"am\",\n  \"amazon\",\n  \"americanexpress\",\n  \"americanfamily\",\n  \"amex\",\n  \"amfam\",\n  \"amica\",\n  \"amsterdam\",\n  \"analytics\",\n  \"android\",\n  \"anquan\",\n  \"anz\",\n  \"ao\",\n  \"aol\",\n  \"apartments\",\n  \"app\",\n  \"apple\",\n  \"aq\",\n  \"aquarelle\",\n  \"ar\",\n  \"arab\",\n  \"aramco\",\n  \"archi\",\n  \"army\",\n  \"arpa\",\n  \"art\",\n  \"arte\",\n  \"as\",\n  \"asda\",\n  \"asia\",\n  \"associates\",\n  \"at\",\n  \"athleta\",\n  \"attorney\",\n  \"au\",\n  \"auction\",\n  \"audi\",\n  \"audible\",\n  \"audio\",\n  \"auspost\",\n  \"author\",\n  \"auto\",\n  \"autos\",\n  \"aw\",\n  \"aws\",\n  \"ax\",\n  \"axa\",\n  \"az\",\n  \"azure\",\n  \"ba\",\n  \"baby\",\n  \"baidu\",\n  \"banamex\",\n  \"band\",\n  \"bank\",\n  \"bar\",\n  \"barcelona\",\n  \"barclaycard\",\n  \"barclays\",\n  \"barefoot\",\n  \"bargains\",\n  \"baseball\",\n  \"basketball\",\n  \"bauhaus\",\n  \"bayern\",\n  \"bb\",\n  \"bbc\",\n  \"bbt\",\n  \"bbva\",\n  \"bcg\",\n  \"bcn\",\n  \"bd\",\n  \"be\",\n  \"beats\",\n  \"beauty\",\n  \"beer\",\n  \"berlin\",\n  \"best\",\n  \"bestbuy\",\n  \"bet\",\n  \"bf\",\n  \"bg\",\n  \"bh\",\n  \"bharti\",\n  \"bi\",\n  \"bible\",\n  \"bid\",\n  \"bike\",\n  \"bing\",\n  \"bingo\",\n  \"bio\",\n  \"biz\",\n  \"bj\",\n  \"black\",\n  \"blackfriday\",\n  \"blockbuster\",\n  \"blog\",\n  \"bloomberg\",\n  \"blue\",\n  \"bm\",\n  \"bms\",\n  \"bmw\",\n  \"bn\",\n  \"bnpparibas\",\n  \"bo\",\n  \"boats\",\n  \"boehringer\",\n  \"bofa\",\n  \"bom\",\n  \"bond\",\n  \"boo\",\n  \"book\",\n  \"booking\",\n  \"bosch\",\n  \"bostik\",\n  \"boston\",\n  \"bot\",\n  \"boutique\",\n  \"box\",\n  \"br\",\n  \"bradesco\",\n  \"bridgestone\",\n  \"broadway\",\n  \"broker\",\n  \"brother\",\n  \"brussels\",\n  \"bs\",\n  \"bt\",\n  \"build\",\n  \"builders\",\n  \"business\",\n  \"buy\",\n  \"buzz\",\n  \"bv\",\n  \"bw\",\n  \"by\",\n  \"bz\",\n  \"bzh\",\n  \"ca\",\n  \"cab\",\n  \"cafe\",\n  \"cal\",\n  \"call\",\n  \"calvinklein\",\n  \"cam\",\n  \"camera\",\n  \"camp\",\n  \"canon\",\n  \"capetown\",\n  \"capital\",\n  \"capitalone\",\n  \"car\",\n  \"caravan\",\n  \"cards\",\n  \"care\",\n  \"career\",\n  \"careers\",\n  \"cars\",\n  \"casa\",\n  \"case\",\n  \"cash\",\n  \"casino\",\n  \"cat\",\n  \"catering\",\n  \"catholic\",\n  \"cba\",\n  \"cbn\",\n  \"cbre\",\n  \"cc\",\n  \"cd\",\n  \"center\",\n  \"ceo\",\n  \"cern\",\n  \"cf\",\n  \"cfa\",\n  \"cfd\",\n  \"cg\",\n  \"ch\",\n  \"chanel\",\n  \"channel\",\n  \"charity\",\n  \"chase\",\n  \"chat\",\n  \"cheap\",\n  \"chintai\",\n  \"christmas\",\n  \"chrome\",\n  \"church\",\n  \"ci\",\n  \"cipriani\",\n  \"circle\",\n  \"cisco\",\n  \"citadel\",\n  \"citi\",\n  \"citic\",\n  \"city\",\n  \"ck\",\n  \"cl\",\n  \"claims\",\n  \"cleaning\",\n  \"click\",\n  \"clinic\",\n  \"clinique\",\n  \"clothing\",\n  \"cloud\",\n  \"club\",\n  \"clubmed\",\n  \"cm\",\n  \"cn\",\n  \"co\",\n  \"coach\",\n  \"codes\",\n  \"coffee\",\n  \"college\",\n  \"cologne\",\n  \"com\",\n  \"commbank\",\n  \"community\",\n  \"company\",\n  \"compare\",\n  \"computer\",\n  \"comsec\",\n  \"condos\",\n  \"construction\",\n  \"consulting\",\n  \"contact\",\n  \"contractors\",\n  \"cooking\",\n  \"cool\",\n  \"coop\",\n  \"corsica\",\n  \"country\",\n  \"coupon\",\n  \"coupons\",\n  \"courses\",\n  \"cpa\",\n  \"cr\",\n  \"credit\",\n  \"creditcard\",\n  \"creditunion\",\n  \"cricket\",\n  \"crown\",\n  \"crs\",\n  \"cruise\",\n  \"cruises\",\n  \"cu\",\n  \"cuisinella\",\n  \"cv\",\n  \"cw\",\n  \"cx\",\n  \"cy\",\n  \"cymru\",\n  \"cyou\",\n  \"cz\",\n  \"dad\",\n  \"dance\",\n  \"data\",\n  \"date\",\n  \"dating\",\n  \"datsun\",\n  \"day\",\n  \"dclk\",\n  \"dds\",\n  \"de\",\n  \"deal\",\n  \"dealer\",\n  \"deals\",\n  \"degree\",\n  \"delivery\",\n  \"dell\",\n  \"deloitte\",\n  \"delta\",\n  \"democrat\",\n  \"dental\",\n  \"dentist\",\n  \"desi\",\n  \"design\",\n  \"dev\",\n  \"dhl\",\n  \"diamonds\",\n  \"diet\",\n  \"digital\",\n  \"direct\",\n  \"directory\",\n  \"discount\",\n  \"discover\",\n  \"dish\",\n  \"diy\",\n  \"dj\",\n  \"dk\",\n  \"dm\",\n  \"dnp\",\n  \"do\",\n  \"docs\",\n  \"doctor\",\n  \"dog\",\n  \"domains\",\n  \"dot\",\n  \"download\",\n  \"drive\",\n  \"dtv\",\n  \"dubai\",\n  \"dunlop\",\n  \"dupont\",\n  \"durban\",\n  \"dvag\",\n  \"dvr\",\n  \"dz\",\n  \"earth\",\n  \"eat\",\n  \"ec\",\n  \"eco\",\n  \"edeka\",\n  \"edu\",\n  \"education\",\n  \"ee\",\n  \"eg\",\n  \"email\",\n  \"emerck\",\n  \"energy\",\n  \"engineer\",\n  \"engineering\",\n  \"enterprises\",\n  \"epson\",\n  \"equipment\",\n  \"er\",\n  \"ericsson\",\n  \"erni\",\n  \"es\",\n  \"esq\",\n  \"estate\",\n  \"et\",\n  \"eu\",\n  \"eurovision\",\n  \"eus\",\n  \"events\",\n  \"exchange\",\n  \"expert\",\n  \"exposed\",\n  \"express\",\n  \"extraspace\",\n  \"fage\",\n  \"fail\",\n  \"fairwinds\",\n  \"faith\",\n  \"family\",\n  \"fan\",\n  \"fans\",\n  \"farm\",\n  \"farmers\",\n  \"fashion\",\n  \"fast\",\n  \"fedex\",\n  \"feedback\",\n  \"ferrari\",\n  \"ferrero\",\n  \"fi\",\n  \"fidelity\",\n  \"fido\",\n  \"film\",\n  \"final\",\n  \"finance\",\n  \"financial\",\n  \"fire\",\n  \"firestone\",\n  \"firmdale\",\n  \"fish\",\n  \"fishing\",\n  \"fit\",\n  \"fitness\",\n  \"fj\",\n  \"fk\",\n  \"flickr\",\n  \"flights\",\n  \"flir\",\n  \"florist\",\n  \"flowers\",\n  \"fly\",\n  \"fm\",\n  \"fo\",\n  \"foo\",\n  \"food\",\n  \"football\",\n  \"ford\",\n  \"forex\",\n  \"forsale\",\n  \"forum\",\n  \"foundation\",\n  \"fox\",\n  \"fr\",\n  \"free\",\n  \"fresenius\",\n  \"frl\",\n  \"frogans\",\n  \"frontier\",\n  \"ftr\",\n  \"fujitsu\",\n  \"fun\",\n  \"fund\",\n  \"furniture\",\n  \"futbol\",\n  \"fyi\",\n  \"ga\",\n  \"gal\",\n  \"gallery\",\n  \"gallo\",\n  \"gallup\",\n  \"game\",\n  \"games\",\n  \"gap\",\n  \"garden\",\n  \"gay\",\n  \"gb\",\n  \"gbiz\",\n  \"gd\",\n  \"gdn\",\n  \"ge\",\n  \"gea\",\n  \"gent\",\n  \"genting\",\n  \"george\",\n  \"gf\",\n  \"gg\",\n  \"ggee\",\n  \"gh\",\n  \"gi\",\n  \"gift\",\n  \"gifts\",\n  \"gives\",\n  \"giving\",\n  \"gl\",\n  \"glass\",\n  \"gle\",\n  \"global\",\n  \"globo\",\n  \"gm\",\n  \"gmail\",\n  \"gmbh\",\n  \"gmo\",\n  \"gmx\",\n  \"gn\",\n  \"godaddy\",\n  \"gold\",\n  \"goldpoint\",\n  \"golf\",\n  \"goo\",\n  \"goodyear\",\n  \"goog\",\n  \"google\",\n  \"gop\",\n  \"got\",\n  \"gov\",\n  \"gp\",\n  \"gq\",\n  \"gr\",\n  \"grainger\",\n  \"graphics\",\n  \"gratis\",\n  \"green\",\n  \"gripe\",\n  \"grocery\",\n  \"group\",\n  \"gs\",\n  \"gt\",\n  \"gu\",\n  \"gucci\",\n  \"guge\",\n  \"guide\",\n  \"guitars\",\n  \"guru\",\n  \"gw\",\n  \"gy\",\n  \"hair\",\n  \"hamburg\",\n  \"hangout\",\n  \"haus\",\n  \"hbo\",\n  \"hdfc\",\n  \"hdfcbank\",\n  \"health\",\n  \"healthcare\",\n  \"help\",\n  \"helsinki\",\n  \"here\",\n  \"hermes\",\n  \"hiphop\",\n  \"hisamitsu\",\n  \"hitachi\",\n  \"hiv\",\n  \"hk\",\n  \"hkt\",\n  \"hm\",\n  \"hn\",\n  \"hockey\",\n  \"holdings\",\n  \"holiday\",\n  \"homedepot\",\n  \"homegoods\",\n  \"homes\",\n  \"homesense\",\n  \"honda\",\n  \"horse\",\n  \"hospital\",\n  \"host\",\n  \"hosting\",\n  \"hot\",\n  \"hotels\",\n  \"hotmail\",\n  \"house\",\n  \"how\",\n  \"hr\",\n  \"hsbc\",\n  \"ht\",\n  \"hu\",\n  \"hughes\",\n  \"hyatt\",\n  \"hyundai\",\n  \"ibm\",\n  \"icbc\",\n  \"ice\",\n  \"icu\",\n  \"id\",\n  \"ie\",\n  \"ieee\",\n  \"ifm\",\n  \"ikano\",\n  \"il\",\n  \"im\",\n  \"imamat\",\n  \"imdb\",\n  \"immo\",\n  \"immobilien\",\n  \"in\",\n  \"inc\",\n  \"industries\",\n  \"infiniti\",\n  \"info\",\n  \"ing\",\n  \"ink\",\n  \"institute\",\n  \"insurance\",\n  \"insure\",\n  \"int\",\n  \"international\",\n  \"intuit\",\n  \"investments\",\n  \"io\",\n  \"ipiranga\",\n  \"iq\",\n  \"ir\",\n  \"irish\",\n  \"is\",\n  \"ismaili\",\n  \"ist\",\n  \"istanbul\",\n  \"it\",\n  \"itau\",\n  \"itv\",\n  \"jaguar\",\n  \"java\",\n  \"jcb\",\n  \"je\",\n  \"jeep\",\n  \"jetzt\",\n  \"jewelry\",\n  \"jio\",\n  \"jll\",\n  \"jm\",\n  \"jmp\",\n  \"jnj\",\n  \"jo\",\n  \"jobs\",\n  \"joburg\",\n  \"jot\",\n  \"joy\",\n  \"jp\",\n  \"jpmorgan\",\n  \"jprs\",\n  \"juegos\",\n  \"juniper\",\n  \"kaufen\",\n  \"kddi\",\n  \"ke\",\n  \"kerryhotels\",\n  \"kerryproperties\",\n  \"kfh\",\n  \"kg\",\n  \"kh\",\n  \"ki\",\n  \"kia\",\n  \"kids\",\n  \"kim\",\n  \"kindle\",\n  \"kitchen\",\n  \"kiwi\",\n  \"km\",\n  \"kn\",\n  \"koeln\",\n  \"komatsu\",\n  \"kosher\",\n  \"kp\",\n  \"kpmg\",\n  \"kpn\",\n  \"kr\",\n  \"krd\",\n  \"kred\",\n  \"kuokgroup\",\n  \"kw\",\n  \"ky\",\n  \"kyoto\",\n  \"kz\",\n  \"la\",\n  \"lacaixa\",\n  \"lamborghini\",\n  \"lamer\",\n  \"land\",\n  \"landrover\",\n  \"lanxess\",\n  \"lasalle\",\n  \"lat\",\n  \"latino\",\n  \"latrobe\",\n  \"law\",\n  \"lawyer\",\n  \"lb\",\n  \"lc\",\n  \"lds\",\n  \"lease\",\n  \"leclerc\",\n  \"lefrak\",\n  \"legal\",\n  \"lego\",\n  \"lexus\",\n  \"lgbt\",\n  \"li\",\n  \"lidl\",\n  \"life\",\n  \"lifeinsurance\",\n  \"lifestyle\",\n  \"lighting\",\n  \"like\",\n  \"lilly\",\n  \"limited\",\n  \"limo\",\n  \"lincoln\",\n  \"link\",\n  \"live\",\n  \"living\",\n  \"lk\",\n  \"llc\",\n  \"llp\",\n  \"loan\",\n  \"loans\",\n  \"locker\",\n  \"locus\",\n  \"lol\",\n  \"london\",\n  \"lotte\",\n  \"lotto\",\n  \"love\",\n  \"lpl\",\n  \"lplfinancial\",\n  \"lr\",\n  \"ls\",\n  \"lt\",\n  \"ltd\",\n  \"ltda\",\n  \"lu\",\n  \"lundbeck\",\n  \"luxe\",\n  \"luxury\",\n  \"lv\",\n  \"ly\",\n  \"ma\",\n  \"madrid\",\n  \"maif\",\n  \"maison\",\n  \"makeup\",\n  \"man\",\n  \"management\",\n  \"mango\",\n  \"map\",\n  \"market\",\n  \"marketing\",\n  \"markets\",\n  \"marriott\",\n  \"marshalls\",\n  \"mattel\",\n  \"mba\",\n  \"mc\",\n  \"mckinsey\",\n  \"md\",\n  \"me\",\n  \"med\",\n  \"media\",\n  \"meet\",\n  \"melbourne\",\n  \"meme\",\n  \"memorial\",\n  \"men\",\n  \"menu\",\n  \"merckmsd\",\n  \"mg\",\n  \"mh\",\n  \"miami\",\n  \"microsoft\",\n  \"mil\",\n  \"mini\",\n  \"mint\",\n  \"mit\",\n  \"mitsubishi\",\n  \"mk\",\n  \"ml\",\n  \"mlb\",\n  \"mls\",\n  \"mm\",\n  \"mma\",\n  \"mn\",\n  \"mo\",\n  \"mobi\",\n  \"mobile\",\n  \"moda\",\n  \"moe\",\n  \"moi\",\n  \"mom\",\n  \"monash\",\n  \"money\",\n  \"monster\",\n  \"mormon\",\n  \"mortgage\",\n  \"moscow\",\n  \"moto\",\n  \"motorcycles\",\n  \"mov\",\n  \"movie\",\n  \"mp\",\n  \"mq\",\n  \"mr\",\n  \"ms\",\n  \"msd\",\n  \"mt\",\n  \"mtn\",\n  \"mtr\",\n  \"mu\",\n  \"museum\",\n  \"music\",\n  \"mv\",\n  \"mw\",\n  \"mx\",\n  \"my\",\n  \"mz\",\n  \"na\",\n  \"nab\",\n  \"nagoya\",\n  \"name\",\n  \"navy\",\n  \"nba\",\n  \"nc\",\n  \"ne\",\n  \"nec\",\n  \"net\",\n  \"netbank\",\n  \"netflix\",\n  \"network\",\n  \"neustar\",\n  \"new\",\n  \"news\",\n  \"next\",\n  \"nextdirect\",\n  \"nexus\",\n  \"nf\",\n  \"nfl\",\n  \"ng\",\n  \"ngo\",\n  \"nhk\",\n  \"ni\",\n  \"nico\",\n  \"nike\",\n  \"nikon\",\n  \"ninja\",\n  \"nissan\",\n  \"nissay\",\n  \"nl\",\n  \"no\",\n  \"nokia\",\n  \"norton\",\n  \"now\",\n  \"nowruz\",\n  \"nowtv\",\n  \"np\",\n  \"nr\",\n  \"nra\",\n  \"nrw\",\n  \"ntt\",\n  \"nu\",\n  \"nyc\",\n  \"nz\",\n  \"obi\",\n  \"observer\",\n  \"office\",\n  \"okinawa\",\n  \"olayan\",\n  \"olayangroup\",\n  \"ollo\",\n  \"om\",\n  \"omega\",\n  \"one\",\n  \"ong\",\n  \"onl\",\n  \"online\",\n  \"ooo\",\n  \"open\",\n  \"oracle\",\n  \"orange\",\n  \"org\",\n  \"organic\",\n  \"origins\",\n  \"osaka\",\n  \"otsuka\",\n  \"ott\",\n  \"ovh\",\n  \"pa\",\n  \"page\",\n  \"panasonic\",\n  \"paris\",\n  \"pars\",\n  \"partners\",\n  \"parts\",\n  \"party\",\n  \"pay\",\n  \"pccw\",\n  \"pe\",\n  \"pet\",\n  \"pf\",\n  \"pfizer\",\n  \"pg\",\n  \"ph\",\n  \"pharmacy\",\n  \"phd\",\n  \"philips\",\n  \"phone\",\n  \"photo\",\n  \"photography\",\n  \"photos\",\n  \"physio\",\n  \"pics\",\n  \"pictet\",\n  \"pictures\",\n  \"pid\",\n  \"pin\",\n  \"ping\",\n  \"pink\",\n  \"pioneer\",\n  \"pizza\",\n  \"pk\",\n  \"pl\",\n  \"place\",\n  \"play\",\n  \"playstation\",\n  \"plumbing\",\n  \"plus\",\n  \"pm\",\n  \"pn\",\n  \"pnc\",\n  \"pohl\",\n  \"poker\",\n  \"politie\",\n  \"porn\",\n  \"post\",\n  \"pr\",\n  \"praxi\",\n  \"press\",\n  \"prime\",\n  \"pro\",\n  \"prod\",\n  \"productions\",\n  \"prof\",\n  \"progressive\",\n  \"promo\",\n  \"properties\",\n  \"property\",\n  \"protection\",\n  \"pru\",\n  \"prudential\",\n  \"ps\",\n  \"pt\",\n  \"pub\",\n  \"pw\",\n  \"pwc\",\n  \"py\",\n  \"qa\",\n  \"qpon\",\n  \"quebec\",\n  \"quest\",\n  \"racing\",\n  \"radio\",\n  \"re\",\n  \"read\",\n  \"realestate\",\n  \"realtor\",\n  \"realty\",\n  \"recipes\",\n  \"red\",\n  \"redumbrella\",\n  \"rehab\",\n  \"reise\",\n  \"reisen\",\n  \"reit\",\n  \"reliance\",\n  \"ren\",\n  \"rent\",\n  \"rentals\",\n  \"repair\",\n  \"report\",\n  \"republican\",\n  \"rest\",\n  \"restaurant\",\n  \"review\",\n  \"reviews\",\n  \"rexroth\",\n  \"rich\",\n  \"richardli\",\n  \"ricoh\",\n  \"ril\",\n  \"rio\",\n  \"rip\",\n  \"ro\",\n  \"rocks\",\n  \"rodeo\",\n  \"rogers\",\n  \"room\",\n  \"rs\",\n  \"rsvp\",\n  \"ru\",\n  \"rugby\",\n  \"ruhr\",\n  \"run\",\n  \"rw\",\n  \"rwe\",\n  \"ryukyu\",\n  \"sa\",\n  \"saarland\",\n  \"safe\",\n  \"safety\",\n  \"sakura\",\n  \"sale\",\n  \"salon\",\n  \"samsclub\",\n  \"samsung\",\n  \"sandvik\",\n  \"sandvikcoromant\",\n  \"sanofi\",\n  \"sap\",\n  \"sarl\",\n  \"sas\",\n  \"save\",\n  \"saxo\",\n  \"sb\",\n  \"sbi\",\n  \"sbs\",\n  \"sc\",\n  \"scb\",\n  \"schaeffler\",\n  \"schmidt\",\n  \"scholarships\",\n  \"school\",\n  \"schule\",\n  \"schwarz\",\n  \"science\",\n  \"scot\",\n  \"sd\",\n  \"se\",\n  \"search\",\n  \"seat\",\n  \"secure\",\n  \"security\",\n  \"seek\",\n  \"select\",\n  \"sener\",\n  \"services\",\n  \"seven\",\n  \"sew\",\n  \"sex\",\n  \"sexy\",\n  \"sfr\",\n  \"sg\",\n  \"sh\",\n  \"shangrila\",\n  \"sharp\",\n  \"shell\",\n  \"shia\",\n  \"shiksha\",\n  \"shoes\",\n  \"shop\",\n  \"shopping\",\n  \"shouji\",\n  \"show\",\n  \"si\",\n  \"silk\",\n  \"sina\",\n  \"singles\",\n  \"site\",\n  \"sj\",\n  \"sk\",\n  \"ski\",\n  \"skin\",\n  \"sky\",\n  \"skype\",\n  \"sl\",\n  \"sling\",\n  \"sm\",\n  \"smart\",\n  \"smile\",\n  \"sn\",\n  \"sncf\",\n  \"so\",\n  \"soccer\",\n  \"social\",\n  \"softbank\",\n  \"software\",\n  \"sohu\",\n  \"solar\",\n  \"solutions\",\n  \"song\",\n  \"sony\",\n  \"soy\",\n  \"spa\",\n  \"space\",\n  \"sport\",\n  \"spot\",\n  \"sr\",\n  \"srl\",\n  \"ss\",\n  \"st\",\n  \"stada\",\n  \"staples\",\n  \"star\",\n  \"statebank\",\n  \"statefarm\",\n  \"stc\",\n  \"stcgroup\",\n  \"stockholm\",\n  \"storage\",\n  \"store\",\n  \"stream\",\n  \"studio\",\n  \"study\",\n  \"style\",\n  \"su\",\n  \"sucks\",\n  \"supplies\",\n  \"supply\",\n  \"support\",\n  \"surf\",\n  \"surgery\",\n  \"suzuki\",\n  \"sv\",\n  \"swatch\",\n  \"swiss\",\n  \"sx\",\n  \"sy\",\n  \"sydney\",\n  \"systems\",\n  \"sz\",\n  \"tab\",\n  \"taipei\",\n  \"talk\",\n  \"taobao\",\n  \"target\",\n  \"tatamotors\",\n  \"tatar\",\n  \"tattoo\",\n  \"tax\",\n  \"taxi\",\n  \"tc\",\n  \"tci\",\n  \"td\",\n  \"tdk\",\n  \"team\",\n  \"tech\",\n  \"technology\",\n  \"tel\",\n  \"temasek\",\n  \"tennis\",\n  \"teva\",\n  \"tf\",\n  \"tg\",\n  \"th\",\n  \"thd\",\n  \"theater\",\n  \"theatre\",\n  \"tiaa\",\n  \"tickets\",\n  \"tienda\",\n  \"tips\",\n  \"tires\",\n  \"tirol\",\n  \"tj\",\n  \"tjmaxx\",\n  \"tjx\",\n  \"tk\",\n  \"tkmaxx\",\n  \"tl\",\n  \"tm\",\n  \"tmall\",\n  \"tn\",\n  \"to\",\n  \"today\",\n  \"tokyo\",\n  \"tools\",\n  \"top\",\n  \"toray\",\n  \"toshiba\",\n  \"total\",\n  \"tours\",\n  \"town\",\n  \"toyota\",\n  \"toys\",\n  \"tr\",\n  \"trade\",\n  \"trading\",\n  \"training\",\n  \"travel\",\n  \"travelers\",\n  \"travelersinsurance\",\n  \"trust\",\n  \"trv\",\n  \"tt\",\n  \"tube\",\n  \"tui\",\n  \"tunes\",\n  \"tushu\",\n  \"tv\",\n  \"tvs\",\n  \"tw\",\n  \"tz\",\n  \"ua\",\n  \"ubank\",\n  \"ubs\",\n  \"ug\",\n  \"uk\",\n  \"unicom\",\n  \"university\",\n  \"uno\",\n  \"uol\",\n  \"ups\",\n  \"us\",\n  \"uy\",\n  \"uz\",\n  \"va\",\n  \"vacations\",\n  \"vana\",\n  \"vanguard\",\n  \"vc\",\n  \"ve\",\n  \"vegas\",\n  \"ventures\",\n  \"verisign\",\n  \"vermgensberater\",\n  \"vermgensberatung\",\n  \"versicherung\",\n  \"vet\",\n  \"vg\",\n  \"vi\",\n  \"viajes\",\n  \"video\",\n  \"vig\",\n  \"viking\",\n  \"villas\",\n  \"vin\",\n  \"vip\",\n  \"virgin\",\n  \"visa\",\n  \"vision\",\n  \"viva\",\n  \"vivo\",\n  \"vlaanderen\",\n  \"vn\",\n  \"vodka\",\n  \"volvo\",\n  \"vote\",\n  \"voting\",\n  \"voto\",\n  \"voyage\",\n  \"vu\",\n  \"wales\",\n  \"walmart\",\n  \"walter\",\n  \"wang\",\n  \"wanggou\",\n  \"watch\",\n  \"watches\",\n  \"weather\",\n  \"weatherchannel\",\n  \"webcam\",\n  \"weber\",\n  \"website\",\n  \"wed\",\n  \"wedding\",\n  \"weibo\",\n  \"weir\",\n  \"wf\",\n  \"whoswho\",\n  \"wien\",\n  \"wiki\",\n  \"williamhill\",\n  \"win\",\n  \"windows\",\n  \"wine\",\n  \"winners\",\n  \"wme\",\n  \"wolterskluwer\",\n  \"woodside\",\n  \"work\",\n  \"works\",\n  \"world\",\n  \"wow\",\n  \"ws\",\n  \"wtc\",\n  \"wtf\",\n  \"xbox\",\n  \"xerox\",\n  \"xihuan\",\n  \"xin\",\n  \"xxx\",\n  \"xyz\",\n  \"yachts\",\n  \"yahoo\",\n  \"yamaxun\",\n  \"yandex\",\n  \"ye\",\n  \"yodobashi\",\n  \"yoga\",\n  \"yokohama\",\n  \"you\",\n  \"youtube\",\n  \"yt\",\n  \"yun\",\n  \"za\",\n  \"zappos\",\n  \"zara\",\n  \"zero\",\n  \"zip\",\n  \"zm\",\n  \"zone\",\n  \"zuerich\",\n  \"zw\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n];\n","import tlds from \"./tlds\";\n\nconst PROTOCOL_REGEX = /^[a-zA-Z]+:\\/\\//;\nconst EMAIL_REGEX = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\nconst LOCALHOST_ADDRESSES = [\"localhost\", \"127.0.0.1\", \"0.0.0.0\"];\nconst HTTP_PROTOCOL = \"http://\";\nconst MAILTO_PROTOCOL = \"mailto:\";\nconst DEFAULT_PROTOCOL = HTTP_PROTOCOL;\n// IPv4 regex - matches 0.0.0.0 to 255.255.255.255\nconst IPV4_REGEX = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n// IPv6 regex - comprehensive pattern for all IPv6 formats\nconst IPV6_REGEX =\n  /^(?:(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|(?:[0-9a-fA-F]{1,4}:){1,7}:|(?:[0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|(?:[0-9a-fA-F]{1,4}:){1,5}(?::[0-9a-fA-F]{1,4}){1,2}|(?:[0-9a-fA-F]{1,4}:){1,4}(?::[0-9a-fA-F]{1,4}){1,3}|(?:[0-9a-fA-F]{1,4}:){1,3}(?::[0-9a-fA-F]{1,4}){1,4}|(?:[0-9a-fA-F]{1,4}:){1,2}(?::[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:(?::[0-9a-fA-F]{1,4}){1,6}|:(?::[0-9a-fA-F]{1,4}){1,7}|::|fe80:(?::[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(?:ffff(?::0{1,4}){0,1}:){0,1}(?:(?:25[0-5]|(?:2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(?:25[0-5]|(?:2[0-4]|1{0,1}[0-9]){0,1}[0-9])|(?:[0-9a-fA-F]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(?:25[0-5]|(?:2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\n\n/**\n * Checks if a string is a valid IPv4 address\n * @param ip - String to validate as IPv4\n * @returns True if valid IPv4 address\n */\nexport function isValidIPv4(ip: string): boolean {\n  if (!ip || typeof ip !== \"string\") return false;\n  return IPV4_REGEX.test(ip);\n}\n\n/**\n * Checks if a string is a valid IPv6 address\n * @param ip - String to validate as IPv6\n * @returns True if valid IPv6 address\n */\nexport function isValidIPv6(ip: string): boolean {\n  if (!ip || typeof ip !== \"string\") return false;\n\n  // Remove brackets if present (for URL format like [::1])\n  const cleanIP = ip.replace(/^\\[|\\]$/g, \"\");\n\n  return IPV6_REGEX.test(cleanIP);\n}\n\n/**\n * Checks if a string is a valid IP address (IPv4 or IPv6)\n * @param ip - String to validate as IP address\n * @returns Object with validation results\n */\nexport function validateIPAddress(ip: string): {\n  isValid: boolean;\n  type: \"ipv4\" | \"ipv6\" | \"invalid\";\n  formatted?: string;\n} {\n  if (!ip || typeof ip !== \"string\") {\n    return { isValid: false, type: \"invalid\" };\n  }\n\n  if (isValidIPv4(ip)) {\n    return { isValid: true, type: \"ipv4\", formatted: ip };\n  }\n\n  if (isValidIPv6(ip)) {\n    const formatted = ip.replace(/^\\[|\\]$/g, \"\"); // Remove brackets\n    return { isValid: true, type: \"ipv6\", formatted };\n  }\n\n  return { isValid: false, type: \"invalid\" };\n}\n\n/**\n * Checks if a URL string points to a localhost address.\n * @param url - The URL string to check\n * @returns True if the URL points to localhost, false otherwise\n */\nexport function isLocalhost(url: string): boolean {\n  const hostname = extractHostname(url);\n  return LOCALHOST_ADDRESSES.includes(hostname);\n}\n\n/**\n * Extracts hostname from a URL string by removing protocol, path, query, hash, and port.\n * @param url - The URL string to extract hostname from\n * @returns The cleaned hostname\n */\nexport function extractHostname(url: string): string {\n  let hostname = url;\n\n  // Remove protocol if present\n  if (hostname.includes(\"://\")) {\n    hostname = hostname.split(\"://\")[1];\n  }\n\n  // Remove auth credentials if present\n  const atIndex = hostname.indexOf(\"@\");\n  if (atIndex !== -1) {\n    hostname = hostname.substring(atIndex + 1);\n  }\n\n  // Remove path, query, hash, and port in one pass\n  hostname = hostname.split(\"/\")[0].split(\"?\")[0].split(\"#\")[0].split(\":\")[0];\n\n  return hostname;\n}\n\n/**\n * Returns a readable representation of a URL by stripping the protocol\n * and any trailing slash. For valid URLs, only the host is returned.\n * Invalid URLs are sanitized by removing the protocol and trailing slash.\n *\n * @param url - The URL string to format\n * @returns The formatted domain for display\n */\nexport function formatURLForDisplay(url: string): string {\n  if (!url) return \"\";\n\n  try {\n    return new URL(url).host;\n  } catch (_error) {\n    return extractHostname(url);\n  }\n}\n\n/**\n * Extracts and validates the TLD (Top Level Domain) from a URL string.\n *\n * @param {string} urlString - The string to extract TLD from\n * @returns {string} The valid TLD if found, empty string otherwise\n *\n * @description\n * The function performs the following steps:\n * 1. Basic validation (rejects empty strings, strings starting/ending with dots)\n * 2. URL component cleaning:\n *    - Removes protocol (if present)\n *    - Removes auth credentials (if present)\n *    - Removes path component (everything after '/')\n *    - Removes query parameters (everything after '?')\n *    - Removes hash fragments (everything after '#')\n *    - Removes port numbers (everything after ':')\n * 3. Validates the TLD against a list of known TLDs\n */\n\nexport function extractTLD(urlString: string): string {\n  if (!urlString || urlString.startsWith(\".\") || urlString.endsWith(\".\")) {\n    return \"\";\n  }\n\n  const hostname = extractHostname(urlString);\n  const hostnameParts = hostname.split(\".\");\n\n  if (hostnameParts.length >= 2) {\n    const potentialTLD = hostnameParts[hostnameParts.length - 1].toLowerCase();\n    return tlds.includes(potentialTLD) ? potentialTLD : \"\";\n  }\n  return \"\";\n}\n\n/**\n * Interface representing the cleaned components of a URL.\n * @interface IURLComponents\n * @property {string} protocol - The URL protocol (e.g., 'http', 'https'), if protocol is not present, Always contains the actual protocol used.\n * @property {string} subdomain - The subdomain part of the URL (e.g., 'blog' in 'blog.example.com')\n * @property {string} rootDomain - The root domain name (e.g., 'example' in 'blog.example.com')\n * @property {string} tld - The top-level domain (e.g., 'com', 'org')\n * @property {string} pathname - The URL path excluding search params and hash, empty if pathname is '/'\n * @property {URL} full - The original URL object with all native URL properties\n */\nexport interface IURLComponents {\n  protocol: string;\n  subdomain: string;\n  rootDomain: string;\n  tld: string;\n  pathname: string;\n  full: URL;\n}\n\n/**\n * Process a URL object to extract its components\n */\nexport function processURL(url: URL): IURLComponents {\n  const protocol = url.protocol.slice(0, -1);\n  const hostnameParts = url.hostname.split(\".\");\n\n  let subdomain = \"\";\n  let rootDomain = \"\";\n  let tld = \"\";\n\n  if (hostnameParts.length === 1) {\n    rootDomain = hostnameParts[0]; // For cases like 'localhost'\n  } else if (hostnameParts.length >= 2) {\n    tld = hostnameParts[hostnameParts.length - 1];\n    rootDomain = hostnameParts[hostnameParts.length - 2];\n\n    if (hostnameParts.length > 2) {\n      subdomain = hostnameParts.slice(0, -2).join(\".\");\n    }\n  }\n\n  return {\n    protocol,\n    subdomain,\n    rootDomain,\n    tld,\n    pathname: url.pathname === \"/\" ? \"\" : url.pathname,\n    full: url,\n  };\n}\n\n/**\n * Extracts components from a URL object or string.\n *\n * @param {URL | string} url - The URL object or string to extract components from\n * @returns {IURLComponents | undefined} URL components or undefined if invalid\n *\n * @example\n * // With URL object\n * const url = new URL('https://blog.example.com/posts');\n * extractURLComponents(url);\n *\n * // With string\n * extractURLComponents('blog.example.com/posts');\n *\n * // Example output:\n * // {\n * //   protocol: 'https',      // empty string if protocol is not present\n * //   subdomain: 'blog',\n * //   rootDomain: 'example',\n * //   tld: 'com',\n * //   pathname: 'posts',\n * //   full: URL {}           // The parsed URL object\n * // }\n */\nexport function extractURLComponents(url: URL | string): IURLComponents | undefined {\n  // If URL object is passed directly\n  if (typeof url !== \"string\") {\n    return processURL(url);\n  }\n\n  // Handle empty strings\n  if (!url || url.trim() === \"\") return undefined;\n\n  // Input length validation for security\n  if (url.length > 2048) return undefined;\n\n  const urlLower = url.toLowerCase();\n\n  try {\n    // 1. Handle web URLs with protocols (including mailto, http, https, ftp, etc.)\n    if (PROTOCOL_REGEX.test(urlLower) || urlLower.startsWith(MAILTO_PROTOCOL)) {\n      return processURL(new URL(url));\n    }\n\n    // 2. Check if it's an email address\n    if (EMAIL_REGEX.test(urlLower)) {\n      return processURL(new URL(`${MAILTO_PROTOCOL}${url}`));\n    }\n\n    // 3. URL without protocol but valid domain or IP address or TLD\n    if (isLocalhost(urlLower) || isValidIPv4(urlLower) || isValidIPv6(urlLower) || extractTLD(urlLower)) {\n      return processURL(new URL(`${DEFAULT_PROTOCOL}${urlLower}`));\n    }\n\n    return undefined;\n  } catch (error) {\n    return undefined;\n  }\n}\n\n/**\n * Validates that a next_path parameter is safe for redirection.\n * Only allows relative paths starting with \"/\" to prevent open redirect vulnerabilities.\n *\n * @param url - The next_path URL to validate\n * @returns True if the URL is a safe relative path, false otherwise\n *\n * @example\n * isValidNextPath(\"/dashboard\") // true\n * isValidNextPath(\"/workspace/123\") // true\n * isValidNextPath(\"https://malicious.com\") // false\n * isValidNextPath(\"//malicious.com\") // false (protocol-relative)\n * isValidNextPath(\"javascript:alert(1)\") // false\n * isValidNextPath(\"\") // false\n * isValidNextPath(\"dashboard\") // false (must start with /)\n * isValidNextPath(\"\\\\malicious\") // false (backslash)\n * isValidNextPath(\"  /dashboard  \") // true (trimmed)\n */\nexport function isValidNextPath(url: string): boolean {\n  if (!url || typeof url !== \"string\") return false;\n\n  // Trim leading/trailing whitespace\n  const trimmedUrl = url.trim();\n\n  if (!trimmedUrl) return false;\n\n  // Only allow relative paths starting with /\n  if (!trimmedUrl.startsWith(\"/\")) return false;\n\n  // Block protocol-relative URLs (//example.com) - open redirect vulnerability\n  if (trimmedUrl.startsWith(\"//\")) return false;\n\n  // Block backslashes which can be used for path traversal or Windows-style paths\n  if (trimmedUrl.includes(\"\\\\\")) return false;\n\n  try {\n    // Use URL constructor with a dummy base to normalize and validate the path\n    const normalizedUrl = new URL(trimmedUrl, \"http://localhost\");\n\n    // Ensure the path is still relative (no host change from our dummy base)\n    if (normalizedUrl.hostname !== \"localhost\" || normalizedUrl.protocol !== \"http:\") {\n      return false;\n    }\n\n    // Use the normalized pathname for additional security checks\n    const pathname = normalizedUrl.pathname;\n\n    // Additional security checks for malicious patterns in the normalized path\n    const maliciousPatterns = [\n      /javascript:/i,\n      /data:/i,\n      /vbscript:/i,\n      /<script/i,\n      /on\\w+=/i, // Event handlers like onclick=, onload=\n    ];\n\n    return !maliciousPatterns.some((pattern) => pattern.test(pathname));\n  } catch (error) {\n    // If URL constructor fails, it's an invalid path\n    return false;\n  }\n}\n","// plane imports\nimport type { ICycle, TCycleGroups, TFilterProperty, TSupportedOperators } from \"@plane/types\";\nimport { EQUALITY_OPERATOR, COLLECTION_OPERATOR } from \"@plane/types\";\n// local imports\nimport type { TCreateFilterConfigParams, IFilterIconConfig, TCreateFilterConfig } from \"../../../rich-filters\";\nimport { createFilterConfig, getMultiSelectConfig, createOperatorConfigEntry } from \"../../../rich-filters\";\n\n/**\n * Cycle filter specific params\n */\nexport type TCreateCycleFilterParams = TCreateFilterConfigParams &\n  IFilterIconConfig<TCycleGroups> & {\n    cycles: ICycle[];\n  };\n\n/**\n * Helper to get the cycle multi select config\n * @param params - The filter params\n * @returns The cycle multi select config\n */\nexport const getCycleMultiSelectConfig = (params: TCreateCycleFilterParams, singleValueOperator: TSupportedOperators) =>\n  getMultiSelectConfig<ICycle, string, TCycleGroups>(\n    {\n      items: params.cycles,\n      getId: (cycle) => cycle.id,\n      getLabel: (cycle) => cycle.name,\n      getValue: (cycle) => cycle.id,\n      getIconData: (cycle) => cycle.status || \"draft\",\n    },\n    {\n      singleValueOperator,\n      ...params,\n    },\n    {\n      ...params,\n    }\n  );\n\n/**\n * Get the cycle filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the cycle filter config\n */\nexport const getCycleFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateCycleFilterParams> =>\n  (params: TCreateCycleFilterParams) =>\n    createFilterConfig<P, string>({\n      id: key,\n      label: \"Cycle\",\n      ...params,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(COLLECTION_OPERATOR.IN, params, (updatedParams) =>\n          getCycleMultiSelectConfig(updatedParams, EQUALITY_OPERATOR.EXACT)\n        ),\n      ]),\n    });\n","// plane imports\nimport type { TFilterProperty } from \"@plane/types\";\n// local imports\nimport type { TCreateFilterConfig, TCreateDateFilterParams } from \"../../../rich-filters\";\nimport { createFilterConfig, getSupportedDateOperators } from \"../../../rich-filters\";\n\n// ------------ Date filters ------------\n\n/**\n * Get the start date filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the start date filter config\n */\nexport const getStartDateFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateDateFilterParams> =>\n  (params: TCreateDateFilterParams) =>\n    createFilterConfig<P, Date>({\n      id: key,\n      label: \"Start date\",\n      ...params,\n      icon: params.filterIcon,\n      allowMultipleFilters: true,\n      supportedOperatorConfigsMap: getSupportedDateOperators(params),\n    });\n\n/**\n * Get the target date filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the target date filter config\n */\nexport const getTargetDateFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateDateFilterParams> =>\n  (params: TCreateDateFilterParams) =>\n    createFilterConfig<P, Date>({\n      id: key,\n      label: \"Target date\",\n      ...params,\n      icon: params.filterIcon,\n      allowMultipleFilters: true,\n      supportedOperatorConfigsMap: getSupportedDateOperators(params),\n    });\n\n/**\n * Get the created at filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the created at filter config\n */\nexport const getCreatedAtFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateDateFilterParams> =>\n  (params: TCreateDateFilterParams) =>\n    createFilterConfig<P, Date>({\n      id: key,\n      label: \"Created at\",\n      ...params,\n      icon: params.filterIcon,\n      allowMultipleFilters: true,\n      supportedOperatorConfigsMap: getSupportedDateOperators(params),\n    });\n\n/**\n * Get the updated at filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the updated at filter config\n */\nexport const getUpdatedAtFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateDateFilterParams> =>\n  (params: TCreateDateFilterParams) =>\n    createFilterConfig<P, Date>({\n      id: key,\n      label: \"Updated at\",\n      ...params,\n      icon: params.filterIcon,\n      allowMultipleFilters: true,\n      supportedOperatorConfigsMap: getSupportedDateOperators(params),\n    });\n","// plane imports\nimport type { IIssueLabel, TFilterProperty, TSupportedOperators } from \"@plane/types\";\nimport { EQUALITY_OPERATOR, COLLECTION_OPERATOR } from \"@plane/types\";\n// local imports\nimport type { TCreateFilterConfigParams, IFilterIconConfig, TCreateFilterConfig } from \"../../../rich-filters\";\nimport { createFilterConfig, getMultiSelectConfig, createOperatorConfigEntry } from \"../../../rich-filters\";\n\n/**\n * Label filter specific params\n */\nexport type TCreateLabelFilterParams = TCreateFilterConfigParams &\n  IFilterIconConfig<string> & {\n    labels: IIssueLabel[];\n  };\n\n/**\n * Helper to get the label multi select config\n * @param params - The filter params\n * @returns The label multi select config\n */\nexport const getLabelMultiSelectConfig = (params: TCreateLabelFilterParams, singleValueOperator: TSupportedOperators) =>\n  getMultiSelectConfig<IIssueLabel, string, string>(\n    {\n      items: params.labels,\n      getId: (label) => label.id,\n      getLabel: (label) => label.name,\n      getValue: (label) => label.id,\n      getIconData: (label) => label.color,\n    },\n    {\n      singleValueOperator,\n      ...params,\n    },\n    {\n      getOptionIcon: params.getOptionIcon,\n    }\n  );\n\n/**\n * Get the label filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the label filter config\n */\nexport const getLabelFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateLabelFilterParams> =>\n  (params: TCreateLabelFilterParams) =>\n    createFilterConfig<P, string>({\n      id: key,\n      label: \"Label\",\n      ...params,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(COLLECTION_OPERATOR.IN, params, (updatedParams) =>\n          getLabelMultiSelectConfig(updatedParams, EQUALITY_OPERATOR.EXACT)\n        ),\n      ]),\n    });\n","// plane imports\nimport type { IModule, TFilterProperty } from \"@plane/types\";\nimport { EQUALITY_OPERATOR, COLLECTION_OPERATOR } from \"@plane/types\";\n// local imports\nimport type { TCreateFilterConfigParams, IFilterIconConfig, TCreateFilterConfig } from \"../../../rich-filters\";\nimport { createFilterConfig, getMultiSelectConfig, createOperatorConfigEntry } from \"../../../rich-filters\";\n\n/**\n * Module filter specific params\n */\nexport type TCreateModuleFilterParams = TCreateFilterConfigParams &\n  IFilterIconConfig<undefined> & {\n    modules: IModule[];\n  };\n\n/**\n * Helper to get the module multi select config\n * @param params - The filter params\n * @returns The module multi select config\n */\nexport const getModuleMultiSelectConfig = (params: TCreateModuleFilterParams) =>\n  getMultiSelectConfig<IModule, string, undefined>(\n    {\n      items: params.modules,\n      getId: (module) => module.id,\n      getLabel: (module) => module.name,\n      getValue: (module) => module.id,\n      getIconData: () => undefined,\n    },\n    {\n      singleValueOperator: EQUALITY_OPERATOR.EXACT,\n      ...params,\n    },\n    {\n      ...params,\n    }\n  );\n\n/**\n * Get the module filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the module filter config\n */\nexport const getModuleFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateModuleFilterParams> =>\n  (params: TCreateModuleFilterParams) =>\n    createFilterConfig<P, string>({\n      id: key,\n      label: \"Module\",\n      ...params,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(COLLECTION_OPERATOR.IN, params, (updatedParams) =>\n          getModuleMultiSelectConfig(updatedParams)\n        ),\n      ]),\n    });\n","// plane imports\nimport type { TIssuePriorities } from \"@plane/constants\";\nimport { ISSUE_PRIORITIES } from \"@plane/constants\";\nimport type { TFilterProperty, TSupportedOperators } from \"@plane/types\";\nimport { EQUALITY_OPERATOR, COLLECTION_OPERATOR } from \"@plane/types\";\n// local imports\nimport type { TCreateFilterConfigParams, IFilterIconConfig, TCreateFilterConfig } from \"../../../rich-filters\";\nimport { createFilterConfig, getMultiSelectConfig, createOperatorConfigEntry } from \"../../../rich-filters\";\n\n// ------------ Priority filter ------------\n\n/**\n * Priority filter specific params\n */\nexport type TCreatePriorityFilterParams = TCreateFilterConfigParams & IFilterIconConfig<TIssuePriorities>;\n\n/**\n * Helper to get the priority multi select config\n * @param params - The filter params\n * @returns The priority multi select config\n */\nexport const getPriorityMultiSelectConfig = (\n  params: TCreatePriorityFilterParams,\n  singleValueOperator: TSupportedOperators\n) =>\n  getMultiSelectConfig<{ key: TIssuePriorities; title: string }, TIssuePriorities, TIssuePriorities>(\n    {\n      items: ISSUE_PRIORITIES,\n      getId: (priority) => priority.key,\n      getLabel: (priority) => priority.title,\n      getValue: (priority) => priority.key,\n      getIconData: (priority) => priority.key,\n    },\n    {\n      singleValueOperator,\n      ...params,\n    },\n    {\n      getOptionIcon: params.getOptionIcon,\n    }\n  );\n\n/**\n * Get the priority filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the priority filter config\n */\nexport const getPriorityFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreatePriorityFilterParams> =>\n  (params: TCreatePriorityFilterParams) =>\n    createFilterConfig<P, TIssuePriorities>({\n      id: key,\n      label: \"Priority\",\n      ...params,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(COLLECTION_OPERATOR.IN, params, (updatedParams) =>\n          getPriorityMultiSelectConfig(updatedParams, EQUALITY_OPERATOR.EXACT)\n        ),\n      ]),\n    });\n","// plane imports\nimport type { TFilterProperty } from \"@plane/types\";\nimport { EQUALITY_OPERATOR, COLLECTION_OPERATOR } from \"@plane/types\";\n// local imports\nimport type { TCreateFilterConfig, TCreateProjectFilterParams } from \"../../../rich-filters\";\nimport { createFilterConfig, createOperatorConfigEntry, getProjectMultiSelectConfig } from \"../../../rich-filters\";\n\n// ------------ Project filter ------------\n\n/**\n * Get the project filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the project filter config\n */\nexport const getProjectFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateProjectFilterParams> =>\n  (params: TCreateProjectFilterParams) =>\n    createFilterConfig<P, string>({\n      id: key,\n      label: \"Projects\",\n      ...params,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(COLLECTION_OPERATOR.IN, params, (updatedParams) =>\n          getProjectMultiSelectConfig(updatedParams, EQUALITY_OPERATOR.EXACT)\n        ),\n      ]),\n    });\n","// plane imports\nimport { STATE_GROUPS } from \"@plane/constants\";\nimport type { IState, TFilterProperty, TStateGroups, TSupportedOperators } from \"@plane/types\";\nimport { COLLECTION_OPERATOR, EQUALITY_OPERATOR } from \"@plane/types\";\n// local imports\nimport type { IFilterIconConfig, TCreateFilterConfig, TCreateFilterConfigParams } from \"../../../rich-filters\";\nimport { createFilterConfig, getMultiSelectConfig, createOperatorConfigEntry } from \"../../../rich-filters\";\n\n// ------------ State group filter ------------\n\n/**\n * State group filter specific params\n */\nexport type TCreateStateGroupFilterParams = TCreateFilterConfigParams & IFilterIconConfig<TStateGroups>;\n\n/**\n * Helper to get the state group multi select config\n * @param params - The filter params\n * @returns The state group multi select config\n */\nexport const getStateGroupMultiSelectConfig = (\n  params: TCreateStateGroupFilterParams,\n  singleValueOperator: TSupportedOperators\n) =>\n  getMultiSelectConfig<{ key: TStateGroups; label: string }, TStateGroups, TStateGroups>(\n    {\n      items: Object.values(STATE_GROUPS),\n      getId: (state) => state.key,\n      getLabel: (state) => state.label,\n      getValue: (state) => state.key,\n      getIconData: (state) => state.key,\n    },\n    {\n      singleValueOperator,\n      ...params,\n    },\n    {\n      ...params,\n    }\n  );\n\n/**\n * Get the state group filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the state group filter config\n */\nexport const getStateGroupFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateStateGroupFilterParams> =>\n  (params: TCreateStateGroupFilterParams) =>\n    createFilterConfig<P, TStateGroups>({\n      id: key,\n      label: \"State Group\",\n      ...params,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(COLLECTION_OPERATOR.IN, params, (updatedParams) =>\n          getStateGroupMultiSelectConfig(updatedParams, EQUALITY_OPERATOR.EXACT)\n        ),\n      ]),\n    });\n\n// ------------ State filter ------------\n\n/**\n * State filter specific params\n */\nexport type TCreateStateFilterParams = TCreateFilterConfigParams &\n  IFilterIconConfig<IState> & {\n    states: IState[];\n  };\n\n/**\n * Helper to get the state multi select config\n * @param params - The filter params\n * @returns The state multi select config\n */\nexport const getStateMultiSelectConfig = (params: TCreateStateFilterParams, singleValueOperator: TSupportedOperators) =>\n  getMultiSelectConfig<IState, string, IState>(\n    {\n      items: params.states,\n      getId: (state) => state.id,\n      getLabel: (state) => state.name,\n      getValue: (state) => state.id,\n      getIconData: (state) => state,\n    },\n    {\n      singleValueOperator,\n      ...params,\n    },\n    {\n      ...params,\n    }\n  );\n\n/**\n * Get the state filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the state filter config\n */\nexport const getStateFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateStateFilterParams> =>\n  (params: TCreateStateFilterParams) =>\n    createFilterConfig<P, string>({\n      id: key,\n      label: \"State\",\n      ...params,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(COLLECTION_OPERATOR.IN, params, (updatedParams) =>\n          getStateMultiSelectConfig(updatedParams, EQUALITY_OPERATOR.EXACT)\n        ),\n      ]),\n    });\n","// plane imports\nimport type { TFilterProperty } from \"@plane/types\";\nimport { EQUALITY_OPERATOR, COLLECTION_OPERATOR } from \"@plane/types\";\n// local imports\nimport type { TCreateFilterConfig, TCreateUserFilterParams } from \"../../../rich-filters\";\nimport { createFilterConfig, createOperatorConfigEntry, getMemberMultiSelectConfig } from \"../../../rich-filters\";\n\n// ------------ Assignee filter ------------\n\n/**\n * Assignee filter specific params\n */\nexport type TCreateAssigneeFilterParams = TCreateUserFilterParams;\n\n/**\n * Get the assignee filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the assignee filter config\n */\nexport const getAssigneeFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateAssigneeFilterParams> =>\n  (params: TCreateAssigneeFilterParams) =>\n    createFilterConfig<P, string>({\n      id: key,\n      label: \"Assignees\",\n      ...params,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(COLLECTION_OPERATOR.IN, params, (updatedParams) =>\n          getMemberMultiSelectConfig(updatedParams, EQUALITY_OPERATOR.EXACT)\n        ),\n      ]),\n    });\n\n// ------------ Mention filter ------------\n\n/**\n * Mention filter specific params\n */\nexport type TCreateMentionFilterParams = TCreateUserFilterParams;\n\n/**\n * Get the mention filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the mention filter config\n */\nexport const getMentionFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateMentionFilterParams> =>\n  (params: TCreateMentionFilterParams) =>\n    createFilterConfig<P, string>({\n      id: key,\n      label: \"Mentions\",\n      ...params,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(COLLECTION_OPERATOR.IN, params, (updatedParams) =>\n          getMemberMultiSelectConfig(updatedParams, EQUALITY_OPERATOR.EXACT)\n        ),\n      ]),\n    });\n\n// ------------ Created by filter ------------\n\n/**\n * Created by filter specific params\n */\nexport type TCreateCreatedByFilterParams = TCreateUserFilterParams;\n\n/**\n * Get the created by filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the created by filter config\n */\nexport const getCreatedByFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateCreatedByFilterParams> =>\n  (params: TCreateCreatedByFilterParams) =>\n    createFilterConfig<P, string>({\n      id: key,\n      label: \"Created by\",\n      ...params,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(COLLECTION_OPERATOR.IN, params, (updatedParams) =>\n          getMemberMultiSelectConfig(updatedParams, EQUALITY_OPERATOR.EXACT)\n        ),\n      ]),\n    });\n\n// ------------ Subscriber filter ------------\n\n/**\n * Subscriber filter specific params\n */\nexport type TCreateSubscriberFilterParams = TCreateUserFilterParams;\n\n/**\n * Get the subscriber filter config\n * @template K - The filter key\n * @param key - The filter key to use\n * @returns A function that takes parameters and returns the subscriber filter config\n */\nexport const getSubscriberFilterConfig =\n  <P extends TFilterProperty>(key: P): TCreateFilterConfig<P, TCreateSubscriberFilterParams> =>\n  (params: TCreateSubscriberFilterParams) =>\n    createFilterConfig<P, string>({\n      id: key,\n      label: \"Subscriber\",\n      ...params,\n      icon: params.filterIcon,\n      supportedOperatorConfigsMap: new Map([\n        createOperatorConfigEntry(COLLECTION_OPERATOR.IN, params, (updatedParams) =>\n          getMemberMultiSelectConfig(updatedParams, EQUALITY_OPERATOR.EXACT)\n        ),\n      ]),\n    });\n","import { differenceInCalendarDays } from \"date-fns/differenceInCalendarDays\";\nimport { isEmpty } from \"lodash-es\";\nimport { v4 as uuidv4 } from \"uuid\";\n// plane imports\nimport type { TIssueFilterPriorityObject, TIssuePriorities } from \"@plane/constants\";\nimport { ISSUE_DISPLAY_FILTERS_BY_PAGE, ISSUE_PRIORITY_FILTERS, STATE_GROUPS } from \"@plane/constants\";\nimport type {\n  IGanttBlock,\n  IIssueDisplayFilterOptions,\n  IIssueDisplayProperties,\n  TGroupedIssues,\n  TIssue,\n  TIssueGroupByOptions,\n  TIssueOrderByOptions,\n  TIssueParams,\n  TStateGroups,\n  TSubGroupedIssues,\n  TUnGroupedIssues,\n} from \"@plane/types\";\nimport { EIssueLayoutTypes } from \"@plane/types\";\n// local imports\nimport { orderArrayBy } from \"../array\";\nimport { getDate } from \"../datetime\";\nimport { isEditorEmpty } from \"../editor\";\n\ntype THandleIssuesMutation = (\n  formData: Partial<TIssue>,\n  oldGroupTitle: string,\n  selectedGroupBy: TIssueGroupByOptions,\n  issueIndex: number,\n  orderBy: TIssueOrderByOptions,\n  prevData?:\n    | {\n        [key: string]: TIssue[];\n      }\n    | TIssue[]\n) =>\n  | {\n      [key: string]: TIssue[];\n    }\n  | TIssue[]\n  | undefined;\n\nexport const handleIssuesMutation: THandleIssuesMutation = (\n  formData,\n  oldGroupTitle,\n  selectedGroupBy,\n  issueIndex,\n  orderBy,\n  prevData\n) => {\n  if (!prevData) return prevData;\n\n  if (Array.isArray(prevData)) {\n    const updatedIssue = {\n      ...prevData[issueIndex],\n      ...formData,\n    };\n\n    prevData.splice(issueIndex, 1, updatedIssue);\n\n    return [...prevData];\n  } else {\n    const oldGroup = prevData[oldGroupTitle ?? \"\"] ?? [];\n\n    let newGroup: TIssue[] = [];\n\n    if (selectedGroupBy === \"priority\") newGroup = prevData[formData.priority ?? \"\"] ?? [];\n    else if (selectedGroupBy === \"state\") newGroup = prevData[formData.state_id ?? \"\"] ?? [];\n\n    const updatedIssue = {\n      ...oldGroup[issueIndex],\n      ...formData,\n    };\n\n    if (selectedGroupBy !== Object.keys(formData)[0])\n      return {\n        ...prevData,\n        [oldGroupTitle ?? \"\"]: orderArrayBy(\n          oldGroup.map((i) => (i.id === updatedIssue.id ? updatedIssue : i)),\n          orderBy\n        ),\n      };\n\n    const groupThatIsUpdated = selectedGroupBy === \"priority\" ? formData.priority : formData.state_id;\n\n    return {\n      ...prevData,\n      [oldGroupTitle ?? \"\"]: orderArrayBy(\n        oldGroup.filter((i) => i.id !== updatedIssue.id),\n        orderBy\n      ),\n      [groupThatIsUpdated ?? \"\"]: orderArrayBy([...newGroup, updatedIssue], orderBy),\n    };\n  }\n};\n\nexport const handleIssueQueryParamsByLayout = (\n  layout: EIssueLayoutTypes | undefined,\n  viewType:\n    | \"my_issues\"\n    | \"issues\"\n    | \"profile_issues\"\n    | \"archived_issues\"\n    | \"draft_issues\"\n    | \"team_issues\"\n    | \"team_project_work_items\"\n): TIssueParams[] | null => {\n  const queryParams: TIssueParams[] = [\"filters\"];\n\n  if (!layout) return null;\n\n  const currentViewLayoutOptions = ISSUE_DISPLAY_FILTERS_BY_PAGE[viewType].layoutOptions[layout];\n\n  // add display filters query params\n  Object.keys(currentViewLayoutOptions.display_filters).forEach((option) => {\n    queryParams.push(option as TIssueParams);\n  });\n\n  // add extra options query params\n  if (currentViewLayoutOptions.extra_options.access) {\n    currentViewLayoutOptions.extra_options.values.forEach((option) => {\n      queryParams.push(option);\n    });\n  }\n\n  return queryParams;\n};\n\n/**\n *\n * @description create a full issue payload with some default values. This function also parse the form field\n * like assignees, labels, etc. and add them to the payload\n * @param projectId project id to be added in the issue payload\n * @param formData partial issue data from the form. This will override the default values\n * @returns full issue payload with some default values\n */\nexport const createIssuePayload: (projectId: string, formData: Partial<TIssue>) => TIssue = (\n  projectId: string,\n  formData: Partial<TIssue>\n) => {\n  const payload: TIssue = {\n    id: uuidv4(),\n    project_id: projectId,\n    priority: \"none\",\n    label_ids: [],\n    assignee_ids: [],\n    sub_issues_count: 0,\n    attachment_count: 0,\n    link_count: 0,\n    // tempId is used for optimistic updates. It is not a part of the API response.\n    tempId: uuidv4(),\n    // to be overridden by the form data\n    ...formData,\n  } as TIssue;\n\n  return payload;\n};\n\n/**\n * @description check if the issue due date should be highlighted\n * @param date\n * @param stateGroup\n * @returns boolean\n */\nexport const shouldHighlightIssueDueDate = (\n  date: string | Date | null,\n  stateGroup: TStateGroups | undefined\n): boolean => {\n  if (!date || !stateGroup) return false;\n  // if the issue is completed or cancelled, don't highlight the due date\n  if ([STATE_GROUPS.completed.key, STATE_GROUPS.cancelled.key].includes(stateGroup)) return false;\n\n  const parsedDate = getDate(date);\n  if (!parsedDate) return false;\n\n  const targetDateDistance = differenceInCalendarDays(parsedDate, new Date());\n\n  // if the issue is overdue, highlight the due date\n  return targetDateDistance <= 0;\n};\n\nexport const getIssueBlocksStructure = (block: TIssue): IGanttBlock => ({\n  data: block,\n  id: block?.id,\n  name: block?.name,\n  sort_order: block?.sort_order,\n  start_date: block?.start_date ?? undefined,\n  target_date: block?.target_date ?? undefined,\n  meta: {\n    project_id: block?.project_id ?? undefined,\n  },\n});\n\nexport const formatTextList = (TextArray: string[]): string => {\n  const count = TextArray.length;\n  switch (count) {\n    case 0:\n      return \"\";\n    case 1:\n      return TextArray[0];\n    case 2:\n      return `${TextArray[0]} and ${TextArray[1]}`;\n    case 3:\n      return `${TextArray.slice(0, 2).join(\", \")}, and ${TextArray[2]}`;\n    case 4:\n      return `${TextArray.slice(0, 3).join(\", \")}, and ${TextArray[3]}`;\n    default:\n      return `${TextArray.slice(0, 3).join(\", \")}, and +${count - 3} more`;\n  }\n};\n\nexport const getDescriptionPlaceholderI18n = (isFocused: boolean, description: string | undefined): string => {\n  const isDescriptionEmpty = isEditorEmpty(description);\n  if (!isDescriptionEmpty || isFocused) return \"common.press_for_commands\";\n  else return \"common.click_to_add_description\";\n};\n\nexport const issueCountBasedOnFilters = (\n  issueIds: TGroupedIssues | TUnGroupedIssues | TSubGroupedIssues,\n  layout: EIssueLayoutTypes,\n  groupBy: string | undefined,\n  subGroupBy: string | undefined\n): number => {\n  let issuesCount = 0;\n  if (!layout) return issuesCount;\n\n  if ([\"spreadsheet\", \"gantt_chart\"].includes(layout)) {\n    issuesCount = (issueIds as TUnGroupedIssues)?.length;\n  } else if (layout === \"calendar\") {\n    Object.keys(issueIds || {}).map((groupId) => {\n      issuesCount += (issueIds as TGroupedIssues)?.[groupId]?.length;\n    });\n  } else if (layout === \"list\") {\n    if (groupBy) {\n      Object.keys(issueIds || {}).map((groupId) => {\n        issuesCount += (issueIds as TGroupedIssues)?.[groupId]?.length;\n      });\n    } else {\n      issuesCount = (issueIds as TUnGroupedIssues)?.length;\n    }\n  } else if (layout === \"kanban\") {\n    if (groupBy && subGroupBy) {\n      Object.keys(issueIds || {}).map((groupId) => {\n        Object.keys((issueIds as TSubGroupedIssues)?.[groupId] || {}).map((subGroupId) => {\n          issuesCount += (issueIds as TSubGroupedIssues)?.[groupId]?.[subGroupId]?.length || 0;\n        });\n      });\n    } else if (groupBy) {\n      Object.keys(issueIds || {}).map((groupId) => {\n        issuesCount += (issueIds as TGroupedIssues)?.[groupId]?.length;\n      });\n    }\n  }\n\n  return issuesCount;\n};\n\n/**\n * @description This method is used to apply the display filters on the issues\n * @param {IIssueDisplayFilterOptions} displayFilters\n * @returns {IIssueDisplayFilterOptions}\n */\nexport const getComputedDisplayFilters = (\n  displayFilters: IIssueDisplayFilterOptions = {},\n  defaultValues?: IIssueDisplayFilterOptions\n): IIssueDisplayFilterOptions => {\n  const filters = !isEmpty(displayFilters) ? displayFilters : defaultValues;\n  return {\n    calendar: {\n      show_weekends: filters?.calendar?.show_weekends || false,\n      layout: filters?.calendar?.layout || \"month\",\n    },\n    layout: filters?.layout || EIssueLayoutTypes.LIST,\n    order_by: filters?.order_by || \"sort_order\",\n    group_by: filters?.group_by || null,\n    sub_group_by: filters?.sub_group_by || null,\n    sub_issue: filters?.sub_issue || false,\n    show_empty_groups: filters?.show_empty_groups || false,\n  };\n};\n\n/**\n * @description This method is used to apply the display properties on the issues\n * @param {IIssueDisplayProperties} displayProperties\n * @returns {IIssueDisplayProperties}\n */\nexport const getComputedDisplayProperties = (\n  displayProperties: IIssueDisplayProperties = {}\n): IIssueDisplayProperties => ({\n  assignee: displayProperties?.assignee ?? true,\n  start_date: displayProperties?.start_date ?? true,\n  due_date: displayProperties?.due_date ?? true,\n  labels: displayProperties?.labels ?? true,\n  priority: displayProperties?.priority ?? true,\n  state: displayProperties?.state ?? true,\n  sub_issue_count: displayProperties?.sub_issue_count ?? true,\n  attachment_count: displayProperties?.attachment_count ?? true,\n  link: displayProperties?.link ?? true,\n  estimate: displayProperties?.estimate ?? true,\n  key: displayProperties?.key ?? true,\n  created_on: displayProperties?.created_on ?? true,\n  updated_on: displayProperties?.updated_on ?? true,\n  modules: displayProperties?.modules ?? true,\n  cycle: displayProperties?.cycle ?? true,\n  issue_type: displayProperties?.issue_type ?? true,\n});\n\nexport const generateWorkItemLink = ({\n  workspaceSlug,\n  projectId,\n  issueId,\n  projectIdentifier,\n  sequenceId,\n  isArchived = false,\n  isEpic = false,\n}: {\n  workspaceSlug: string | undefined | null;\n  projectId: string | undefined | null;\n  issueId: string | undefined | null;\n  projectIdentifier: string | undefined | null;\n  sequenceId: string | number | undefined | null;\n  isArchived?: boolean;\n  isEpic?: boolean;\n}): string => {\n  const archiveIssueLink = `/${workspaceSlug}/projects/${projectId}/archives/issues/${issueId}`;\n  const workItemLink = `/${workspaceSlug}/browse/${projectIdentifier}-${sequenceId}/`;\n  const epicLink = workItemLink;\n\n  return isArchived ? archiveIssueLink : isEpic ? epicLink : workItemLink;\n};\n\nexport const getIssuePriorityFilters = (priorityKey: TIssuePriorities): TIssueFilterPriorityObject | undefined => {\n  const currentIssuePriority: TIssueFilterPriorityObject | undefined =\n    ISSUE_PRIORITY_FILTERS && ISSUE_PRIORITY_FILTERS.length > 0\n      ? ISSUE_PRIORITY_FILTERS.find((_priority) => _priority.key === priorityKey)\n      : undefined;\n\n  if (currentIssuePriority) return currentIssuePriority;\n  return undefined;\n};\n","import { set } from \"lodash-es\";\n// plane imports\nimport { DEFAULT_WORK_ITEM_FORM_VALUES } from \"@plane/constants\";\nimport type { IPartialProject, ISearchIssueResponse, IState, TIssue } from \"@plane/types\";\n\nexport const getUpdateFormDataForReset = (projectId: string | null | undefined, formData: Partial<TIssue>) => ({\n  ...DEFAULT_WORK_ITEM_FORM_VALUES,\n  project_id: projectId,\n  name: formData.name,\n  description_html: formData.description_html,\n  priority: formData.priority,\n  start_date: formData.start_date,\n  target_date: formData.target_date,\n});\n\nexport const convertWorkItemDataToSearchResponse = (\n  workspaceSlug: string,\n  workItem: TIssue,\n  project: IPartialProject | undefined,\n  state: IState | undefined\n): ISearchIssueResponse => ({\n  id: workItem.id,\n  name: workItem.name,\n  project_id: workItem.project_id ?? \"\",\n  project__identifier: project?.identifier ?? \"\",\n  project__name: project?.name ?? \"\",\n  sequence_id: workItem.sequence_id,\n  type_id: workItem.type_id ?? \"\",\n  state__color: state?.color ?? \"\",\n  start_date: workItem.start_date,\n  state__group: state?.group ?? \"backlog\",\n  state__name: state?.name ?? \"\",\n  workspace__slug: workspaceSlug,\n});\n\nexport function getChangedIssuefields(formData: Partial<TIssue>, dirtyFields: { [key: string]: boolean | undefined }) {\n  const changedFields = {};\n\n  const dirtyFieldKeys = Object.keys(dirtyFields) as (keyof TIssue)[];\n  for (const dirtyField of dirtyFieldKeys) {\n    if (dirtyFields[dirtyField]) {\n      set(changedFields, [dirtyField], formData[dirtyField]);\n    }\n  }\n\n  return changedFields as Partial<TIssue>;\n}\n","// plane imports\nimport type { TDraggableData } from \"@plane/constants\";\nimport { STATE_GROUPS } from \"@plane/constants\";\nimport type { IState, IStateResponse } from \"@plane/types\";\n\nexport const orderStateGroups = (unorderedStateGroups: IStateResponse | undefined): IStateResponse | undefined => {\n  if (!unorderedStateGroups) return undefined;\n  return Object.assign({ backlog: [], unstarted: [], started: [], completed: [], cancelled: [] }, unorderedStateGroups);\n};\n\nexport const sortStates = (states: IState[]) => {\n  if (!states || states.length === 0) return;\n\n  return states.sort((stateA, stateB) => {\n    if (stateA.group === stateB.group) {\n      return stateA.sequence - stateB.sequence;\n    }\n    return Object.keys(STATE_GROUPS).indexOf(stateA.group) - Object.keys(STATE_GROUPS).indexOf(stateB.group);\n  });\n};\n\nexport const getCurrentStateSequence = (\n  groupSates: IState[],\n  destinationData: TDraggableData,\n  edge: string | undefined\n) => {\n  const defaultSequence = 65535;\n  if (!edge) return defaultSequence;\n\n  const currentStateIndex = groupSates.findIndex((state) => state.id === destinationData.id);\n  const currentStateSequence = groupSates[currentStateIndex]?.sequence || undefined;\n\n  if (!currentStateSequence) return defaultSequence;\n\n  if (edge === \"top\") {\n    const prevStateSequence = groupSates[currentStateIndex - 1]?.sequence || undefined;\n\n    if (prevStateSequence === undefined) {\n      return currentStateSequence - defaultSequence;\n    }\n    return (currentStateSequence + prevStateSequence) / 2;\n  } else if (edge === \"bottom\") {\n    const nextStateSequence = groupSates[currentStateIndex + 1]?.sequence || undefined;\n\n    if (nextStateSequence === undefined) {\n      return currentStateSequence + defaultSequence;\n    }\n    return (currentStateSequence + nextStateSequence) / 2;\n  }\n};\n","// plane imports\nimport type { IWorkspace } from \"@plane/types\";\n\nexport const orderWorkspacesList = (workspaces: IWorkspace[]): IWorkspace[] =>\n  workspaces.sort((a, b) => a.name.localeCompare(b.name));\n"],"mappings":"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AK,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,MAAO,KAAK,MAAQ,KAAK,IAAK;EAC5D,MAAM,MAAM,SAAS,cAA2B,wBAAwB;AAExE,OAAK,MAAM,eAAe,sBAAsB,IAAI;AACpD,OAAK,MAAM,eAAe,gBAAgB,IAAI;AAC9C,OAAK,MAAM,eAAe,kBAAkB,IAAI;AAChD,OAAK,MAAM,eAAe,mBAAmB,IAAI;AACjD,OAAK,MAAM,eAAe,8BAA8B,IAAI;AAC5D,OAAK,MAAM,eAAe,wBAAwB,IAAI;AACtD,OAAK,MAAM,eAAe,0BAA0B,IAAI;AACxD,OAAK,MAAM,eAAe,iBAAiB;;;AAI/C,MAAa,uBAAuB,kBAClC,eAAe,SAAS,QAAQ,GAAG,UAAU,eAAe,SAAS,OAAO,GAAG,SAAS;;;;AC5H1F,mBAAe;CACb;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;C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"}