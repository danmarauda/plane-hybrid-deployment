{"version":3,"file":"legend-Dn3oeCjV.js","names":["CustomLegend"],"sources":["../src/charts/components/legend.tsx"],"sourcesContent":["import React from \"react\";\nimport type { LegendProps } from \"recharts\";\n// plane imports\nimport type { TChartLegend } from \"@plane/types\";\nimport { cn } from \"../../utils/classname\";\n\nexport const getLegendProps = (args: TChartLegend): LegendProps => {\n  const { align, layout, verticalAlign } = args;\n  return {\n    layout,\n    align,\n    verticalAlign,\n    wrapperStyle: {\n      display: \"flex\",\n      overflow: \"hidden\",\n      ...(layout === \"vertical\"\n        ? {\n            top: 0,\n            alignItems: \"center\",\n            height: \"100%\",\n          }\n        : {\n            left: 0,\n            bottom: 0,\n            width: \"100%\",\n            justifyContent: \"center\",\n          }),\n      ...args.wrapperStyles,\n    },\n    content: <CustomLegend {...args} />,\n  };\n};\n\nconst CustomLegend = React.forwardRef(function CustomLegend(\n  props: React.ComponentProps<\"div\"> &\n    Pick<LegendProps, \"payload\" | \"formatter\" | \"onClick\" | \"onMouseEnter\" | \"onMouseLeave\"> &\n    TChartLegend,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const { formatter, layout, onClick, onMouseEnter, onMouseLeave, payload } = props;\n\n  if (!payload?.length) return null;\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\"flex items-center px-4 overflow-scroll vertical-scrollbar scrollbar-sm\", {\n        \"max-h-full flex-col items-start py-4\": layout === \"vertical\",\n      })}\n    >\n      {payload.map((item, index) => (\n        <div\n          key={item.value}\n          className={cn(\"flex items-center gap-1.5 text-custom-text-300 text-sm font-medium whitespace-nowrap\", {\n            \"px-2\": layout === \"horizontal\",\n            \"py-2\": layout === \"vertical\",\n            \"pl-0 pt-0\": index === 0,\n            \"pr-0 pb-0\": index === payload.length - 1,\n            \"cursor-pointer\": !!props.onClick,\n          })}\n          onClick={(e) => onClick?.(item, index, e)}\n          onMouseEnter={(e) => onMouseEnter?.(item, index, e)}\n          onMouseLeave={(e) => onMouseLeave?.(item, index, e)}\n        >\n          <div\n            className=\"flex-shrink-0 size-2 rounded-sm\"\n            style={{\n              backgroundColor: item.color,\n            }}\n          />\n          {/* @ts-expect-error recharts types are not up to date */}\n          {formatter?.(item.value, { value: item.value }, index) ?? item.payload?.name}\n        </div>\n      ))}\n    </div>\n  );\n});\nCustomLegend.displayName = \"CustomLegend\";\n"],"mappings":";;;;;AAMA,MAAa,kBAAkB,SAAoC;CACjE,MAAM,EAAE,OAAO,QAAQ,kBAAkB;AACzC,QAAO;EACL;EACA;EACA;EACA,cAAc;GACZ,SAAS;GACT,UAAU;GACV,GAAI,WAAW,aACX;IACE,KAAK;IACL,YAAY;IACZ,QAAQ;IACT,GACD;IACE,MAAM;IACN,QAAQ;IACR,OAAO;IACP,gBAAgB;IACjB;GACL,GAAG,KAAK;GACT;EACD,SAAS,oBAAC,gBAAa,GAAI,OAAQ;EACpC;;AAGH,MAAM,eAAe,MAAM,WAAW,SAASA,eAC7C,OAGA,KACA;CACA,MAAM,EAAE,WAAW,QAAQ,SAAS,cAAc,cAAc,YAAY;AAE5E,KAAI,CAAC,SAAS,OAAQ,QAAO;AAE7B,QACE,oBAAC;EACM;EACL,WAAW,GAAG,0EAA0E,EACtF,wCAAwC,WAAW,YACpD,CAAC;YAED,QAAQ,KAAK,MAAM,UAClB,qBAAC;GAEC,WAAW,GAAG,wFAAwF;IACpG,QAAQ,WAAW;IACnB,QAAQ,WAAW;IACnB,aAAa,UAAU;IACvB,aAAa,UAAU,QAAQ,SAAS;IACxC,kBAAkB,CAAC,CAAC,MAAM;IAC3B,CAAC;GACF,UAAU,MAAM,UAAU,MAAM,OAAO,EAAE;GACzC,eAAe,MAAM,eAAe,MAAM,OAAO,EAAE;GACnD,eAAe,MAAM,eAAe,MAAM,OAAO,EAAE;cAEnD,oBAAC;IACC,WAAU;IACV,OAAO,EACL,iBAAiB,KAAK,OACvB;KACD,EAED,YAAY,KAAK,OAAO,EAAE,OAAO,KAAK,OAAO,EAAE,MAAM,IAAI,KAAK,SAAS;KAnBnE,KAAK,MAoBN,CACN;GACE;EAER;AACF,aAAa,cAAc"}