{"version":3,"file":"animated-counter-B_t30jm9.js","names":[],"sources":["../src/animated-counter/animated-counter.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { cn } from \"../utils\";\n\nexport interface AnimatedCounterProps {\n  count: number;\n  className?: string;\n  size?: \"sm\" | \"md\" | \"lg\";\n}\n\nconst sizeClasses = {\n  sm: \"text-xs\",\n  md: \"text-sm\",\n  lg: \"text-base\",\n};\n\nexport function AnimatedCounter({ count, className, size = \"md\" }: AnimatedCounterProps) {\n  // states\n  const [displayCount, setDisplayCount] = useState(count);\n  const [prevCount, setPrevCount] = useState(count);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [direction, setDirection] = useState<\"up\" | \"down\" | null>(null);\n  const [animationKey, setAnimationKey] = useState(0);\n\n  useEffect(() => {\n    if (count !== prevCount) {\n      setDirection(count > prevCount ? \"up\" : \"down\");\n      setIsAnimating(true);\n      setAnimationKey((prev) => prev + 1);\n\n      // Update the display count immediately, animation will show the transition\n      setDisplayCount(count);\n\n      // End animation after CSS transition\n      const timer = setTimeout(() => {\n        setIsAnimating(false);\n        setDirection(null);\n        setPrevCount(count);\n      }, 250);\n\n      return () => clearTimeout(timer);\n    }\n  }, [count, prevCount]);\n\n  const sizeClass = sizeClasses[size];\n\n  return (\n    <div className={cn(\"relative inline-flex items-center justify-center overflow-hidden min-w-2\", sizeClass)}>\n      {/* Previous number sliding out */}\n      {isAnimating && (\n        <span\n          key={`prev-${animationKey}`}\n          className={cn(\n            \"absolute inset-0 flex items-center justify-center font-medium\",\n            \"animate-[slideOut_0.25s_ease-out_forwards]\",\n            direction === \"up\" && \"[--slide-out-dir:-100%]\",\n            direction === \"down\" && \"[--slide-out-dir:100%]\",\n            sizeClass\n          )}\n          style={{\n            animation:\n              direction === \"up\"\n                ? \"slideOut 0.25s ease-out forwards, fadeOut 0.25s ease-out forwards\"\n                : \"slideOutDown 0.25s ease-out forwards, fadeOut 0.25s ease-out forwards\",\n          }}\n        >\n          {prevCount}\n        </span>\n      )}\n\n      {/* New number sliding in */}\n      <span\n        key={`current-${animationKey}`}\n        className={cn(\n          \"flex items-center justify-center font-medium\",\n          isAnimating && \"animate-[slideIn_0.25s_ease-out_forwards]\",\n          !isAnimating && \"opacity-100\",\n          sizeClass,\n          className\n        )}\n        style={\n          isAnimating\n            ? {\n                animation:\n                  direction === \"up\"\n                    ? \"slideInFromBottom 0.25s ease-out forwards\"\n                    : \"slideInFromTop 0.25s ease-out forwards\",\n              }\n            : undefined\n        }\n      >\n        {displayCount}\n      </span>\n    </div>\n  );\n}\n"],"mappings":";;;;;AASA,MAAM,cAAc;CAClB,IAAI;CACJ,IAAI;CACJ,IAAI;CACL;AAED,SAAgB,gBAAgB,EAAE,OAAO,WAAW,OAAO,QAA8B;CAEvF,MAAM,CAAC,cAAc,mBAAmB,SAAS,MAAM;CACvD,MAAM,CAAC,WAAW,gBAAgB,SAAS,MAAM;CACjD,MAAM,CAAC,aAAa,kBAAkB,SAAS,MAAM;CACrD,MAAM,CAAC,WAAW,gBAAgB,SAA+B,KAAK;CACtE,MAAM,CAAC,cAAc,mBAAmB,SAAS,EAAE;AAEnD,iBAAgB;AACd,MAAI,UAAU,WAAW;AACvB,gBAAa,QAAQ,YAAY,OAAO,OAAO;AAC/C,kBAAe,KAAK;AACpB,oBAAiB,SAAS,OAAO,EAAE;AAGnC,mBAAgB,MAAM;GAGtB,MAAM,QAAQ,iBAAiB;AAC7B,mBAAe,MAAM;AACrB,iBAAa,KAAK;AAClB,iBAAa,MAAM;MAClB,IAAI;AAEP,gBAAa,aAAa,MAAM;;IAEjC,CAAC,OAAO,UAAU,CAAC;CAEtB,MAAM,YAAY,YAAY;AAE9B,QACE,qBAAC;EAAI,WAAW,GAAG,4EAA4E,UAAU;aAEtG,eACC,oBAAC;GAEC,WAAW,GACT,iEACA,8CACA,cAAc,QAAQ,2BACtB,cAAc,UAAU,0BACxB,UACD;GACD,OAAO,EACL,WACE,cAAc,OACV,sEACA,yEACP;aAEA;KAfI,QAAQ,eAgBR,EAIT,oBAAC;GAEC,WAAW,GACT,gDACA,eAAe,6CACf,CAAC,eAAe,eAChB,WACA,UACD;GACD,OACE,cACI,EACE,WACE,cAAc,OACV,8CACA,0CACP,GACD;aAGL;KAnBI,WAAW,eAoBX;GACH"}