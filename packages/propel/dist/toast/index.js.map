{"version":3,"file":"index.js","names":["BaseToast","toastId: string | undefined"],"sources":["../../src/spinners/circular-bar-spinner.tsx","../../src/toast/toast.tsx"],"sourcesContent":["import * as React from \"react\";\n\nexport interface ICircularBarSpinner extends React.SVGAttributes<SVGElement> {\n  height?: string;\n  width?: string;\n  className?: string | undefined;\n}\n\nexport function CircularBarSpinner({ height = \"16px\", width = \"16px\", className = \"\" }: ICircularBarSpinner) {\n  return (\n    <div role=\"status\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width={width} height={height} viewBox=\"0 0 24 24\" className={className}>\n        <g>\n          <rect width={2} height={5} x={11} y={1} fill=\"currentColor\" opacity={0.14} />\n          <rect width={2} height={5} x={11} y={1} fill=\"currentColor\" opacity={0.29} transform=\"rotate(30 12 12)\" />\n          <rect width={2} height={5} x={11} y={1} fill=\"currentColor\" opacity={0.43} transform=\"rotate(60 12 12)\" />\n          <rect width={2} height={5} x={11} y={1} fill=\"currentColor\" opacity={0.57} transform=\"rotate(90 12 12)\" />\n          <rect width={2} height={5} x={11} y={1} fill=\"currentColor\" opacity={0.71} transform=\"rotate(120 12 12)\" />\n          <rect width={2} height={5} x={11} y={1} fill=\"currentColor\" opacity={0.86} transform=\"rotate(150 12 12)\" />\n          <rect width={2} height={5} x={11} y={1} fill=\"currentColor\" transform=\"rotate(180 12 12)\" />\n          <animateTransform\n            attributeName=\"transform\"\n            calcMode=\"discrete\"\n            dur=\"0.75s\"\n            repeatCount=\"indefinite\"\n            type=\"rotate\"\n            values=\"0 12 12;30 12 12;60 12 12;90 12 12;120 12 12;150 12 12;180 12 12;210 12 12;240 12 12;270 12 12;300 12 12;330 12 12;360 12 12\"\n          />\n        </g>\n      </svg>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport { Toast as BaseToast } from \"@base-ui-components/react/toast\";\nimport { AlertTriangle, CheckCircle2, XCircle } from \"lucide-react\";\nimport { CloseIcon } from \"../icons\";\n// spinner\nimport { CircularBarSpinner } from \"../spinners/circular-bar-spinner\";\nimport { cn } from \"../utils/classname\";\n\nexport enum TOAST_TYPE {\n  SUCCESS = \"success\",\n  ERROR = \"error\",\n  INFO = \"info\",\n  WARNING = \"warning\",\n  LOADING = \"loading\",\n  LOADING_TOAST = \"loading-toast\",\n}\n\ntype SetToastProps =\n  | {\n      type: TOAST_TYPE.LOADING;\n      title?: string;\n    }\n  | {\n      id?: string | number;\n      type: Exclude<TOAST_TYPE, TOAST_TYPE.LOADING>;\n      title: string;\n      message?: string;\n      actionItems?: React.ReactNode;\n    };\n\ntype PromiseToastCallback<ToastData> = (data: ToastData) => string;\ntype ActionItemsPromiseToastCallback<ToastData> = (data: ToastData) => React.ReactNode;\n\ntype PromiseToastData<ToastData> = {\n  title: string;\n  message?: PromiseToastCallback<ToastData>;\n  actionItems?: ActionItemsPromiseToastCallback<ToastData>;\n};\n\ntype PromiseToastOptions<ToastData> = {\n  loading?: string;\n  success: PromiseToastData<ToastData>;\n  error: PromiseToastData<ToastData>;\n};\n\nexport type ToastProps = {\n  theme: \"light\" | \"dark\" | \"system\";\n};\n\nconst toastManager = BaseToast.createToastManager();\n\nexport function Toast(props: ToastProps) {\n  return (\n    <BaseToast.Provider toastManager={toastManager}>\n      <BaseToast.Portal>\n        <BaseToast.Viewport data-theme={props.theme}>\n          <ToastList />\n        </BaseToast.Viewport>\n      </BaseToast.Portal>\n    </BaseToast.Provider>\n  );\n}\n\nconst TOAST_DATA = {\n  [TOAST_TYPE.SUCCESS]: {\n    icon: <CheckCircle2 width={24} height={24} strokeWidth={1.5} className=\"text-toast-text-success\" />,\n    textColorClassName: \"text-toast-text-success\",\n    backgroundColorClassName: \"bg-toast-background-success\",\n    borderColorClassName: \"border-toast-border-success\",\n  },\n  [TOAST_TYPE.ERROR]: {\n    icon: <XCircle width={24} height={24} strokeWidth={1.5} className=\"text-toast-text-error\" />,\n    textColorClassName: \"text-toast-text-error\",\n    backgroundColorClassName: \"bg-toast-background-error\",\n    borderColorClassName: \"border-toast-border-error\",\n  },\n  [TOAST_TYPE.WARNING]: {\n    icon: <AlertTriangle width={24} height={24} strokeWidth={1.5} className=\"text-toast-text-warning\" />,\n    textColorClassName: \"text-toast-text-warning\",\n    backgroundColorClassName: \"bg-toast-background-warning\",\n    borderColorClassName: \"border-toast-border-warning\",\n  },\n  [TOAST_TYPE.INFO]: {\n    icon: <></>,\n    textColorClassName: \"text-toast-text-info\",\n    backgroundColorClassName: \"bg-toast-background-info\",\n    borderColorClassName: \"border-toast-border-info\",\n  },\n  [TOAST_TYPE.LOADING]: {\n    icon: <CircularBarSpinner className=\"text-toast-text-tertiary\" />,\n    textColorClassName: \"text-toast-text-loading\",\n    backgroundColorClassName: \"bg-toast-background-loading\",\n    borderColorClassName: \"border-toast-border-loading\",\n  },\n  [TOAST_TYPE.LOADING_TOAST]: {\n    icon: <CircularBarSpinner className=\"text-toast-text-tertiary\" />,\n    textColorClassName: \"text-toast-text-loading\",\n    backgroundColorClassName: \"bg-toast-background-loading\",\n    borderColorClassName: \"border-toast-border-loading\",\n  },\n};\n\nfunction ToastList() {\n  const { toasts } = BaseToast.useToastManager();\n  return toasts.map((toast) => <ToastRender key={toast.id} id={toast.id} toast={toast} />);\n}\n\nfunction ToastRender({ id, toast }: { id: React.Key; toast: BaseToast.Root.ToastObject }) {\n  const toastData = toast.data as SetToastProps;\n  const type = toastData.type as TOAST_TYPE;\n  const data = TOAST_DATA[type];\n\n  return (\n    <BaseToast.Root\n      toast={toast}\n      key={id}\n      className={cn(\n        // Base layout and positioning\n        \"flex group items-center rounded-lg border shadow-sm p-2 w-[350px]\",\n        \"absolute right-3 bottom-3 z-[calc(1000-var(--toast-index))]\",\n        \"select-none transition-[opacity,transform] duration-500 ease-&lsqb;cubic-bezier(0.22,1,0.36,1)&rsqb;\",\n\n        // Default transform with stacking and scaling\n        \"[transform:translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)+calc(min(var(--toast-index),10)*-10px)))_scale(calc(max(0,1-(var(--toast-index)*0.1))))]\",\n\n        // Pseudo-element for gap spacing\n        \"after:absolute after:bottom-full after:left-0 after:h-[calc(var(--gap)+1px)] after:w-full after:content-['']\",\n\n        // State-based opacity\n        \"data-[ending-style]:opacity-0 data-[limited]:opacity-0\",\n\n        // Starting animation\n        \"data-[starting-style]:[transform:translateY(150%)]\",\n\n        // Expanded state transform\n        \"data-[expanded]:[transform:translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-offset-y)*-1+calc(var(--toast-index)*var(--gap)*-1)+var(--toast-swipe-movement-y)))]\",\n\n        // Swipe direction endings - consolidated\n        \"data-[ending-style]:data-[swipe-direction=down]:[transform:translateY(calc(var(--toast-swipe-movement-y)+150%))]\",\n        \"data-[ending-style]:data-[swipe-direction=up]:[transform:translateY(calc(var(--toast-swipe-movement-y)-150%))]\",\n        \"data-[ending-style]:data-[swipe-direction=left]:[transform:translateX(calc(var(--toast-swipe-movement-x)-150%))_translateY(var(--offset-y))]\",\n        \"data-[ending-style]:data-[swipe-direction=right]:[transform:translateX(calc(var(--toast-swipe-movement-x)+150%))_translateY(var(--offset-y))]\",\n\n        // Default ending transform for non-limited toasts\n        \"data-[ending-style]:[&:not([data-limited])]:[transform:translateY(150%)]\",\n\n        data.backgroundColorClassName,\n        data.borderColorClassName\n      )}\n      style={{\n        [\"--gap\" as string]: \"1rem\",\n        [\"--offset-y\" as string]:\n          \"calc(var(--toast-offset-y) * -1 + (var(--toast-index) * var(--gap) * -1) + var(--toast-swipe-movement-y))\",\n      }}\n      onMouseDown={(e) => {\n        e.stopPropagation();\n        e.preventDefault();\n      }}\n    >\n      {toastData.type === TOAST_TYPE.LOADING ? (\n        <div className=\"w-full h-full flex items-center justify-center px-4 py-2\">\n          {data.icon && <div className=\"flex items-center justify-center\">{data.icon}</div>}\n          <div className={cn(\"w-full flex items-center gap-0.5 pr-1\", data.icon ? \"pl-4\" : \"pl-1\")}>\n            <div className={cn(\"grow text-sm font-semibold\", data.textColorClassName)}>\n              {toastData.title ?? \"Loading...\"}\n            </div>\n            <BaseToast.Close\n              className=\"absolute top-2 right-2.5 text-toast-text-secondary hover:text-toast-text-tertiary cursor-pointer\"\n              aria-label=\"Close\"\n            >\n              <CloseIcon strokeWidth={1.5} width={14} height={14} />\n            </BaseToast.Close>\n          </div>\n        </div>\n      ) : (\n        <>\n          <BaseToast.Close className=\"absolute top-2 right-2.5 text-toast-text-secondary hover:text-toast-text-tertiary cursor-pointer\">\n            <CloseIcon strokeWidth={1.5} width={14} height={14} />\n          </BaseToast.Close>\n          <div className=\"w-full flex flex-col gap-2 p-2\">\n            <div className=\"flex items-center w-full\">\n              {data.icon && <div className=\"flex items-center justify-center\">{data.icon}</div>}\n              <div className={cn(\"flex flex-col gap-0.5 pr-1\", data.icon ? \"pl-4\" : \"pl-1\")}>\n                <BaseToast.Title className={cn(\"text-sm font-semibold\", data.textColorClassName)}>\n                  {toastData.title}\n                </BaseToast.Title>\n                {toastData.message && (\n                  <BaseToast.Description className=\"text-toast-text-secondary text-xs font-medium\">\n                    {toastData.message}\n                  </BaseToast.Description>\n                )}\n              </div>\n            </div>\n            {toastData.actionItems && <div className=\"flex items-center pl-[32px]\">{toastData.actionItems}</div>}\n          </div>\n        </>\n      )}\n    </BaseToast.Root>\n  );\n}\n\nexport const setToast = (props: SetToastProps) => {\n  let toastId: string | undefined;\n  if (props.type !== TOAST_TYPE.LOADING) {\n    toastId = toastManager.add({\n      data: {\n        type: props.type,\n        title: props.title,\n        message: props.message,\n        actionItems: props.actionItems,\n      },\n    });\n  } else {\n    toastId = toastManager.add({\n      data: {\n        type: props.type,\n        title: props.title,\n      },\n    });\n  }\n  return toastId;\n};\n\nexport const updateToast = (id: string, props: SetToastProps) => {\n  toastManager.update(id, {\n    data:\n      props.type === TOAST_TYPE.LOADING\n        ? {\n            type: TOAST_TYPE.LOADING,\n            title: props.title,\n          }\n        : {\n            type: props.type,\n            title: props.title,\n            message: props.message,\n            actionItems: props.actionItems,\n          },\n  });\n};\n\nexport const setPromiseToast = <ToastData,>(\n  promise: Promise<ToastData>,\n  options: PromiseToastOptions<ToastData>\n): void => {\n  toastManager.promise(promise, {\n    loading: {\n      data: {\n        title: options.loading ?? \"Loading...\",\n        type: TOAST_TYPE.LOADING,\n        message: undefined,\n        actionItems: undefined,\n      },\n    },\n    success: (data) => ({\n      data: {\n        type: TOAST_TYPE.SUCCESS,\n        title: options.success.title,\n        message: options.success.message?.(data),\n        actionItems: options.success.actionItems?.(data),\n      },\n    }),\n    error: (data) => ({\n      data: {\n        type: TOAST_TYPE.ERROR,\n        title: options.error.title,\n        message: options.error.message?.(data),\n        actionItems: options.error.actionItems?.(data),\n      },\n    }),\n  });\n};\n\nexport const dismissToast = (tId: string) => {\n  toastManager.close(tId);\n};\n"],"mappings":"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"}