const S=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,h=globalThis,C="10.27.0";function M(){return Y(h),h}function Y(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||C,e[C]=e[C]||{}}function L(t,e,n=h){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[C]=r[C]||{};return s[t]||(s[t]=e())}const An=["debug","info","warn","error","log","assert","trace"],Gt="Sentry Logger ",rt={};function H(t){if(!("console"in h))return t();const e=h.console,n={},r=Object.keys(rt);r.forEach(s=>{const i=rt[s];n[s]=e[s],e[s]=i});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}function vt(){J().enabled=!0}function Bt(){J().enabled=!1}function Tt(){return J().enabled}function Vt(...t){W("log",...t)}function zt(...t){W("warn",...t)}function Kt(...t){W("error",...t)}function W(t,...e){S&&Tt()&&H(()=>{h.console[t](`${Gt}[${t}]:`,...e)})}function J(){return S?L("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const m={enable:vt,disable:Bt,isEnabled:Tt,log:Vt,warn:zt,error:Kt},It=50,Yt="?",st=/\(error: (.*)\)/,it=/captureMessage|captureException/;function Ht(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let c=o[a];c.length>1024&&(c=c.slice(0,1024));const u=st.test(c)?c.replace(st,"$1"):c;if(!u.match(/\S*Error: /)){for(const p of e){const f=p(u);if(f){i.push(f);break}}if(i.length>=It+s)break}}return Wt(i.slice(s))}}function xn(t){return Array.isArray(t)?Ht(...t):t}function Wt(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(R(e).function||"")&&e.pop(),e.reverse(),it.test(R(e).function||"")&&(e.pop(),it.test(R(e).function||"")&&e.pop()),e.slice(0,It).map(n=>({...n,filename:n.filename||R(e).filename,function:n.function||Yt}))}function R(t){return t[t.length-1]||{}}const U="<anonymous>";function Jt(t){try{return!t||typeof t!="function"?U:t.name||U}catch{return U}}function Cn(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function At(t){return"__v_isVNode"in t&&t.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const xt=Object.prototype.toString;function Xt(t){switch(xt.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return D(t,Error)}}function x(t,e){return xt.call(t)===`[object ${e}]`}function Nn(t){return x(t,"ErrorEvent")}function Dn(t){return x(t,"DOMError")}function On(t){return x(t,"DOMException")}function P(t){return x(t,"String")}function qt(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Rn(t){return t===null||qt(t)||typeof t!="object"&&typeof t!="function"}function Ct(t){return x(t,"Object")}function Zt(t){return typeof Event<"u"&&D(t,Event)}function Qt(t){return typeof Element<"u"&&D(t,Element)}function te(t){return x(t,"RegExp")}function w(t){return!!(t?.then&&typeof t.then=="function")}function ee(t){return Ct(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function D(t,e){try{return t instanceof e}catch{return!1}}function Nt(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue||t.__v_isVNode))}function kn(t){return typeof Request<"u"&&D(t,Request)}const X=h,ne=80;function re(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const p=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||ne;for(;n&&i++<r&&(u=se(n,p),!(u==="html"||i>1&&o+s.length*c+u.length>=f));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function se(t,e){const n=t,r=[];if(!n?.tagName)return"";if(X.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=e?.length?e.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s?.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&P(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function Pn(){try{return X.document.location.href}catch{return""}}function Mn(t){if(!X.HTMLElement)return null;let e=t;const n=5;for(let r=0;r<n;r++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function Ln(t,e,n){if(!(e in t))return;const r=t[e];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&ie(s,r);try{t[e]=s}catch{S&&m.log(`Failed to replace method "${e}" in object`,t)}}function q(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{S&&m.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function ie(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,q(t,"__sentry_original__",e)}catch{}}function wn(t){return t.__sentry_original__}function Dt(t){if(Xt(t))return{message:t.message,name:t.name,stack:t.stack,...at(t)};if(Zt(t)){const e={type:t.type,target:ot(t.target),currentTarget:ot(t.currentTarget),...at(t)};return typeof CustomEvent<"u"&&D(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function ot(t){try{return Qt(t)?re(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function at(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function Fn(t){const e=Object.keys(Dt(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}function B(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function jn(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const s=t[r];try{Nt(s)?n.push(At(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function oe(t,e,n=!1){return P(t)?te(e)?e.test(t):P(e)?n?t===e:t.includes(e):!1:!1}function $n(t,e=[],n=!1){return e.some(r=>oe(t,r,n))}function ae(){const t=h;return t.crypto||t.msCrypto}let G;function ce(){return Math.random()*16}function T(t=ae()){try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"")}catch{}return G||(G="10000000100040008000"+1e11),G.replace(/[018]/g,e=>(e^(ce()&15)>>e/4).toString(16))}function Ot(t){return t.exception?.values?.[0]}function Un(t){const{message:e,event_id:n}=t;if(e)return e;const r=Ot(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Gn(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type="Error")}function ue(t,e){const n=Ot(t);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...e},e&&"data"in e){const i={...s?.data,...e.data};n.mechanism.data=i}}function vn(t){if(fe(t))return!0;try{q(t,"__sentry_captured__",!0)}catch{}return!1}function fe(t){try{return t.__sentry_captured__}catch{}}const Rt=1e3;function Z(){return Date.now()/Rt}function pe(){const{performance:t}=h;if(!t?.now||!t.timeOrigin)return Z;const e=t.timeOrigin;return()=>(e+t.now())/Rt}let ct;function Q(){return(ct??(ct=pe()))()}function de(t){const e=Q(),n={sid:T(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>_e(n)};return t&&F(n,t),n}function F(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Q(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:T()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function le(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),F(t,n)}function _e(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function j(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&Object.keys(e).length===0)return t;const r={...t};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=j(r[s],e[s],n-1));return r}function ut(){return T()}function kt(){return T().substring(16)}const V="_sentrySpan";function ft(t,e){e?q(t,V,e):delete t[V]}function pt(t){return t[V]}const he=100;class y{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ut(),sampleRand:Math.random()}}clone(){const e=new y;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._attributes={...this._attributes},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,ft(e,pt(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&F(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this.setTags({[e]:n})}setAttributes(e){return this._attributes={...this._attributes,...e},this._notifyScopeListeners(),this}setAttribute(e,n){return this.setAttributes({[e]:n})}removeAttribute(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,r=n instanceof y?n.getScopeData():Ct(n)?e:void 0,{tags:s,attributes:i,extra:o,user:a,contexts:c,level:u,fingerprint:p=[],propagationContext:f}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),p.length&&(this._fingerprint=p),f&&(this._propagationContext=f),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ft(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ut(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:he;if(r<=0)return this;const s={timestamp:Z(),...e,message:e.message?B(e.message,2048):e.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:pt(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=j(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n?.event_id||T();if(!this._client)return S&&m.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r?.event_id||T();if(!this._client)return S&&m.warn("No client configured on scope - will not capture message!"),s;const i=r?.syntheticException??new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n?.event_id||T();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(S&&m.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function ge(){return L("defaultCurrentScope",()=>new y)}function me(){return L("defaultIsolationScope",()=>new y)}class Se{constructor(e,n){let r;e?r=e:r=new y;let s;n?s=n:s=new y,this._stack=[{scope:r}],this._isolationScope=s}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(s){throw this._popScope(),s}return w(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function A(){const t=M(),e=Y(t);return e.stack=e.stack||new Se(ge(),me())}function ye(t){return A().withScope(t)}function Ee(t,e){const n=A();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function dt(t){return A().withScope(()=>t(A().getIsolationScope()))}function be(){return{withIsolationScope:dt,withScope:ye,withSetScope:Ee,withSetIsolationScope:(t,e)=>dt(e),getCurrentScope:()=>A().getScope(),getIsolationScope:()=>A().getIsolationScope()}}function tt(t){const e=Y(t);return e.acs?e.acs:be()}function O(){const t=M();return tt(t).getCurrentScope()}function $(){const t=M();return tt(t).getIsolationScope()}function Te(){return L("globalScope",()=>new y)}function Bn(...t){const e=M(),n=tt(e);if(t.length===2){const[r,s]=t;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(t[0])}function et(){return O().getClient()}function Vn(t){const e=t.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=e,i={trace_id:n,span_id:s||kt()};return r&&(i.parent_span_id=r),i}const Ie="sentry.source",Ae="sentry.sample_rate",xe="sentry.previous_trace_sample_rate",Ce="sentry.op",Ne="sentry.origin",zn="sentry.profile_id",Kn="sentry.exclusive_time",De=0,Oe=1,Re="_sentryScope",ke="_sentryIsolationScope";function Pe(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function Pt(t){const e=t;return{scope:e[Re],isolationScope:Pe(e[ke])}}const Me="sentry-",Le=/^sentry-/;function we(t){const e=Fe(t);if(!e)return;const n=Object.entries(e).reduce((r,[s,i])=>{if(s.match(Le)){const o=s.slice(Me.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function Fe(t){if(!(!t||!P(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const r=lt(n);return Object.entries(r).forEach(([s,i])=>{e[s]=i}),e},{}):lt(t)}function lt(t){return t.split(",").map(e=>{const n=e.indexOf("=");if(n===-1)return[];const r=e.slice(0,n),s=e.slice(n+1);return[r,s].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((e,[n,r])=>(n&&r&&(e[n]=r),e),{})}const je=/^o(\d+)\./,$e=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ue(t){return t==="http"||t==="https"}function Yn(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Ge(t){const e=$e.exec(t);if(!e){H(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,s="",i="",o="",a=""]=e.slice(1);let c="",u=a;const p=u.split("/");if(p.length>1&&(c=p.slice(0,-1).join("/"),u=p.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return Mt({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Mt(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function ve(t){if(!S)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(o=>t[o]?!1:(m.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Ue(r)?e&&isNaN(parseInt(e,10))?(m.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(m.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(m.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Be(t){return t.match(je)?.[1]}function Ve(t){const e=t.getOptions(),{host:n}=t.getDsn()||{};let r;return e.orgId?r=String(e.orgId):n&&(r=Be(n)),r}function Hn(t){const e=typeof t=="string"?Ge(t):Mt(t);if(!(!e||!ve(e)))return e}const Lt=1;let _t=!1;function ze(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),s=r?e:nt(t).parent_span_id,i=Pt(t).scope,o=r?i?.getPropagationContext().propagationSpanId||kt():e;return{parent_span_id:s,span_id:o,trace_id:n}}function Ke(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:n,traceFlags:r,...s},attributes:i})=>({span_id:e,trace_id:n,sampled:r===Lt,attributes:i,...s}))}function ht(t){return typeof t=="number"?gt(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?gt(t.getTime()):Q()}function gt(t){return t>9999999999?t/1e3:t}function nt(t){if(He(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(Ye(t)){const{attributes:r,startTime:s,name:i,endTime:o,status:a,links:c}=t,u="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0;return{span_id:e,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:ht(s),timestamp:ht(o)||void 0,status:Je(a),op:r[Ce],origin:r[Ne],links:Ke(c)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}function Ye(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function He(t){return typeof t.getSpanJSON=="function"}function We(t){const{traceFlags:e}=t.spanContext();return e===Lt}function Je(t){if(!(!t||t.code===De))return t.code===Oe?"ok":t.message||"internal_error"}const Xe="_sentryRootSpan";function wt(t){return t[Xe]||t}function Wn(){_t||(H(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),_t=!0)}function qe(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=et()?.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}const Ft="production",Ze="_frozenDsc";function jt(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},s={environment:n.environment||Ft,release:n.release,public_key:r,trace_id:t,org_id:Ve(e)};return e.emit("createDsc",s),s}function Jn(t,e){const n=e.getPropagationContext();return n.dsc||jt(n.traceId,t)}function Qe(t){const e=et();if(!e)return{};const n=wt(t),r=nt(n),s=r.data,i=n.spanContext().traceState,o=i?.get("sentry.sample_rate")??s[Ae]??s[xe];function a(_){return(typeof o=="number"||typeof o=="string")&&(_.sample_rate=`${o}`),_}const c=n[Ze];if(c)return a(c);const u=i?.get("sentry.dsc"),p=u&&we(u);if(p)return a(p);const f=jt(t.spanContext().traceId,e),d=s[Ie],l=r.description;return d!=="url"&&l&&(f.transaction=l),qe()&&(f.sampled=String(We(n)),f.sample_rand=i?.get("sentry.sample_rand")??Pt(n).scope?.getPropagationContext().sampleRand.toString()),a(f),e.emit("createDsc",f,n),f}function b(t,e=100,n=1/0){try{return z("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function tn(t,e=3,n=100*1024){const r=b(t,e);return sn(r)>n?tn(t,e-1,n):r}function z(t,e,n=1/0,r=1/0,s=on()){const[i,o]=s;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const a=en(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&typeof u.toJSON=="function")try{const l=u.toJSON();return z("",l,c-1,r,s)}catch{}const p=Array.isArray(e)?[]:{};let f=0;const d=Dt(e);for(const l in d){if(!Object.prototype.hasOwnProperty.call(d,l))continue;if(f>=r){p[l]="[MaxProperties ~]";break}const _=d[l];p[l]=z(l,_,c-1,r,s),f++}return o(e),p}function en(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Nt(e))return At(e);if(ee(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Jt(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=nn(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function nn(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function rn(t){return~-encodeURI(t).split(/%..|./).length}function sn(t){return rn(JSON.stringify(t))}function on(){const t=new WeakSet;function e(r){return t.has(r)?!0:(t.add(r),!1)}function n(r){t.delete(r)}return[e,n]}const v=0,mt=1,St=2;function an(t){return new N(e=>{e(t)})}function cn(t){return new N((e,n)=>{n(t)})}class N{constructor(e){this._state=v,this._handlers=[],this._runExecutor(e)}then(e,n){return new N((r,s)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new N((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,e&&e()},o=>{i=!0,s=o,e&&e()}).then(()=>{if(i){r(s);return}n(s)})})}_executeHandlers(){if(this._state===v)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===mt&&n[1](this._value),this._state===St&&n[2](this._value),n[0]=!0)})}_runExecutor(e){const n=(i,o)=>{if(this._state===v){if(w(o)){o.then(r,s);return}this._state=i,this._value=o,this._executeHandlers()}},r=i=>{n(mt,i)},s=i=>{n(St,i)};try{e(r,s)}catch(i){s(i)}}}function un(t,e,n,r=0){try{const s=K(e,n,t,r);return w(s)?s:an(s)}catch(s){return cn(s)}}function K(t,e,n,r){const s=n[r];if(!t||!s)return t;const i=s({...t},e);return S&&i===null&&m.log(`Event processor "${s.id||"?"}" dropped event`),w(i)?i.then(o=>K(o,e,n,r+1)):K(i,e,n,r+1)}function fn(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;pn(t,e),r&&_n(t,r),hn(t,n),dn(t,s),ln(t,i)}function yt(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:p,attachments:f,propagationContext:d,transactionName:l,span:_}=e;k(t,"extra",n),k(t,"tags",r),k(t,"user",s),k(t,"contexts",i),t.sdkProcessingMetadata=j(t.sdkProcessingMetadata,a,2),o&&(t.level=o),l&&(t.transactionName=l),_&&(t.span=_),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),p.length&&(t.eventProcessors=[...t.eventProcessors,...p]),f.length&&(t.attachments=[...t.attachments,...f]),t.propagationContext={...t.propagationContext,...d}}function k(t,e,n){t[e]=j(t[e],n,1)}function pn(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e;Object.keys(n).length&&(t.extra={...n,...t.extra}),Object.keys(r).length&&(t.tags={...r,...t.tags}),Object.keys(s).length&&(t.user={...s,...t.user}),Object.keys(i).length&&(t.contexts={...i,...t.contexts}),o&&(t.level=o),a&&t.type!=="transaction"&&(t.transaction=a)}function dn(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function ln(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function _n(t,e){t.contexts={trace:ze(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Qe(e),...t.sdkProcessingMetadata};const n=wt(e),r=nt(n).description;r&&!t.transaction&&t.type==="transaction"&&(t.transaction=r)}function hn(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}let I,Et,bt,E;function gn(t){const e=h._sentryDebugIds,n=h._debugIds;if(!e&&!n)return{};const r=e?Object.keys(e):[],s=n?Object.keys(n):[];if(E&&r.length===Et&&s.length===bt)return E;Et=r.length,bt=s.length,E={},I||(I={});const i=(o,a)=>{for(const c of o){const u=a[c],p=I?.[c];if(p&&E&&u)E[p[0]]=u,I&&(I[c]=[p[0],u]);else if(u){const f=t(c);for(let d=f.length-1;d>=0;d--){const _=f[d]?.filename;if(_&&E&&I){E[_]=u,I[c]=[_,u];break}}}}};return e&&i(r,e),n&&i(s,n),E}function Xn(t,e,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=t,c={...e,event_id:e.event_id||n.event_id||T(),timestamp:e.timestamp||Z()},u=n.integrations||t.integrations.map(g=>g.name);mn(c,t),En(c,u),s&&s.emit("applyFrameMetadata",e),e.type===void 0&&Sn(c,t.stackParser);const p=Tn(r,n.captureContext);n.mechanism&&ue(c,n.mechanism);const f=s?s.getEventProcessors():[],d=Te().getScopeData();if(i){const g=i.getScopeData();yt(d,g)}if(p){const g=p.getScopeData();yt(d,g)}const l=[...n.attachments||[],...d.attachments];l.length&&(n.attachments=l),fn(c,d);const _=[...f,...d.eventProcessors];return un(_,c,n).then(g=>(g&&yn(g),typeof o=="number"&&o>0?bn(g,o,a):g))}function mn(t,e){const{environment:n,release:r,dist:s,maxValueLength:i}=e;t.environment=t.environment||n||Ft,!t.release&&r&&(t.release=r),!t.dist&&s&&(t.dist=s);const o=t.request;o?.url&&i&&(o.url=B(o.url,i)),i&&t.exception?.values?.forEach(a=>{a.value&&(a.value=B(a.value,i))})}function Sn(t,e){const n=gn(e);t.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.filename&&(s.debug_id=n[s.filename])})})}function yn(t){const e={};if(t.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function En(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function bn(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:b(s.data,e,n)}}))},...t.user&&{user:b(t.user,e,n)},...t.contexts&&{contexts:b(t.contexts,e,n)},...t.extra&&{extra:b(t.extra,e,n)}};return t.contexts?.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=b(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(s=>({...s,...s.data&&{data:b(s.data,e,n)}}))),t.contexts?.flags&&r.contexts&&(r.contexts.flags=b(t.contexts.flags,3,n)),r}function Tn(t,e){if(!e)return t;const n=t?t.clone():new y;return n.update(e),n}function qn(t,e){return O().captureException(t,void 0)}function Zn(t,e){return O().captureEvent(t,e)}function Qn(t,e){$().setTag(t,e)}function tr(t){const e=$(),n=O(),{userAgent:r}=h.navigator||{},s=de({user:n.getUser()||e.getUser(),...r&&{userAgent:r},...t}),i=e.getSession();return i?.status==="ok"&&F(i,{status:"exited"}),$t(),e.setSession(s),s}function $t(){const t=$(),n=O().getSession()||t.getSession();n&&le(n),Ut(),t.setSession()}function Ut(){const t=$(),e=et(),n=t.getSession();n&&e&&e.captureSession(n)}function er(t=!1){if(t){$t();return}Ut()}export{On as $,Ct as A,H as B,C,S as D,et as E,wn as F,h as G,Un as H,$n as I,D as J,An as K,Ln as L,rt as M,Cn as N,Q as O,Xt as P,q as Q,kn as R,Kn as S,Pn as T,ie as U,Bn as V,Gn as W,ue as X,qn as Y,Nn as Z,Dn as _,Y as a,Zt as a0,tn as a1,Fn as a2,P as a3,Ht as a4,Yt as a5,re as a6,Mn as a7,jn as a8,tr as a9,er as aa,Zn as ab,xn as ac,Qn as ad,Yn as b,L as c,m as d,cn as e,Z as f,Jt as g,zn as h,oe as i,vn as j,F as k,Ft as l,Hn as m,b as n,Vn as o,Xn as p,Jn as q,an as r,O as s,$ as t,T as u,qt as v,Rn as w,Wn as x,j as y,w as z};
